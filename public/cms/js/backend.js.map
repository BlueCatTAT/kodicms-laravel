{"version":3,"sources":["core.js","app.js","messages.js","filters.js","loader.js","notifications.js","filemanager.js","controllers.js","ui.js","helpers.js","popup.js","api.js","user.meta.js","run.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ADpKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AEneA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"backend.js","sourcesContent":["(function() {\r\n\tif (!String.prototype.endsWith) {\r\n\r\n\t\t/*\r\n\t\t * Determines whether a string ends with the specified suffix.\r\n\t\t * \r\n\t\t * @param  {String} suffix\r\n\t\t * @return Boolean\r\n\t\t */\r\n\t\tString.prototype.endsWith = function(suffix) {\r\n\t\t\treturn this.indexOf(suffix, this.length - suffix.length) !== -1;\r\n\t\t};\r\n\t}\r\n\r\n\tif (!String.prototype.trim) {\r\n\r\n\t\t/*\r\n\t\t * Removes whitespace from both sides of a string.\r\n\t\t * \r\n\t\t * @return {String}\r\n\t\t */\r\n\t\tString.prototype.trim = function() {\r\n\t\t\treturn this.replace(/^\\s+|\\s+$/g, '');\r\n\t\t};\r\n\t}\r\n\r\n\tif (!Array.prototype.indexOf) {\r\n\r\n\t\t/*\r\n\t\t * The indexOf() method returns the first index at which a given element can be found in the array, or -1 if it is not present.\r\n\t\t * \r\n\t\t * @param  {Variant} searchElement\r\n\t\t * @param  {Integer} fromIndex\r\n\t\t * @return {Integer}\r\n\t\t */\r\n\t\tArray.prototype.indexOf = function(searchElement, fromIndex) {\r\n\t\t\tvar i, length, _i;\r\n\t\t\tif (this === void 0 || this === null) {\r\n\t\t\t\tthrow new TypeError('\"this\" is null or not defined');\r\n\t\t\t}\r\n\t\t\tlength = this.length >>> 0;\r\n\t\t\tfromIndex = +fromIndex || 0;\r\n\t\t\tif (Math.abs(fromIndex) === Infinity) {\r\n\t\t\t\tfromIndex = 0;\r\n\t\t\t}\r\n\t\t\tif (fromIndex < 0) {\r\n\t\t\t\tfromIndex += length;\r\n\t\t\t\tif (fromIndex < 0) {\r\n\t\t\t\t\tfromIndex = 0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tfor (i = _i = fromIndex; fromIndex <= length ? _i < length : _i > length; i = fromIndex <= length ? ++_i : --_i) {\r\n\t\t\t\tif (this[i] === searchElement) {\r\n\t\t\t\t\treturn i;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn -1;\r\n\t\t};\r\n\t}\r\n\r\n\tif (!Function.prototype.bind) {\r\n\t\tFunction.prototype.bind = function(oThis) {\r\n\t\t\tvar aArgs, fBound, fNOP, fToBind;\r\n\t\t\tif (typeof this !== \"function\") {\r\n\t\t\t\tthrow new TypeError(\"Function.prototype.bind - what is trying to be bound is not callable\");\r\n\t\t\t}\r\n\t\t\taArgs = Array.prototype.slice.call(arguments, 1);\r\n\t\t\tfToBind = this;\r\n\t\t\tfNOP = function() {\r\n\t\t\t};\r\n\t\t\tfBound = function() {\r\n\t\t\t\treturn fToBind.apply((this instanceof fNOP && oThis ? this : oThis), aArgs.concat(Array.prototype.slice.call(arguments)));\r\n\t\t\t};\r\n\t\t\tfNOP.prototype = this.prototype;\r\n\t\t\tfBound.prototype = new fNOP();\r\n\t\t\treturn fBound;\r\n\t\t};\r\n\t}\r\n\r\n\tif (!Object.keys) {\r\n\t\tObject.keys = (function() {\r\n\t\t\t'use strict';\r\n\t\t\tvar dontEnums, hasDontEnumBug, hasOwnProperty;\r\n\t\t\thasOwnProperty = Object.prototype.hasOwnProperty;\r\n\t\t\thasDontEnumBug = {\r\n\t\t\t\ttoString: null\r\n\t\t\t}.propertyIsEnumerable('toString') ? false : true;\r\n\t\t\tdontEnums = ['toString', 'toLocaleString', 'valueOf', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'constructor'];\r\n\t\t\treturn function(obj) {\r\n\t\t\t\tvar dontEnum, prop, result, _i, _j, _len, _len1;\r\n\t\t\t\tif (typeof obj !== 'object' && (typeof obj !== 'function' || obj === null)) {\r\n\t\t\t\t\tthrow new TypeError('Object.keys called on non-object');\r\n\t\t\t\t}\r\n\t\t\t\tresult = [];\r\n\t\t\t\tfor (_i = 0, _len = obj.length; _i < _len; _i++) {\r\n\t\t\t\t\tprop = obj[_i];\r\n\t\t\t\t\tif (hasOwnProperty.call(obj, prop)) {\r\n\t\t\t\t\t\tresult.push(prop);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (hasDontEnumBug) {\r\n\t\t\t\t\tfor (_j = 0, _len1 = dontEnums.length; _j < _len1; _j++) {\r\n\t\t\t\t\t\tdontEnum = dontEnums[_j];\r\n\t\t\t\t\t\tif (hasOwnProperty.call(obj, dontEnum)) {\r\n\t\t\t\t\t\t\tresult.push(dontEnum);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn result;\r\n\t\t\t};\r\n\t\t}).call(this);\r\n\t}\r\n\r\n\r\n\t/*\r\n\t * Detect screen size.\r\n\t * \r\n\t * @param  {jQuery Object} $ssw_point\r\n\t * @param  {jQuery Object} $tsw_point\r\n\t * @return {String}\r\n\t */\r\n\r\n\twindow.getScreenSize = function($ssw_point, $tsw_point) {\r\n\t\tif ($ssw_point.is(':visible')) {\r\n\t\t\treturn 'small';\r\n\t\t} else if ($tsw_point.is(':visible')) {\r\n\t\t\treturn 'tablet';\r\n\t\t} else {\r\n\t\t\treturn 'desktop';\r\n\t\t}\r\n\t};\r\n\r\n\twindow.elHasClass = function(el, selector) {\r\n\t\treturn (\" \" + el.className + \" \").indexOf(\" \" + selector + \" \") > -1;\r\n\t};\r\n\r\n\twindow.elRemoveClass = function(el, selector) {\r\n\t\treturn el.className = (\" \" + el.className + \" \").replace(\" \" + selector + \" \", ' ').trim();\r\n\t};\r\n\r\n}).call(this);\r\n\r\n(function() {\r\n\tvar KodiCMSApp, SETTINGS_DEFAULTS;\r\n\r\n\tSETTINGS_DEFAULTS = {\r\n\t\tis_mobile: false,\r\n\t\tresize_delay: 400,\r\n\t\tstored_values_prefix: 'cms_',\r\n\t\tconsts: {\r\n\t\t\tCOLORS: ['#71c73e', '#77b7c5', '#d54848', '#6c42e5', '#e8e64e', '#dd56e6', '#ecad3f', '#618b9d', '#b68b68', '#36a766', '#3156be', '#00b3ff', '#646464', '#a946e8', '#9d9d9d']\r\n\t\t}\r\n\t};\r\n\r\n\r\n\t/*\r\n\t * @class KodiCMSApp\r\n\t */\r\n\tKodiCMSApp = function() {\r\n\t\tthis.init = [];\r\n\t\tthis.plugins = {};\r\n\t\tthis.settings = {};\r\n\t\tthis.localStorageSupported = typeof window.Storage !== \"undefined\" ? true : false;\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/*\r\n\t * Start application. Method takes an array of initializers and a settings object(that overrides default settings).\r\n\t * \r\n\t * @param  {Array} suffix\r\n\t * @param  {Object} settings\r\n\t * @return this\r\n\t */\r\n\r\n\tKodiCMSApp.prototype.start = function(init, settings) {\r\n\t\tif (init == null) {\r\n\t\t\tinit = [];\r\n\t\t}\r\n\t\tif (settings == null) {\r\n\t\t\tsettings = {};\r\n\t\t}\r\n\t\t(function(_this) {\r\n\t\t\tvar initilizer, _i, _len, _ref;\r\n\t\t\t$('html').addClass('pxajs');\r\n\t\t\tif (init.length > 0) {\r\n\t\t\t\t$.merge(_this.init, init);\r\n\t\t\t}\r\n\t\t\t_this.settings = $.extend(true, {}, SETTINGS_DEFAULTS, settings || {});\r\n\t\t\t_this.settings.is_mobile = /iphone|ipad|ipod|android|blackberry|mini|windows\\sce|palm/i.test(navigator.userAgent.toLowerCase());\r\n\t\t\tif (_this.settings.is_mobile) {\r\n\t\t\t\tif (FastClick) {\r\n\t\t\t\t\tFastClick.attach(document.body);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t_ref = _this.init;\r\n\t\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n\t\t\t\tinitilizer = _ref[_i];\r\n\t\t\t\t$.proxy(initilizer, _this)();\r\n\t\t\t}\r\n\t\t\t$(window).trigger(\"pa.loaded\");\r\n\t\t\treturn $(window).resize();\r\n\t\t})(this);\r\n\t\treturn this;\r\n\t};\r\n\r\n\r\n\t/*\r\n\t * Add initializer to the stack.\r\n\t * \r\n\t * @param  {Function} callback\r\n\t */\r\n\r\n\tKodiCMSApp.prototype.addInitializer = function(callback) {\r\n\t\treturn this.init.push(callback);\r\n\t};\r\n\r\n\r\n\t/*\r\n\t * Initialize plugin and add it to the plugins list.\r\n\t * \r\n\t * @param  {String} plugin_name\r\n\t * @param  {Instance} plugin\r\n\t */\r\n\tKodiCMSApp.prototype.initPlugin = function(plugin_name, plugin, settings) {\r\n\t\tif (settings != null) {\r\n\t\t\tthis.settings = $.extend(true, {}, this.settings, settings || {});\r\n\t\t}\r\n\t\t\r\n\t\tthis.plugins[plugin_name] = plugin;\r\n\t\tif (plugin.init) {\r\n\t\t\treturn plugin.init();\r\n\t\t}\r\n\t};\r\n\r\n\r\n\t/*\r\n\t * Save value in the localStorage/Cookies.\r\n\t * \r\n\t * @param  {String}  key\r\n\t * @param  {String}  value\r\n\t * @param  {Boolean} use_cookies\r\n\t */\r\n\tKodiCMSApp.prototype.storeValue = function(key, value, use_cookies) {\r\n\t\tvar e;\r\n\t\t\r\n\t\tif (use_cookies == null) {\r\n\t\t\tuse_cookies = false;\r\n\t\t}\r\n\t\tif (this.localStorageSupported && !use_cookies) {\r\n\t\t\ttry {\r\n\t\t\t\twindow.localStorage.setItem(this.settings.stored_values_prefix + key, value);\r\n\t\t\t\treturn;\r\n\t\t\t} catch (_error) {\r\n\t\t\t\te = _error;\r\n\t\t\t\t1;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn document.cookie = this.settings.stored_values_prefix + key + '=' + escape(value);\r\n\t};\r\n\r\n\t/*\r\n\t * Get value from the localStorage/Cookies.\r\n\t * \r\n\t * @param  {String} key\r\n\t * @param  {Boolean} use_cookies\r\n\t */\r\n\tKodiCMSApp.prototype.getStoredValue = function(key, use_cookies, deflt) {\r\n\t\t\r\n\t\tvar cookie, cookies, e, k, pos, r, v, _i, _len;\r\n\t\tif (use_cookies == null) {\r\n\t\t\tuse_cookies = false;\r\n\t\t}\r\n\t\tif (deflt == null) {\r\n\t\t\tdeflt = null;\r\n\t\t}\r\n\t\tif (this.localStorageSupported && !use_cookies) {\r\n\t\t\ttry {\r\n\t\t\t\tr = window.localStorage.getItem(this.settings.stored_values_prefix + key);\r\n\t\t\t\treturn (r ? r : deflt);\r\n\t\t\t} catch (_error) {\r\n\t\t\t\te = _error;\r\n\t\t\t\t1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tcookies = document.cookie.split(';');\r\n\t\tfor (_i = 0, _len = cookies.length; _i < _len; _i++) {\r\n\t\t\tcookie = cookies[_i];\r\n\t\t\tpos = cookie.indexOf('=');\r\n\t\t\tk = cookie.substr(0, pos).replace(/^\\s+|\\s+$/g, '');\r\n\t\t\tv = cookie.substr(pos + 1).replace(/^\\s+|\\s+$/g, '');\r\n\t\t\tif (k === (this.settings.stored_values_prefix + key)) {\r\n\t\t\t\treturn v;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn deflt;\r\n\t};\r\n\r\n\tKodiCMSApp.Constructor = KodiCMSApp;\r\n\r\n\twindow.KodiCMS = new KodiCMSApp;\r\n\r\n}).call(this);\r\n\r\n(function() {\r\n\tvar delayedResizeHandler;\r\n\r\n\tdelayedResizeHandler = function(callback) {\r\n\t\tvar resizeTimer;\r\n\t\tresizeTimer = null;\r\n\t\treturn function() {\r\n\t\t\tif (resizeTimer) {\r\n\t\t\t\tclearTimeout(resizeTimer);\r\n\t\t\t}\r\n\t\t\treturn resizeTimer = setTimeout(function() {\r\n\t\t\t\tresizeTimer = null;\r\n\t\t\t\treturn callback.call(this);\r\n\t\t\t}, KodiCMS.settings.resize_delay);\r\n\t\t};\r\n\t};\r\n\r\n\tKodiCMS.addInitializer(function() {\r\n\t\tvar $ssw_point, $tsw_point, $window, _last_screen;\r\n\t\t_last_screen = null;\r\n\t\t$window = $(window);\r\n\t\t$ssw_point = $('<div id=\"small-screen-width-point\" style=\"position:absolute;top:-10000px;width:10px;height:10px;background:#fff;\"></div>');\r\n\t\t$tsw_point = $('<div id=\"tablet-screen-width-point\" style=\"position:absolute;top:-10000px;width:10px;height:10px;background:#fff;\"></div>');\r\n\t\t$('body').append($ssw_point).append($tsw_point);\r\n\t\treturn $window.on('resize', delayedResizeHandler(function() {\r\n\t\t\t$window.trigger(\"pa.resize\");\r\n\t\t\tif ($ssw_point.is(':visible')) {\r\n\t\t\t\tif (_last_screen !== 'small') {\r\n\t\t\t\t\t$window.trigger(\"pa.screen.small\");\r\n\t\t\t\t}\r\n\t\t\t\treturn _last_screen = 'small';\r\n\t\t\t} else if ($tsw_point.is(':visible')) {\r\n\t\t\t\tif (_last_screen !== 'tablet') {\r\n\t\t\t\t\t$window.trigger(\"pa.screen.tablet\");\r\n\t\t\t\t}\r\n\t\t\t\treturn _last_screen = 'tablet';\r\n\t\t\t} else {\r\n\t\t\t\tif (_last_screen !== 'desktop') {\r\n\t\t\t\t\t$window.trigger(\"pa.screen.desktop\");\r\n\t\t\t\t}\r\n\t\t\t\treturn _last_screen = 'desktop';\r\n\t\t\t}\r\n\t\t}));\r\n\t});\r\n\r\n}).call(this);\r\n\r\n\r\n/*\r\n * Class that provides the top navbar functionality.\r\n *\r\n * @class MainNavbar\r\n */\r\n\r\n(function() {\r\n\tKodiCMS.MainNavbar = function() {\r\n\t\tthis._scroller = false;\r\n\t\tthis._wheight = null;\r\n\t\tthis.scroll_pos = 0;\r\n\t\treturn this;\r\n\t};\r\n\r\n\r\n\t/*\r\n\t * Initialize plugin.\r\n\t */\r\n\r\n\tKodiCMS.MainNavbar.prototype.init = function() {\r\n\t\tvar is_mobile;\r\n\t\tthis.$navbar = $('#main-navbar');\r\n\t\tthis.$header = this.$navbar.find('.navbar-header');\r\n\t\tthis.$toggle = this.$navbar.find('.navbar-toggle:first');\r\n\t\tthis.$collapse = $('#main-navbar-collapse');\r\n\t\tthis.$collapse_div = this.$collapse.find('> div');\r\n\t\tis_mobile = false;\r\n\t\t$(window).on('pa.screen.small pa.screen.tablet', (function(_this) {\r\n\t\t\treturn function() {\r\n\t\t\t\tif (_this.$navbar.css('position') === 'fixed') {\r\n\t\t\t\t\t_this._setupScroller();\r\n\t\t\t\t}\r\n\t\t\t\treturn is_mobile = true;\r\n\t\t\t};\r\n\t\t})(this)).on('pa.screen.desktop', (function(_this) {\r\n\t\t\treturn function() {\r\n\t\t\t\t_this._removeScroller();\r\n\t\t\t\treturn is_mobile = false;\r\n\t\t\t};\r\n\t\t})(this));\r\n\t\treturn this.$navbar.on('click', '.nav-icon-btn.dropdown > .dropdown-toggle', function(e) {\r\n\t\t\tif (is_mobile) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\tdocument.location.href = $(this).attr('href');\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\r\n\t/*\r\n\t * Attach scroller to navbar collapse.\r\n\t */\r\n\r\n\tKodiCMS.MainNavbar.prototype._setupScroller = function() {\r\n\t\tif (this._scroller) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._scroller = true;\r\n\t\tthis.$collapse_div.pixelSlimScroll({});\r\n\t\tthis.$navbar.on('shown.bs.collapse.mn_collapse', $.proxy(((function(_this) {\r\n\t\t\treturn function() {\r\n\t\t\t\t_this._updateCollapseHeight();\r\n\t\t\t\treturn _this._watchWindowHeight();\r\n\t\t\t};\r\n\t\t})(this)), this)).on('hidden.bs.collapse.mn_collapse', $.proxy(((function(_this) {\r\n\t\t\treturn function() {\r\n\t\t\t\t_this._wheight = null;\r\n\t\t\t\treturn _this.$collapse_div.pixelSlimScroll({\r\n\t\t\t\t\tscrollTo: '0px'\r\n\t\t\t\t});\r\n\t\t\t};\r\n\t\t})(this)), this)).on('shown.bs.dropdown.mn_collapse', $.proxy(this._updateCollapseHeight, this)).on('hidden.bs.dropdown.mn_collapse', $.proxy(this._updateCollapseHeight, this));\r\n\t\treturn this._updateCollapseHeight();\r\n\t};\r\n\r\n\r\n\t/*\r\n\t * Detach scroller from navbar collapse.\r\n\t */\r\n\r\n\tKodiCMS.MainNavbar.prototype._removeScroller = function() {\r\n\t\tif (!this._scroller) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis._wheight = null;\r\n\t\tthis._scroller = false;\r\n\t\tthis.$collapse_div.pixelSlimScroll({\r\n\t\t\tdestroy: 'destroy'\r\n\t\t});\r\n\t\tthis.$navbar.off('shown.bs.collapse.mn_collapse');\r\n\t\tthis.$navbar.off('hidden.bs.collapse.mn_collapse');\r\n\t\tthis.$navbar.off('shown.bs.dropdown.mn_collapse');\r\n\t\tthis.$navbar.off('hidden.bs.dropdown.mn_collapse');\r\n\t\treturn this.$collapse.attr('style', '');\r\n\t};\r\n\r\n\r\n\t/*\r\n\t * Update navbar collapse height.\r\n\t */\r\n\r\n\tKodiCMS.MainNavbar.prototype._updateCollapseHeight = function() {\r\n\t\tvar h_height, scrollTop, w_height;\r\n\t\tif (!this._scroller) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tw_height = $(window).innerHeight();\r\n\t\th_height = this.$header.outerHeight();\r\n\t\tscrollTop = this.$collapse_div.scrollTop();\r\n\t\tif ((h_height + this.$collapse_div.css({\r\n\t\t\t'max-height': 'none'\r\n\t\t}).outerHeight()) > w_height) {\r\n\t\t\tthis.$collapse_div.css({\r\n\t\t\t\t'max-height': w_height - h_height\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.$collapse_div.css({\r\n\t\t\t\t'max-height': 'none'\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this.$collapse_div.pixelSlimScroll({\r\n\t\t\tscrollTo: scrollTop + 'px'\r\n\t\t});\r\n\t};\r\n\r\n\r\n\t/*\r\n\t * Detecting a change of the window height.\r\n\t */\r\n\r\n\tKodiCMS.MainNavbar.prototype._watchWindowHeight = function() {\r\n\t\tvar checkWindowInnerHeight;\r\n\t\tthis._wheight = $(window).innerHeight();\r\n\t\tcheckWindowInnerHeight = (function(_this) {\r\n\t\t\treturn function() {\r\n\t\t\t\tif (_this._wheight === null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif (_this._wheight !== $(window).innerHeight()) {\r\n\t\t\t\t\t_this._updateCollapseHeight();\r\n\t\t\t\t}\r\n\t\t\t\t_this._wheight = $(window).innerHeight();\r\n\t\t\t\treturn setTimeout(checkWindowInnerHeight, 100);\r\n\t\t\t};\r\n\t\t})(this);\r\n\t\treturn window.setTimeout(checkWindowInnerHeight, 100);\r\n\t};\r\n\r\n\tKodiCMS.MainNavbar.Constructor = KodiCMS.MainNavbar;\r\n\r\n\tKodiCMS.addInitializer(function() {\r\n\t\treturn KodiCMS.initPlugin('main_navbar', new KodiCMS.MainNavbar);\r\n\t});\r\n\r\n}).call(this);\r\n\r\n/*\r\n * Class that provides the main menu functionality.\r\n *\r\n * @class MainMenu\r\n */\r\n\r\n(function() {\r\n\tKodiCMS.MainMenu = function() {\r\n\t\tthis._screen = null;\r\n\t\tthis._last_screen = null;\r\n\t\tthis._animate = false;\r\n\t\tthis._close_timer = null;\r\n\t\tthis._dropdown_li = null;\r\n\t\tthis._dropdown = null;\r\n\t\t\r\n\t\treturn this;\r\n\t};\r\n\r\n\t/*\r\n\t * Initialize plugin.\r\n\t */\r\n\r\n\tKodiCMS.MainMenu.prototype.init = function() {\r\n\t\tvar self, state;\r\n\t\tthis.$menu = $('#main-menu');\r\n\t\tif (!this.$menu.length) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.$body = $('body');\r\n\t\tthis.menu = this.$menu[0];\r\n\t\tthis.$ssw_point = $('#small-screen-width-point');\r\n\t\tthis.$tsw_point = $('#tablet-screen-width-point');\r\n\t\tself = this;\r\n\t\tif (KodiCMS.settings.main_menu.store_state) {\r\n\t\t\tstate = this._getMenuState();\r\n\t\t\tdocument.body.className += ' disable-mm-animation';\r\n\t\t\tif (state !== null) {\r\n\t\t\t\tthis.$body[state === 'collapsed' ? 'addClass' : 'removeClass']('mmc');\r\n\t\t\t}\r\n\t\t\tsetTimeout((function(_this) {\r\n\t\t\t\treturn function() {\r\n\t\t\t\t\treturn elRemoveClass(document.body, 'disable-mm-animation');\r\n\t\t\t\t};\r\n\t\t\t})(this), 20);\r\n\t\t}\r\n\t\t\r\n\t\t$('.navigation > li:has(ul)', this.$menu).each(function() {\r\n\t\t\tif($('> ul > li', this).size() < 1)\r\n\t\t\t\t$(this).remove();\r\n\t\t});\r\n\t\tthis.setupAnimation();\r\n\t\t$(window).on('resize.pa.mm', $.proxy(this.onResize, this));\r\n\t\tthis.onResize();\r\n\t\tthis.$menu.find('.navigation > .mm-dropdown').addClass('mm-dropdown-root');\r\n\t\tif (KodiCMS.settings.main_menu.detect_active) {\r\n\t\t\tthis.detectActiveItem();\r\n\t\t}\r\n\t\tif ($.support.transition) {\r\n\t\t\tthis.$menu.on('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd', $.proxy(this._onAnimationEnd, this));\r\n\t\t}\r\n\t\t$('#main-menu-toggle').on('click', $.proxy(this.toggle, this));\r\n\t\t$('#main-menu-inner').slimScroll({\r\n\t\t\theight: '100%'\r\n\t\t}).on('slimscrolling', (function(_this) {\r\n\t\t\treturn function() {\r\n\t\t\t\treturn _this.closeCurrentDropdown(true);\r\n\t\t\t};\r\n\t\t})(this));\r\n\t\tthis.$menu.on('click', '.mm-dropdown > a', function() {\r\n\t\t\tvar li;\r\n\t\t\tli = this.parentNode;\r\n\t\t\tif (elHasClass(li, 'mm-dropdown-root') && self._collapsed()) {\r\n\t\t\t\tif (elHasClass(li, 'mmc-dropdown-open')) {\r\n\t\t\t\t\tif (elHasClass(li, 'freeze')) {\r\n\t\t\t\t\t\tself.closeCurrentDropdown(true);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tself.freezeDropdown(li);\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tself.openDropdown(li, true);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tself.toggleSubmenu(li);\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t});\r\n\t\tthis.$menu.find('.navigation').on('mouseenter.pa.mm-dropdown', '.mm-dropdown-root', function() {\r\n\t\t\tself.clearCloseTimer();\r\n\t\t\tif (self._dropdown_li === this) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tif (self._collapsed() && (!self._dropdown_li || !elHasClass(self._dropdown_li, 'freeze'))) {\r\n\t\t\t\treturn self.openDropdown(this);\r\n\t\t\t}\r\n\t\t}).on('mouseleave.pa.mm-dropdown', '.mm-dropdown-root', function() {\r\n\t\t\treturn self._close_timer = setTimeout(function() {\r\n\t\t\t\treturn self.closeCurrentDropdown();\r\n\t\t\t}, KodiCMS.settings.main_menu.dropdown_close_delay);\r\n\t\t});\r\n\t\treturn this;\r\n\t};\r\n\r\n\tKodiCMS.MainMenu.prototype._collapsed = function() {\r\n\t\treturn (this._screen === 'desktop' && elHasClass(document.body, 'mmc')) || (this._screen !== 'desktop' && !elHasClass(document.body, 'mme'));\r\n\t};\r\n\r\n\tKodiCMS.MainMenu.prototype.onResize = function() {\r\n\t\tthis._screen = getScreenSize(this.$ssw_point, this.$tsw_point);\r\n\t\tthis._animate = KodiCMS.settings.main_menu.disable_animation_on.indexOf(screen) === -1;\r\n\t\tif (this._dropdown_li) {\r\n\t\t\tthis.closeCurrentDropdown(true);\r\n\t\t}\r\n\t\tif ((this._screen === 'small' && this._last_screen !== this._screen) || (this._screen === 'tablet' && this._last_screen === 'small')) {\r\n\t\t\tdocument.body.className += ' disable-mm-animation';\r\n\t\t\tsetTimeout((function(_this) {\r\n\t\t\t\treturn function() {\r\n\t\t\t\t\treturn elRemoveClass(document.body, 'disable-mm-animation');\r\n\t\t\t\t};\r\n\t\t\t})(this), 20);\r\n\t\t}\r\n\t\treturn this._last_screen = this._screen;\r\n\t};\r\n\r\n\tKodiCMS.MainMenu.prototype.clearCloseTimer = function() {\r\n\t\tif (this._close_timer) {\r\n\t\t\tclearTimeout(this._close_timer);\r\n\t\t\treturn this._close_timer = null;\r\n\t\t}\r\n\t};\r\n\r\n\tKodiCMS.MainMenu.prototype._onAnimationEnd = function(e) {\r\n\t\tif (this._screen !== 'desktop' || e.target.id !== 'main-menu') {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\treturn $(window).trigger('resize');\r\n\t};\r\n\r\n\tKodiCMS.MainMenu.prototype.toggle = function() {\r\n\t\tvar cls, collapse;\r\n\t\tcls = this._screen === 'small' || this._screen === 'tablet' ? 'mme' : 'mmc';\r\n\t\tif (elHasClass(document.body, cls)) {\r\n\t\t\telRemoveClass(document.body, cls);\r\n\t\t} else {\r\n\t\t\tdocument.body.className += ' ' + cls;\r\n\t\t}\r\n\t\tif (cls === 'mmc') {\r\n\t\t\tif (KodiCMS.settings.main_menu.store_state) {\r\n\t\t\t\tthis._storeMenuState(elHasClass(document.body, 'mmc'));\r\n\t\t\t}\r\n\t\t\tif (!$.support.transition) {\r\n\t\t\t\treturn $(window).trigger('resize');\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tcollapse = document.getElementById('');\r\n\t\t\t$('#main-navbar-collapse').stop().removeClass('in collapsing').addClass('collapse')[0].style.height = '0px';\r\n\t\t\treturn $('#main-navbar .navbar-toggle').addClass('collapsed');\r\n\t\t}\r\n\t};\r\n\r\n\tKodiCMS.MainMenu.prototype.toggleSubmenu = function(li) {\r\n\t\tthis[elHasClass(li, 'open') ? 'collapseSubmenu' : 'expandSubmenu'](li);\r\n\t\treturn false;\r\n\t};\r\n\r\n\tKodiCMS.MainMenu.prototype.collapseSubmenu = function(li) {\r\n\t\tvar $li, $ul;\r\n\t\t$li = $(li);\r\n\t\t$ul = $li.find('> ul');\r\n\t\tif (this._animate) {\r\n\t\t\t$ul.animate({\r\n\t\t\t\theight: 0\r\n\t\t\t}, KodiCMS.settings.main_menu.animation_speed, (function(_this) {\r\n\t\t\t\treturn function() {\r\n\t\t\t\t\telRemoveClass(li, 'open');\r\n\t\t\t\t\t$ul.attr('style', '');\r\n\t\t\t\t\treturn $li.find('.mm-dropdown.open').removeClass('open').find('> ul').attr('style', '');\r\n\t\t\t\t};\r\n\t\t\t})(this));\r\n\t\t} else {\r\n\t\t\telRemoveClass(li, 'open');\r\n\t\t}\r\n\t\treturn false;\r\n\t};\r\n\r\n\tKodiCMS.MainMenu.prototype.expandSubmenu = function(li) {\r\n\t\tvar $li, $ul, h, ul;\r\n\t\t$li = $(li);\r\n\t\tif (KodiCMS.settings.main_menu.accordion) {\r\n\t\t\tthis.collapseAllSubmenus(li);\r\n\t\t}\r\n\t\tif (this._animate) {\r\n\t\t\t$ul = $li.find('> ul');\r\n\t\t\tul = $ul[0];\r\n\t\t\tul.className += ' get-height';\r\n\t\t\th = $ul.height();\r\n\t\t\telRemoveClass(ul, 'get-height');\r\n\t\t\tul.style.display = 'block';\r\n\t\t\tul.style.height = '0px';\r\n\t\t\tli.className += ' open';\r\n\t\t\treturn $ul.animate({\r\n\t\t\t\theight: h\r\n\t\t\t}, KodiCMS.settings.main_menu.animation_speed, (function(_this) {\r\n\t\t\t\treturn function() {\r\n\t\t\t\t\treturn $ul.attr('style', '');\r\n\t\t\t\t};\r\n\t\t\t})(this));\r\n\t\t} else {\r\n\t\t\treturn li.className += ' open';\r\n\t\t}\r\n\t};\r\n\r\n\tKodiCMS.MainMenu.prototype.collapseAllSubmenus = function(li) {\r\n\t\tvar self;\r\n\t\tself = this;\r\n\t\treturn $(li).parent().find('> .mm-dropdown.open').each(function() {\r\n\t\t\treturn self.collapseSubmenu(this);\r\n\t\t});\r\n\t};\r\n\r\n\tKodiCMS.MainMenu.prototype.openDropdown = function(li, freeze) {\r\n\t\tvar $li, $title, $ul, $wrapper, max_height, min_height, title_h, top, ul, w_height, wrapper;\r\n\t\tif (freeze == null) {\r\n\t\t\tfreeze = false;\r\n\t\t}\r\n\t\tif (this._dropdown_li) {\r\n\t\t\tthis.closeCurrentDropdown(freeze);\r\n\t\t}\r\n\t\t$li = $(li);\r\n\t\t$ul = $li.find('> ul');\r\n\t\tul = $ul[0];\r\n\t\tthis._dropdown_li = li;\r\n\t\tthis._dropdown = ul;\r\n\t\t$title = $ul.find('> .mmc-title');\r\n\t\tif (!$title.length) {\r\n\t\t\t$title = $('<div class=\"mmc-title\"></div>').text($li.find('> a > .mm-text').text());\r\n\t\t\tul.insertBefore($title[0], ul.firstChild);\r\n\t\t}\r\n\t\tli.className += ' mmc-dropdown-open';\r\n\t\tul.className += ' mmc-dropdown-open-ul';\r\n\t\ttop = $li.position().top;\r\n\t\tif (elHasClass(document.body, 'main-menu-fixed')) {\r\n\t\t\t$wrapper = $ul.find('.mmc-wrapper');\r\n\t\t\tif (!$wrapper.length) {\r\n\t\t\t\twrapper = document.createElement('div');\r\n\t\t\t\twrapper.className = 'mmc-wrapper';\r\n\t\t\t\twrapper.style.overflow = 'hidden';\r\n\t\t\t\twrapper.style.position = 'relative';\r\n\t\t\t\t$wrapper = $(wrapper);\r\n\t\t\t\t$wrapper.append($ul.find('> li'));\r\n\t\t\t\tul.appendChild(wrapper);\r\n\t\t\t}\r\n\t\t\tw_height = $(window).innerHeight();\r\n\t\t\ttitle_h = $title.outerHeight();\r\n\t\t\tmin_height = title_h + $ul.find('.mmc-wrapper > li').first().outerHeight() * 3;\r\n\t\t\tif ((top + min_height) > w_height) {\r\n\t\t\t\tmax_height = top - $('#main-navbar').outerHeight();\r\n\t\t\t\tul.className += ' top';\r\n\t\t\t\tul.style.bottom = (w_height - top - title_h) + 'px';\r\n\t\t\t} else {\r\n\t\t\t\tmax_height = w_height - top - title_h;\r\n\t\t\t\tul.style.top = top + 'px';\r\n\t\t\t}\r\n\t\t\tif (elHasClass(ul, 'top')) {\r\n\t\t\t\tul.appendChild($title[0]);\r\n\t\t\t} else {\r\n\t\t\t\tul.insertBefore($title[0], ul.firstChild);\r\n\t\t\t}\r\n\t\t\tli.className += ' slimscroll-attached';\r\n\t\t\t$wrapper[0].style.maxHeight = (max_height - 10) + 'px';\r\n\t\t\t$wrapper.pixelSlimScroll({});\r\n\t\t} else {\r\n\t\t\tul.style.top = top + 'px';\r\n\t\t}\r\n\t\tif (freeze) {\r\n\t\t\tthis.freezeDropdown(li);\r\n\t\t}\r\n\t\tif (!freeze) {\r\n\t\t\t$ul.on('mouseenter', (function(_this) {\r\n\t\t\t\treturn function() {\r\n\t\t\t\t\treturn _this.clearCloseTimer();\r\n\t\t\t\t};\r\n\t\t\t})(this)).on('mouseleave', (function(_this) {\r\n\t\t\t\treturn function() {\r\n\t\t\t\t\treturn _this._close_timer = setTimeout(function() {\r\n\t\t\t\t\t\treturn _this.closeCurrentDropdown();\r\n\t\t\t\t\t}, KodiCMS.settings.main_menu.dropdown_close_delay);\r\n\t\t\t\t};\r\n\t\t\t})(this));\r\n\t\t\tthis;\r\n\t\t}\r\n\t\treturn this.menu.appendChild(ul);\r\n\t};\r\n\r\n\tKodiCMS.MainMenu.prototype.closeCurrentDropdown = function(force) {\r\n\t\tvar $dropdown, $wrapper;\r\n\t\tif (force == null) {\r\n\t\t\tforce = false;\r\n\t\t}\r\n\t\tif (!this._dropdown_li || (elHasClass(this._dropdown_li, 'freeze') && !force)) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.clearCloseTimer();\r\n\t\t$dropdown = $(this._dropdown);\r\n\t\tif (elHasClass(this._dropdown_li, 'slimscroll-attached')) {\r\n\t\t\telRemoveClass(this._dropdown_li, 'slimscroll-attached');\r\n\t\t\t$wrapper = $dropdown.find('.mmc-wrapper');\r\n\t\t\t$wrapper.pixelSlimScroll({\r\n\t\t\t\tdestroy: 'destroy'\r\n\t\t\t}).find('> *').appendTo($dropdown);\r\n\t\t\t$wrapper.remove();\r\n\t\t}\r\n\t\tthis._dropdown_li.appendChild(this._dropdown);\r\n\t\telRemoveClass(this._dropdown, 'mmc-dropdown-open-ul');\r\n\t\telRemoveClass(this._dropdown, 'top');\r\n\t\telRemoveClass(this._dropdown_li, 'mmc-dropdown-open');\r\n\t\telRemoveClass(this._dropdown_li, 'freeze');\r\n\t\t$(this._dropdown_li).attr('style', '');\r\n\t\t$dropdown.attr('style', '').off('mouseenter').off('mouseleave');\r\n\t\tthis._dropdown = null;\r\n\t\treturn this._dropdown_li = null;\r\n\t};\r\n\r\n\tKodiCMS.MainMenu.prototype.freezeDropdown = function(li) {\r\n\t\treturn li.className += ' freeze';\r\n\t};\r\n\r\n\tKodiCMS.MainMenu.prototype.setupAnimation = function() {\r\n\t\tvar $mm, $mm_nav, d_body, dsbl_animation_on;\r\n\t\td_body = document.body;\r\n\t\tdsbl_animation_on = KodiCMS.settings.main_menu.disable_animation_on;\r\n\t\td_body.className += ' dont-animate-mm-content';\r\n\t\t$mm = $('#main-menu');\r\n\t\t$mm_nav = $mm.find('.navigation');\r\n\t\t$mm_nav.find('> .mm-dropdown > ul').addClass('mmc-dropdown-delay animated');\r\n\t\t$mm_nav.find('> li > a > .mm-text').addClass('mmc-dropdown-delay animated fadeIn');\r\n\t\t$mm.find('.menu-content').addClass('animated fadeIn');\r\n\t\tif (elHasClass(d_body, 'main-menu-right') || (elHasClass(d_body, 'right-to-left') && !elHasClass(d_body, 'main-menu-right'))) {\r\n\t\t\t$mm_nav.find('> .mm-dropdown > ul').addClass('fadeInRight');\r\n\t\t} else {\r\n\t\t\t$mm_nav.find('> .mm-dropdown > ul').addClass('fadeInLeft');\r\n\t\t}\r\n\t\td_body.className += dsbl_animation_on.indexOf('small') === -1 ? ' animate-mm-sm' : ' dont-animate-mm-content-sm';\r\n\t\td_body.className += dsbl_animation_on.indexOf('tablet') === -1 ? ' animate-mm-md' : ' dont-animate-mm-content-md';\r\n\t\td_body.className += dsbl_animation_on.indexOf('desktop') === -1 ? ' animate-mm-lg' : ' dont-animate-mm-content-lg';\r\n\t\treturn window.setTimeout(function() {\r\n\t\t\treturn elRemoveClass(d_body, 'dont-animate-mm-content');\r\n\t\t}, 500);\r\n\t};\r\n\r\n\tKodiCMS.MainMenu.prototype.detectActiveItem = function() {\r\n\t\tvar a, bubble, links, nav, predicate, url, _i, _len, _results;\r\n\t\turl = (document.location + '').replace(/\\#.*?$/, '');\r\n\t\tpredicate = KodiCMS.settings.main_menu.detect_active_predicate;\r\n\t\tnav = $('#main-menu .navigation');\r\n\t\tnav.find('li').removeClass('open active');\r\n\t\tlinks = nav[0].getElementsByTagName('a');\r\n\t\tbubble = (function(_this) {\r\n\t\t\treturn function(li) {\r\n\t\t\t\tli.className += ' active';\r\n\t\t\t\tif (!elHasClass(li.parentNode, 'navigation')) {\r\n\t\t\t\t\tli = li.parentNode.parentNode;\r\n\t\t\t\t\tli.className += ' open';\r\n\t\t\t\t\treturn bubble(li);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t})(this);\r\n\t\t_results = [];\r\n\t\tfor (_i = 0, _len = links.length; _i < _len; _i++) {\r\n\t\t\ta = links[_i];\r\n\t\t\tif (a.href.indexOf('#') === -1 && predicate(a.href, url)) {\r\n\t\t\t\tbubble(a.parentNode);\r\n\t\t\t\tbreak;\r\n\t\t\t} else {\r\n\t\t\t\t_results.push(void 0);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn _results;\r\n\t};\r\n\r\n\r\n\t/*\r\n\t * Load menu state.\r\n\t */\r\n\tKodiCMS.MainMenu.prototype._getMenuState = function() {\r\n\t\treturn KodiCMS.getStoredValue(KodiCMS.settings.main_menu.store_state_key);\r\n\t};\r\n\r\n\r\n\t/*\r\n\t * Store menu state.\r\n\t */\r\n\tKodiCMS.MainMenu.prototype._storeMenuState = function(is_collapsed) {\r\n\t\tif (!KodiCMS.settings.main_menu.store_state) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\treturn KodiCMS.storeValue(KodiCMS.settings.main_menu.store_state_key, is_collapsed ? 'collapsed' : 'expanded');\r\n\t};\r\n\r\n\tKodiCMS.MainMenu.Constructor = KodiCMS.MainMenu;\r\n\r\n\tKodiCMS.addInitializer(function() {\r\n\t\treturn KodiCMS.initPlugin('main_menu', new KodiCMS.MainMenu, {\r\n\t\t\tmain_menu: {\r\n\t\t\t\taccordion: true,\r\n\t\t\t\tanimation_speed: 250,\r\n\t\t\t\tstore_state: true,\r\n\t\t\t\tstore_state_key: 'mmstate',\r\n\t\t\t\tdisable_animation_on: ['small'],\r\n\t\t\t\tdropdown_close_delay: 300,\r\n\t\t\t\tdetect_active: true,\r\n\t\t\t\tdetect_active_predicate: function(href, url) {\r\n\t\t\t\t\tif(href == url)\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\telse if(BASE_URL == href && href == url)\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\telse if(BASE_URL != href && url.indexOf(href) != -1)\r\n\t\t\t\t\t\treturn true;\r\n\t\t//\t\t\telse if(url.indexOf(href) != -1)\r\n\t\t//\t\t\t\treturn true;\r\n\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n}).call(this);\r\n\r\n(function($) {\r\n\tjQuery.fn.extend({\r\n\t\tpixelSlimScroll: function(options) {\r\n\t\t\tvar defaults = {\r\n\t\t\t\t// width in pixels of the visible scroll area\r\n\t\t\t\twidth: 'auto',\r\n\t\t\t\t// width in pixels of the scrollbar and rail\r\n\t\t\t\tsize: '2px',\r\n\t\t\t\t// scrollbar color, accepts any hex/color value\r\n\t\t\t\tcolor: '#000',\r\n\t\t\t\t// distance in pixels between the side edge and the scrollbar\r\n\t\t\t\tdistance: '1px',\r\n\t\t\t\t// default scroll position on load - top / bottom / $('selector')\r\n\t\t\t\tstart: 'top',\r\n\t\t\t\t// sets scrollbar opacity\r\n\t\t\t\topacity: .4,\r\n\t\t\t\t// sets rail color\r\n\t\t\t\trailColor: '#333',\r\n\t\t\t\t// sets rail opacity\r\n\t\t\t\trailOpacity: .2,\r\n\t\t\t\t// defautlt CSS class of the slimscroll rail\r\n\t\t\t\trailClass: 'slimScrollRail',\r\n\t\t\t\t// defautlt CSS class of the slimscroll bar\r\n\t\t\t\tbarClass: 'slimScrollBar',\r\n\t\t\t\t// defautlt CSS class of the slimscroll wrapper\r\n\t\t\t\twrapperClass: 'slimScrollDiv',\r\n\t\t\t\t// check if mousewheel should scroll the window if we reach top/bottom\r\n\t\t\t\tallowPageScroll: false,\r\n\t\t\t\t// scroll amount applied to each mouse wheel step\r\n\t\t\t\twheelStep: 20,\r\n\t\t\t\t// scroll amount applied when user is using gestures\r\n\t\t\t\ttouchScrollStep: 200,\r\n\t\t\t\t// sets border radius\r\n\t\t\t\tborderRadius: '0px',\r\n\t\t\t\t// sets border radius of the rail\r\n\t\t\t\trailBorderRadius: '0px'\r\n\t\t\t};\r\n\r\n\t\t\tvar o = $.extend(defaults, options);\r\n\r\n\t\t\t// do it for every element that matches selector\r\n\t\t\tthis.each(function() {\r\n\r\n\t\t\t\tvar isOverPanel, isOverBar, isDragg, queueHide, touchDif,\r\n\t\t\t\t\t\tbarHeight, percentScroll, lastScroll,\r\n\t\t\t\t\t\tdivS = '<div></div>',\r\n\t\t\t\t\t\tminBarHeight = 30,\r\n\t\t\t\t\t\treleaseScroll = false;\r\n\r\n\t\t\t\t// used in event handlers and for better minification\r\n\t\t\t\tvar me = $(this);\r\n\r\n\t\t\t\t// ensure we are not binding it again\r\n\t\t\t\tif (me.parent().hasClass(o.wrapperClass))\r\n\t\t\t\t{\r\n\t\t\t\t\t// start from last bar position\r\n\t\t\t\t\tvar offset = me.scrollTop();\r\n\r\n\t\t\t\t\t// find bar and rail\r\n\t\t\t\t\tbar = me.parent().find('.' + o.barClass);\r\n\t\t\t\t\trail = me.parent().find('.' + o.railClass);\r\n\r\n\t\t\t\t\tgetBarHeight();\r\n\r\n\t\t\t\t\t// check if we should scroll existing instance\r\n\t\t\t\t\tif ($.isPlainObject(options))\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif ('scrollTo' in options)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// jump to a static point\r\n\t\t\t\t\t\t\toffset = parseInt(o.scrollTo);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if ('scrollBy' in options)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// jump by value pixels\r\n\t\t\t\t\t\t\toffset += parseInt(o.scrollBy);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse if ('destroy' in options)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t// remove slimscroll elements\r\n\t\t\t\t\t\t\tbar.remove();\r\n\t\t\t\t\t\t\trail.remove();\r\n\t\t\t\t\t\t\tme.unwrap();\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// scroll content by the given offset\r\n\t\t\t\t\t\tscrollContent(offset, false, true);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// wrap content\r\n\t\t\t\tvar wrapper = $(divS)\r\n\t\t\t\t\t\t.addClass(o.wrapperClass)\r\n\t\t\t\t\t\t.css({\r\n\t\t\t\t\t\t\tposition: 'relative',\r\n\t\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\t\twidth: o.width\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t// update style for the div\r\n\t\t\t\tme.css({\r\n\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\twidth: o.width\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// create scrollbar rail\r\n\t\t\t\tvar rail = $(divS)\r\n\t\t\t\t\t\t.addClass(o.railClass)\r\n\t\t\t\t\t\t.css({\r\n\t\t\t\t\t\t\twidth: o.size,\r\n\t\t\t\t\t\t\theight: '100%',\r\n\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\tdisplay: 'none',\r\n\t\t\t\t\t\t\t'border-radius': o.railBorderRadius,\r\n\t\t\t\t\t\t\tbackground: o.railColor,\r\n\t\t\t\t\t\t\topacity: o.railOpacity,\r\n\t\t\t\t\t\t\tzIndex: 90\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t// create scrollbar\r\n\t\t\t\tvar bar = $(divS)\r\n\t\t\t\t\t\t.addClass(o.barClass)\r\n\t\t\t\t\t\t.css({\r\n\t\t\t\t\t\t\tbackground: o.color,\r\n\t\t\t\t\t\t\twidth: o.size,\r\n\t\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\t\ttop: 0,\r\n\t\t\t\t\t\t\topacity: o.opacity,\r\n\t\t\t\t\t\t\tdisplay: 'block',\r\n\t\t\t\t\t\t\t'border-radius': o.borderRadius,\r\n\t\t\t\t\t\t\tBorderRadius: o.borderRadius,\r\n\t\t\t\t\t\t\tMozBorderRadius: o.borderRadius,\r\n\t\t\t\t\t\t\tWebkitBorderRadius: o.borderRadius,\r\n\t\t\t\t\t\t\tzIndex: 99\r\n\t\t\t\t\t\t});\r\n\r\n\t\t\t\t// set position\r\n\t\t\t\trail.css({right: o.distance});\r\n\t\t\t\tbar.css({right: o.distance});\r\n\r\n\t\t\t\t// wrap it\r\n\t\t\t\tme.wrap(wrapper);\r\n\r\n\t\t\t\t// append to parent div\r\n\t\t\t\tme.parent().append(bar);\r\n\t\t\t\tme.parent().append(rail);\r\n\r\n\t\t\t\t// make it draggable and no longer dependent on the jqueryUI\r\n\t\t\t\tbar.bind(\"mousedown\", function(e) {\r\n\t\t\t\t\tvar $doc = $(document);\r\n\t\t\t\t\tisDragg = true;\r\n\t\t\t\t\tt = parseFloat(bar.css('top'));\r\n\t\t\t\t\tpageY = e.pageY;\r\n\r\n\t\t\t\t\t$doc.bind(\"mousemove.slimscroll\", function(e) {\r\n\t\t\t\t\t\tcurrTop = t + e.pageY - pageY;\r\n\t\t\t\t\t\tbar.css('top', currTop);\r\n\t\t\t\t\t\tscrollContent(0, bar.position().top, false);// scroll content\r\n\t\t\t\t\t});\r\n\r\n\t\t\t\t\t$doc.bind(\"mouseup.slimscroll\", function(e) {\r\n\t\t\t\t\t\tisDragg = false;\r\n\t\t\t\t\t\thideBar();\r\n\t\t\t\t\t\t$doc.unbind('.slimscroll');\r\n\t\t\t\t\t});\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}).bind(\"selectstart.slimscroll\", function(e) {\r\n\t\t\t\t\te.stopPropagation();\r\n\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// on rail over\r\n\t\t\t\trail.hover(function() {\r\n\t\t\t\t\tshowBar();\r\n\t\t\t\t}, function() {\r\n\t\t\t\t\thideBar();\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// on bar over\r\n\t\t\t\tbar.hover(function() {\r\n\t\t\t\t\tisOverBar = true;\r\n\t\t\t\t}, function() {\r\n\t\t\t\t\tisOverBar = false;\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// show on parent mouseover\r\n\t\t\t\tme.hover(function() {\r\n\t\t\t\t\tisOverPanel = true;\r\n\t\t\t\t\tshowBar();\r\n\t\t\t\t\thideBar();\r\n\t\t\t\t}, function() {\r\n\t\t\t\t\tisOverPanel = false;\r\n\t\t\t\t\thideBar();\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// support for mobile\r\n\t\t\t\tme.bind('touchstart', function(e, b) {\r\n\t\t\t\t\tif (e.originalEvent.touches.length)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// record where touch started\r\n\t\t\t\t\t\ttouchDif = e.originalEvent.touches[0].pageY;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\tme.bind('touchmove', function(e) {\r\n\t\t\t\t\t// prevent scrolling the page if necessary\r\n\t\t\t\t\tif (!releaseScroll)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\te.originalEvent.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (e.originalEvent.touches.length)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// see how far user swiped\r\n\t\t\t\t\t\tvar diff = (touchDif - e.originalEvent.touches[0].pageY) / o.touchScrollStep;\r\n\t\t\t\t\t\t// scroll content\r\n\t\t\t\t\t\tscrollContent(diff, true);\r\n\t\t\t\t\t\ttouchDif = e.originalEvent.touches[0].pageY;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\t// set up initial height\r\n\t\t\t\tgetBarHeight();\r\n\r\n\t\t\t\t// attach scroll events\r\n\t\t\t\tattachWheel();\r\n\r\n\t\t\t\tfunction _onWheel(e)\r\n\t\t\t\t{\r\n\t\t\t\t\t// use mouse wheel only when mouse is over\r\n\t\t\t\t\tif (!isOverPanel) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar e = e || window.event;\r\n\r\n\t\t\t\t\tvar delta = 0;\r\n\t\t\t\t\tif (e.wheelDelta) {\r\n\t\t\t\t\t\tdelta = -e.wheelDelta / 120;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (e.detail) {\r\n\t\t\t\t\t\tdelta = e.detail / 3;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tvar target = e.target || e.srcTarget || e.srcElement;\r\n\t\t\t\t\tif ($(target).closest('.' + o.wrapperClass).is(me.parent())) {\r\n\t\t\t\t\t\t// scroll content\r\n\t\t\t\t\t\tscrollContent(delta, true);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// stop window scroll\r\n\t\t\t\t\tif (e.preventDefault && !releaseScroll) {\r\n\t\t\t\t\t\te.preventDefault();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (!releaseScroll) {\r\n\t\t\t\t\t\te.returnValue = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction scrollContent(y, isWheel, isJump)\r\n\t\t\t\t{\r\n\t\t\t\t\treleaseScroll = false;\r\n\t\t\t\t\tvar delta = y;\r\n\t\t\t\t\tvar maxTop = me.outerHeight() - bar.outerHeight();\r\n\r\n\t\t\t\t\tif (isWheel)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t// move bar with mouse wheel\r\n\t\t\t\t\t\tdelta = parseInt(bar.css('top')) + y * parseInt(o.wheelStep) / 100 * bar.outerHeight();\r\n\r\n\t\t\t\t\t\t// move bar, make sure it doesn't go out\r\n\t\t\t\t\t\tdelta = Math.min(Math.max(delta, 0), maxTop);\r\n\r\n\t\t\t\t\t\t// if scrolling down, make sure a fractional change to the\r\n\t\t\t\t\t\t// scroll position isn't rounded away when the scrollbar's CSS is set\r\n\t\t\t\t\t\t// this flooring of delta would happened automatically when\r\n\t\t\t\t\t\t// bar.css is set below, but we floor here for clarity\r\n\t\t\t\t\t\tdelta = (y > 0) ? Math.ceil(delta) : Math.floor(delta);\r\n\r\n\t\t\t\t\t\t// scroll the scrollbar\r\n\t\t\t\t\t\tbar.css({top: delta + 'px'});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// calculate actual scroll amount\r\n\t\t\t\t\tpercentScroll = parseInt(bar.css('top')) / (me.outerHeight() - bar.outerHeight());\r\n\t\t\t\t\tdelta = percentScroll * (me[0].scrollHeight - me.outerHeight());\r\n\r\n\t\t\t\t\tif (isJump)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdelta = y;\r\n\t\t\t\t\t\tvar offsetTop = delta / me[0].scrollHeight * me.outerHeight();\r\n\t\t\t\t\t\toffsetTop = Math.min(Math.max(offsetTop, 0), maxTop);\r\n\t\t\t\t\t\tbar.css({top: offsetTop + 'px'});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// scroll content\r\n\t\t\t\t\tme.scrollTop(delta);\r\n\r\n\t\t\t\t\t// fire scrolling event\r\n\t\t\t\t\tme.trigger('slimscrolling', ~~delta);\r\n\r\n\t\t\t\t\t// ensure bar is visible\r\n\t\t\t\t\tshowBar();\r\n\r\n\t\t\t\t\t// trigger hide when scroll is stopped\r\n\t\t\t\t\thideBar();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction attachWheel()\r\n\t\t\t\t{\r\n\t\t\t\t\tif (window.addEventListener)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.addEventListener('DOMMouseScroll', _onWheel, false);\r\n\t\t\t\t\t\tthis.addEventListener('mousewheel', _onWheel, false);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdocument.attachEvent(\"onmousewheel\", _onWheel)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction getBarHeight()\r\n\t\t\t\t{\r\n\t\t\t\t\t// calculate scrollbar height and make sure it is not too small\r\n\t\t\t\t\tbarHeight = Math.max((me.outerHeight() / me[0].scrollHeight) * me.outerHeight(), minBarHeight);\r\n\t\t\t\t\tbar.css({height: barHeight + 'px'});\r\n\r\n\t\t\t\t\t// hide scrollbar if content is not long enough\r\n\t\t\t\t\tvar display = barHeight == me.outerHeight() ? 'none' : 'block';\r\n\t\t\t\t\tbar.css({display: display});\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction showBar()\r\n\t\t\t\t{\r\n\t\t\t\t\t// recalculate bar height\r\n\t\t\t\t\tgetBarHeight();\r\n\t\t\t\t\tclearTimeout(queueHide);\r\n\r\n\t\t\t\t\t// when bar reached top or bottom\r\n\t\t\t\t\tif (percentScroll == ~~percentScroll)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t//release wheel\r\n\t\t\t\t\t\treleaseScroll = o.allowPageScroll;\r\n\r\n\t\t\t\t\t\t// publish approporiate event\r\n\t\t\t\t\t\tif (lastScroll != percentScroll)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tvar msg = (~~percentScroll == 0) ? 'top' : 'bottom';\r\n\t\t\t\t\t\t\tme.trigger('slimscroll', msg);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\treleaseScroll = false;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tlastScroll = percentScroll;\r\n\r\n\t\t\t\t\t// show only when required\r\n\t\t\t\t\tif (barHeight >= me.outerHeight()) {\r\n\t\t\t\t\t\t//allow window scroll\r\n\t\t\t\t\t\treleaseScroll = true;\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbar.stop(true, true).fadeIn('fast');\r\n\t\t\t\t}\r\n\r\n\t\t\t\tfunction hideBar() {\r\n\t\t\t\t}\r\n\r\n\t\t\t});\r\n\r\n\t\t\t// maintain chainability\r\n\t\t\treturn this;\r\n\t\t}\r\n\t});\r\n\r\n\tjQuery.fn.extend({\r\n\t\tpixelslimscroll: jQuery.fn.pixelSlimScroll\r\n\t});\r\n\r\n})(jQuery);\r\n\r\n/* =========================================================\r\n * bootstrap-tabdrop.js \r\n * http://www.eyecon.ro/bootstrap-tabdrop\r\n * =========================================================\r\n * Copyright 2012 Stefan Petre\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * ========================================================= */\r\n\r\n!function($) {\r\n\r\n\tvar WinReszier = (function() {\r\n\t\tvar registered = [];\r\n\t\tvar inited = false;\r\n\t\tvar timer;\r\n\t\tvar resize = function(ev) {\r\n\t\t\tclearTimeout(timer);\r\n\t\t\ttimer = setTimeout(notify, 100);\r\n\t\t};\r\n\t\tvar notify = function() {\r\n\t\t\tfor (var i = 0, cnt = registered.length; i < cnt; i++) {\r\n\t\t\t\tregistered[i].apply();\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn {\r\n\t\t\tregister: function(fn) {\r\n\t\t\t\tregistered.push(fn);\r\n\t\t\t\tif (inited === false) {\r\n\t\t\t\t\t$(window).bind('resize', resize);\r\n\t\t\t\t\tinited = true;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tunregister: function(fn) {\r\n\t\t\t\tfor (var i = 0, cnt = registered.length; i < cnt; i++) {\r\n\t\t\t\t\tif (registered[i] == fn) {\r\n\t\t\t\t\t\tdelete registered[i];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}());\r\n\r\n\tvar TabDrop = function(element, options) {\r\n\t\tthis.element = $(element);\r\n\t\tthis.dropdown = $('<li class=\"dropdown hide pull-right tabdrop\"><a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"#\">' + options.text + ' <b class=\"caret\"></b></a><ul class=\"dropdown-menu\"></ul></li>')\r\n\t\t\t\t.prependTo(this.element);\r\n\t\tif (this.element.parent().is('.tabs-below')) {\r\n\t\t\tthis.dropdown.addClass('dropup');\r\n\t\t}\r\n\t\tWinReszier.register($.proxy(this.layout, this));\r\n\t\tthis.layout();\r\n\t};\r\n\r\n\tTabDrop.prototype = {\r\n\t\tconstructor: TabDrop,\r\n\t\tlayout: function() {\r\n\t\t\tvar collection = [];\r\n\t\t\tthis.dropdown.removeClass('hide');\r\n\t\t\tthis.element\r\n\t\t\t\t\t.append(this.dropdown.find('li'))\r\n\t\t\t\t\t.find('>li')\r\n\t\t\t\t\t.not('.tabdrop')\r\n\t\t\t\t\t.each(function() {\r\n\t\t\t\t\t\tif (this.offsetTop > 0) {\r\n\t\t\t\t\t\t\tcollection.push(this);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\tif (collection.length > 0) {\r\n\t\t\t\tcollection = $(collection);\r\n\t\t\t\tthis.dropdown\r\n\t\t\t\t\t\t.find('ul')\r\n\t\t\t\t\t\t.empty()\r\n\t\t\t\t\t\t.append(collection);\r\n\t\t\t\tif (this.dropdown.find('.active').length == 1) {\r\n\t\t\t\t\tthis.dropdown.addClass('active');\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.dropdown.removeClass('active');\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.dropdown.addClass('hide');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t$.fn.tabdrop = function(option) {\r\n\t\treturn this.each(function() {\r\n\t\t\tvar $this = $(this),\r\n\t\t\t\t\tdata = $this.data('tabdrop'),\r\n\t\t\t\t\toptions = typeof option === 'object' && option;\r\n\t\t\tif (!data) {\r\n\t\t\t\t$this.data('tabdrop', (data = new TabDrop(this, $.extend({}, $.fn.tabdrop.defaults, options))));\r\n\t\t\t}\r\n\t\t\tif (typeof option == 'string') {\r\n\t\t\t\tdata[option]();\r\n\t\t\t}\r\n\t\t})\r\n\t};\r\n\r\n\t$.fn.tabdrop.defaults = {\r\n\t\ttext: '<i class=\"icon-align-justify\"></i>'\r\n\t};\r\n\r\n\t$.fn.tabdrop.Constructor = TabDrop;\r\n\r\n}(window.jQuery);\r\n\r\n(function() {\r\n\t$.fn.serializeObject = function() {\r\n\t\tvar e = {};\r\n\t\tvar t = this.serializeArray();\r\n\t\t$.each(t, function() {\r\n\t\t\tif (e[this.name] !== undefined) {\r\n\t\t\t\tif (!e[this.name].push) {\r\n\t\t\t\t\te[this.name] = [e[this.name]]\r\n\t\t\t\t}\r\n\t\t\t\te[this.name].push(this.value || \"\")\r\n\t\t\t} else {\r\n\t\t\t\te[this.name] = this.value || \"\"\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn e\r\n\t};\r\n}).call(this);\r\n\r\n(function() {\r\n\t$.fn.scrollTo = function(e, t, n) {\r\n\t\tif (typeof t == \"function\" && arguments.length == 2) {\r\n\t\t\tn = t;\r\n\t\t\tt = e\r\n\t\t}\r\n\t\tvar r = $.extend({scrollTarget: e, offsetTop: 50, duration: 500, easing: \"swing\"}, t);\r\n\t\treturn this.each(function() {\r\n\t\t\tvar e = $(this);\r\n\t\t\tvar t = typeof r.scrollTarget == \"number\" ? r.scrollTarget : $(r.scrollTarget);\r\n\t\t\tvar i = typeof t == \"number\" ? t : t.offset().top + e.scrollTop() - parseInt(r.offsetTop);\r\n\t\t\te.animate({scrollTop: i}, parseInt(r.duration), r.easing, function() {\r\n\t\t\t\tif (typeof n == \"function\") {\r\n\t\t\t\t\tn.call(this)\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t})\r\n\t};\r\n}).call(this);\r\n\r\n\r\n(function() {\r\n\tvar tabdrop;\r\n\r\n\tif (!$.fn.tabdrop) {\r\n\t\tthrow new Error('bootstrap-tabdrop.js required');\r\n\t}\r\n\r\n\ttabdrop = $.fn.tabdrop;\r\n\r\n\t$.fn.tabdrop = function(options) {\r\n\t\toptions = $.extend({}, $.fn.tabdrop.defaults, options);\r\n\t\treturn this.each(function() {\r\n\t\t\tvar $this, data;\r\n\t\t\t$this = $(this);\r\n\t\t\ttabdrop.call($this, options);\r\n\t\t\tdata = $this.data('tabdrop');\r\n\t\t\tif (data) {\r\n\t\t\t\tdata.dropdown.on(\"click\", \"li\", function() {\r\n\t\t\t\t\t$(this).parent().parent().find(\"a.dropdown-toggle\").empty().html('<span class=\"display-tab\"> ' + $(this).text() + ' </span><b class=\"caret\"></b>');\r\n\t\t\t\t\treturn data.layout();\r\n\t\t\t\t});\r\n\t\t\t\treturn data.element.on('click', '> li', function() {\r\n\t\t\t\t\tif ($(this).hasClass('tabdrop')) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tdata.element.find(\"> .tabdrop > a.dropdown-toggle\").empty().html(options.text + ' <b class=\"caret\"></b>');\r\n\t\t\t\t\treturn data.layout();\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t$.fn.tabdrop.defaults = {\r\n\t\ttext: '<i class=\"fa fa-bars\"></i>'\r\n\t};\r\n}).call(this);\r\n\r\n\r\n(function() {\r\n\t$.fn.check=function(){return this.each(function(){this.checked=true})}\r\n\t$.fn.uncheck=function(){return this.each(function(){this.checked=false})};\r\n\t$.fn.checked=function(){return this.prop(\"checked\")}\r\n\r\n\t$.fn.tabs = function () {\r\n\t\treturn $('li a', this).on('click', function() {\r\n\t\t\t$(this)\r\n\t\t\t\t.parent()\r\n\t\t\t\t.addClass('active')\r\n\t\t\t\t.siblings()\r\n\t\t\t\t.removeClass('active');\r\n\r\n\t\t\t$('div.tab-pane').removeClass('active');\r\n\t\t\t$($(this).attr('href')).addClass('active');\r\n\r\n\t\t\treturn false;\r\n\t\t});\r\n\t};\r\n\t\r\n\tjQuery.browser = {};\r\n\tjQuery.browser.mozilla = /mozilla/.test(navigator.userAgent.toLowerCase()) && !/webkit/.test(navigator.userAgent.toLowerCase());\r\n\tjQuery.browser.webkit = /webkit/.test(navigator.userAgent.toLowerCase());\r\n\tjQuery.browser.opera = /opera/.test(navigator.userAgent.toLowerCase());\r\n\tjQuery.browser.msie = /msie/.test(navigator.userAgent.toLowerCase());\r\n\r\n\r\n\t(function(e) {\r\n\t\tfunction t(t) {\r\n\t\t\tif (typeof t.data === \"string\") {\r\n\t\t\t\tt.data = {keys: t.data}\r\n\t\t\t}\r\n\t\t\tif (!t.data || !t.data.keys || typeof t.data.keys !== \"string\") {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\tvar n = t.handler, r = t.data.keys.toLowerCase().split(\" \"), i = [\"text\", \"password\", \"number\", \"email\", \"url\", \"range\", \"date\", \"month\", \"week\", \"time\", \"datetime\", \"datetime-local\", \"search\", \"color\", \"tel\"];\r\n\t\t\tt.handler = function(t) {\r\n\t\t\t\tif (this !== t.target && (/textarea|select/i.test(t.target.nodeName) || e.inArray(t.target.type, i) > -1)) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tvar s = e.hotkeys.specialKeys[t.keyCode], o = String.fromCharCode(t.which).toLowerCase(), u = \"\", a = {};\r\n\t\t\t\te.each([\"alt\", \"ctrl\", \"meta\", \"shift\"], function(e, n) {\r\n\t\t\t\t\tif (t[n + \"Key\"] && s !== n) {\r\n\t\t\t\t\t\tu += n + \"+\"\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t\tu = u.replace(\"alt+ctrl+meta+shift\", \"hyper\");\r\n\t\t\t\tif (s) {\r\n\t\t\t\t\ta[u + s] = true\r\n\t\t\t\t}\r\n\t\t\t\tif (o) {\r\n\t\t\t\t\ta[u + o] = true;\r\n\t\t\t\t\ta[u + e.hotkeys.shiftNums[o]] = true;\r\n\t\t\t\t\tif (u === \"shift+\") {\r\n\t\t\t\t\t\ta[e.hotkeys.shiftNums[o]] = true\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tfor (var f = 0, l = r.length; f < l; f++) {\r\n\t\t\t\t\tif (a[r[f]]) {\r\n\t\t\t\t\t\treturn n.apply(this, arguments)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\te.hotkeys = {version: \"0.8\", specialKeys: {8: \"backspace\", 9: \"tab\", 10: \"return\", 13: \"return\", 16: \"shift\", 17: \"ctrl\", 18: \"alt\", 19: \"pause\", 20: \"capslock\", 27: \"esc\", 32: \"space\", 33: \"pageup\", 34: \"pagedown\", 35: \"end\", 36: \"home\", 37: \"left\", 38: \"up\", 39: \"right\", 40: \"down\", 45: \"insert\", 46: \"del\", 59: \";\", 61: \"=\", 96: \"0\", 97: \"1\", 98: \"2\", 99: \"3\", 100: \"4\", 101: \"5\", 102: \"6\", 103: \"7\", 104: \"8\", 105: \"9\", 106: \"*\", 107: \"+\", 109: \"-\", 110: \".\", 111: \"/\", 112: \"f1\", 113: \"f2\", 114: \"f3\", 115: \"f4\", 116: \"f5\", 117: \"f6\", 118: \"f7\", 119: \"f8\", 120: \"f9\", 121: \"f10\", 122: \"f11\", 123: \"f12\", 144: \"numlock\", 145: \"scroll\", 173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\", 221: \"]\", 222: \"'\"}, shiftNums: {\"`\": \"~\", 1: \"!\", 2: \"@\", 3: \"#\", 4: \"$\", 5: \"%\", 6: \"^\", 7: \"&\", 8: \"*\", 9: \"(\", 0: \")\", \"-\": \"_\", \"=\": \"+\", \";\": \": \", \"'\": '\"', \",\": \"<\", \".\": \">\", \"/\": \"?\", \"\\\\\": \"|\"}};\r\n\t\te.each([\"keydown\", \"keyup\", \"keypress\"], function() {\r\n\t\t\te.event.special[this] = {add: t}\r\n\t\t})\r\n\t})(this.jQuery)\r\n\r\n\t!function() {\r\n\t\t\"use strict\";\r\n\t\tvar a = function(a, b) {\r\n\t\t\tvar f, g, h, i, j, k = \"object\" == typeof b && b.maintainCase || !1, l = \"object\" == typeof b && b.titleCase ? b.titleCase : !1, m = \"object\" == typeof b && \"object\" == typeof b.custom && b.custom ? b.custom : {}, n = \"object\" == typeof b && b.separator || \"-\", o = \"object\" == typeof b && +b.truncate > 1 && b.truncate || !1, p = \"object\" == typeof b && b.uric || !1, q = \"object\" == typeof b && b.uricNoSlash || !1, r = \"object\" == typeof b && b.mark || !1, s = \"object\" == typeof b && b.lang && e[b.lang] ? e[b.lang] : \"object\" != typeof b || b.lang !== !1 && b.lang !== !0 ? e.en : {}, t = [\";\", \"?\", \":\", \"@\", \"&\", \"=\", \"+\", \"$\", \",\", \"/\"], u = [\";\", \"?\", \":\", \"@\", \"&\", \"=\", \"+\", \"$\", \",\"], v = [\".\", \"!\", \"~\", \"*\", \"'\", \"(\", \")\"], w = \"\", x = n;\r\n\t\t\tif (l && \"number\" == typeof l.length && Array.prototype.toString.call(l) && l.forEach(function(a) {\r\n\t\t\t\tm[a + \"\"] = a + \"\"\r\n\t\t\t}), \"string\" != typeof a)\r\n\t\t\t\treturn\"\";\r\n\t\t\tfor (\"string\" == typeof b?n = b:\"object\" == typeof b && (p && (x += t.join(\"\")), q && (x += u.join(\"\")), r && (x += v.join(\"\"))), Object.keys(m).forEach(function(b) {\r\n\t\t\t\tvar d;\r\n\t\t\t\td = b.length > 1 ? new RegExp(\"\\\\b\" + c(b) + \"\\\\b\", \"gi\") : new RegExp(c(b), \"gi\"), a = a.replace(d, m[b])\r\n\t\t\t}), l && (a = a.replace(/(\\w)(\\S*)/g, function(a, b, c) {\r\n\t\t\t\tvar d = b.toUpperCase() + (null !== c ? c : \"\");\r\n\t\t\t\treturn Object.keys(m).indexOf(d.toLowerCase()) < 0 ? d : d.toLowerCase()\r\n\t\t\t})), x = c(x), a = a.replace(/(^\\s+|\\s+$)/g, \"\"), j = !1, g = 0, i = a.length; i > g; g++)\r\n\t\t\t\th = a[g], d[h] ? (h = j && d[h].match(/[A-Za-z0-9]/) ? \" \" + d[h] : d[h], j = !1) : !s[h] || p && -1 !== t.join(\"\").indexOf(h) || q && -1 !== u.join(\"\").indexOf(h) || r && -1 !== v.join(\"\").indexOf(h) ? (j && (/[A-Za-z0-9]/.test(h) || w.substr(-1).match(/A-Za-z0-9]/)) && (h = \" \" + h), j = !1) : (h = j || w.substr(-1).match(/[A-Za-z0-9]/) ? n + s[h] : s[h], h += void 0 !== a[g + 1] && a[g + 1].match(/[A-Za-z0-9]/) ? n : \"\", j = !0), w += h.replace(new RegExp(\"[^\\\\w\\\\s\" + x + \"_-]\", \"g\"), n);\r\n\t\t\treturn w = w.replace(/\\s+/g, n).replace(new RegExp(\"\\\\\" + n + \"+\", \"g\"), n).replace(new RegExp(\"(^\\\\\" + n + \"+|\\\\\" + n + \"+$)\", \"g\"), \"\"), o && w.length > o && (f = w.charAt(o) === n, w = w.slice(0, o), f || (w = w.slice(0, w.lastIndexOf(n)))), k || l || l.length || (w = w.toLowerCase()), w\r\n\t\t}, b = function(b) {\r\n\t\t\treturn function(c) {\r\n\t\t\t\treturn a(c, b)\r\n\t\t\t}\r\n\t\t}, c = function(a) {\r\n\t\t\treturn a.replace(/[-\\\\^$*+?.()|[\\]{}\\/]/g, \"\\\\$&\")\r\n\t\t}, d = {\"À\": \"A\", \"Á\": \"A\", \"Â\": \"A\", \"Ã\": \"A\", \"Ä\": \"Ae\", \"Å\": \"A\", \"Æ\": \"AE\", \"Ç\": \"C\", \"È\": \"E\", \"É\": \"E\", \"Ê\": \"E\", \"Ë\": \"E\", \"Ì\": \"I\", \"Í\": \"I\", \"Î\": \"I\", \"Ï\": \"I\", \"Ð\": \"D\", \"Ñ\": \"N\", \"Ò\": \"O\", \"Ó\": \"O\", \"Ô\": \"O\", \"Õ\": \"O\", \"Ö\": \"Oe\", \"Ő\": \"O\", \"Ø\": \"O\", \"Ù\": \"U\", \"Ú\": \"U\", \"Û\": \"U\", \"Ü\": \"Ue\", \"Ű\": \"U\", \"Ý\": \"Y\", \"Þ\": \"TH\", \"ß\": \"ss\", \"à\": \"a\", \"á\": \"a\", \"â\": \"a\", \"ã\": \"a\", \"ä\": \"ae\", \"å\": \"a\", \"æ\": \"ae\", \"ç\": \"c\", \"è\": \"e\", \"é\": \"e\", \"ê\": \"e\", \"ë\": \"e\", \"ì\": \"i\", \"í\": \"i\", \"î\": \"i\", \"ï\": \"i\", \"ð\": \"d\", \"ñ\": \"n\", \"ò\": \"o\", \"ó\": \"o\", \"ô\": \"o\", \"õ\": \"o\", \"ö\": \"oe\", \"ő\": \"o\", \"ø\": \"o\", \"ù\": \"u\", \"ú\": \"u\", \"û\": \"u\", \"ü\": \"ue\", \"ű\": \"u\", \"ý\": \"y\", \"þ\": \"th\", \"ÿ\": \"y\", \"ẞ\": \"SS\", \"α\": \"a\", \"β\": \"v\", \"γ\": \"g\", \"δ\": \"d\", \"ε\": \"e\", \"ζ\": \"z\", \"η\": \"i\", \"θ\": \"th\", \"ι\": \"i\", \"κ\": \"k\", \"λ\": \"l\", \"μ\": \"m\", \"ν\": \"n\", \"ξ\": \"ks\", \"ο\": \"o\", \"π\": \"p\", \"ρ\": \"r\", \"σ\": \"s\", \"τ\": \"t\", \"υ\": \"y\", \"φ\": \"f\", \"χ\": \"x\", \"ψ\": \"ps\", \"ω\": \"o\", \"ά\": \"a\", \"έ\": \"e\", \"ί\": \"i\", \"ό\": \"o\", \"ύ\": \"y\", \"ή\": \"i\", \"ώ\": \"o\", \"ς\": \"s\", \"ϊ\": \"i\", \"ΰ\": \"y\", \"ϋ\": \"y\", \"ΐ\": \"i\", \"Α\": \"A\", \"Β\": \"B\", \"Γ\": \"G\", \"Δ\": \"D\", \"Ε\": \"E\", \"Ζ\": \"Z\", \"Η\": \"I\", \"Θ\": \"TH\", \"Ι\": \"I\", \"Κ\": \"K\", \"Λ\": \"L\", \"Μ\": \"M\", \"Ν\": \"N\", \"Ξ\": \"KS\", \"Ο\": \"O\", \"Π\": \"P\", \"Ρ\": \"R\", \"Σ\": \"S\", \"Τ\": \"T\", \"Υ\": \"Y\", \"Φ\": \"F\", \"Χ\": \"X\", \"Ψ\": \"PS\", \"Ω\": \"W\", \"Ά\": \"A\", \"Έ\": \"E\", \"Ί\": \"I\", \"Ό\": \"O\", \"Ύ\": \"Y\", \"Ή\": \"I\", \"Ώ\": \"O\", \"Ϊ\": \"I\", \"Ϋ\": \"Y\", \"ş\": \"s\", \"Ş\": \"S\", \"ı\": \"i\", \"İ\": \"I\", \"ğ\": \"g\", \"Ğ\": \"G\", \"Ќ\": \"Kj\", \"ќ\": \"kj\", \"Љ\": \"Lj\", \"љ\": \"lj\", \"Њ\": \"Nj\", \"њ\": \"nj\", \"Тс\": \"Ts\", \"тс\": \"ts\", \"а\": \"a\", \"б\": \"b\", \"в\": \"v\", \"г\": \"g\", \"д\": \"d\", \"е\": \"e\", \"ё\": \"yo\", \"ж\": \"zh\", \"з\": \"z\", \"и\": \"i\", \"й\": \"j\", \"к\": \"k\", \"л\": \"l\", \"м\": \"m\", \"н\": \"n\", \"о\": \"o\", \"п\": \"p\", \"р\": \"r\", \"с\": \"s\", \"т\": \"t\", \"у\": \"u\", \"ф\": \"f\", \"х\": \"h\", \"ц\": \"c\", \"ч\": \"ch\", \"ш\": \"sh\", \"щ\": \"sh\", \"ъ\": \"\", \"ы\": \"y\", \"ь\": \"\", \"э\": \"e\", \"ю\": \"yu\", \"я\": \"ya\", \"А\": \"A\", \"Б\": \"B\", \"В\": \"V\", \"Г\": \"G\", \"Д\": \"D\", \"Е\": \"E\", \"Ё\": \"Yo\", \"Ж\": \"Zh\", \"З\": \"Z\", \"И\": \"I\", \"Й\": \"J\", \"К\": \"K\", \"Л\": \"L\", \"М\": \"M\", \"Н\": \"N\", \"О\": \"O\", \"П\": \"P\", \"Р\": \"R\", \"С\": \"S\", \"Т\": \"T\", \"У\": \"U\", \"Ф\": \"F\", \"Х\": \"H\", \"Ц\": \"C\", \"Ч\": \"Ch\", \"Ш\": \"Sh\", \"Щ\": \"Sh\", \"Ъ\": \"\", \"Ы\": \"Y\", \"Ь\": \"\", \"Э\": \"E\", \"Ю\": \"Yu\", \"Я\": \"Ya\", \"Є\": \"Ye\", \"І\": \"I\", \"Ї\": \"Yi\", \"Ґ\": \"G\", \"є\": \"ye\", \"і\": \"i\", \"ї\": \"yi\", \"ґ\": \"g\", \"č\": \"c\", \"ď\": \"d\", \"ě\": \"e\", \"ň\": \"n\", \"ř\": \"r\", \"š\": \"s\", \"ť\": \"t\", \"ů\": \"u\", \"ž\": \"z\", \"Č\": \"C\", \"Ď\": \"D\", \"Ě\": \"E\", \"Ň\": \"N\", \"Ř\": \"R\", \"Š\": \"S\", \"Ť\": \"T\", \"Ů\": \"U\", \"Ž\": \"Z\", \"ą\": \"a\", \"ć\": \"c\", \"ę\": \"e\", \"ł\": \"l\", \"ń\": \"n\", \"ś\": \"s\", \"ź\": \"z\", \"ż\": \"z\", \"Ą\": \"A\", \"Ć\": \"C\", \"Ę\": \"E\", \"Ł\": \"L\", \"Ń\": \"N\", \"Ś\": \"S\", \"Ź\": \"Z\", \"Ż\": \"Z\", \"ā\": \"a\", \"ē\": \"e\", \"ģ\": \"g\", \"ī\": \"i\", \"ķ\": \"k\", \"ļ\": \"l\", \"ņ\": \"n\", \"ū\": \"u\", \"Ā\": \"A\", \"Ē\": \"E\", \"Ģ\": \"G\", \"Ī\": \"I\", \"Ķ\": \"k\", \"Ļ\": \"L\", \"Ņ\": \"N\", \"Ū\": \"U\", \"ا\": \"a\", \"أ\": \"a\", \"إ\": \"i\", \"آ\": \"aa\", \"ؤ\": \"u\", \"ئ\": \"e\", \"ء\": \"a\", \"ب\": \"b\", \"ت\": \"t\", \"ث\": \"th\", \"ج\": \"j\", \"ح\": \"h\", \"خ\": \"kh\", \"د\": \"d\", \"ذ\": \"th\", \"ر\": \"r\", \"ز\": \"z\", \"س\": \"s\", \"ش\": \"sh\", \"ص\": \"s\", \"ض\": \"dh\", \"ط\": \"t\", \"ظ\": \"z\", \"ع\": \"a\", \"غ\": \"gh\", \"ف\": \"f\", \"ق\": \"q\", \"ك\": \"k\", \"ل\": \"l\", \"م\": \"m\", \"ن\": \"n\", \"ه\": \"h\", \"و\": \"w\", \"ي\": \"y\", \"ى\": \"a\", \"ة\": \"h\", \"ﻻ\": \"la\", \"ﻷ\": \"laa\", \"ﻹ\": \"lai\", \"ﻵ\": \"laa\", \"َ\": \"a\", \"ً\": \"an\", \"ِ\": \"e\", \"ٍ\": \"en\", \"ُ\": \"u\", \"ٌ\": \"on\", \"ْ\": \"\", \"٠\": \"0\", \"١\": \"1\", \"٢\": \"2\", \"٣\": \"3\", \"٤\": \"4\", \"٥\": \"5\", \"٦\": \"6\", \"٧\": \"7\", \"٨\": \"8\", \"٩\": \"9\", \"“\": '\"', \"”\": '\"', \"‘\": \"'\", \"’\": \"'\", \"∂\": \"d\", \"ƒ\": \"f\", \"™\": \"(TM)\", \"©\": \"(C)\", \"œ\": \"oe\", \"Œ\": \"OE\", \"®\": \"(R)\", \"†\": \"+\", \"℠\": \"(SM)\", \"…\": \"...\", \"˚\": \"o\", \"º\": \"o\", \"ª\": \"a\", \"•\": \"*\", $: \"USD\", \"€\": \"EUR\", \"₢\": \"BRN\", \"₣\": \"FRF\", \"£\": \"GBP\", \"₤\": \"ITL\", \"₦\": \"NGN\", \"₧\": \"ESP\", \"₩\": \"KRW\", \"₪\": \"ILS\", \"₫\": \"VND\", \"₭\": \"LAK\", \"₮\": \"MNT\", \"₯\": \"GRD\", \"₱\": \"ARS\", \"₲\": \"PYG\", \"₳\": \"ARA\", \"₴\": \"UAH\", \"₵\": \"GHS\", \"¢\": \"cent\", \"¥\": \"CNY\", \"元\": \"CNY\", \"円\": \"YEN\", \"﷼\": \"IRR\", \"₠\": \"EWE\", \"฿\": \"THB\", \"₨\": \"INR\", \"₹\": \"INR\", \"₰\": \"PF\", \"đ\": \"d\", \"Đ\": \"D\", \"ẹ\": \"e\", \"Ẹ\": \"E\", \"ẽ\": \"e\", \"Ẽ\": \"E\", \"ế\": \"e\", \"Ế\": \"E\", \"ề\": \"e\", \"Ề\": \"E\", \"ệ\": \"e\", \"Ệ\": \"E\", \"ễ\": \"e\", \"Ễ\": \"E\", \"ọ\": \"o\", \"Ọ\": \"o\", \"ố\": \"o\", \"Ố\": \"O\", \"ồ\": \"o\", \"Ồ\": \"O\", \"ộ\": \"o\", \"Ộ\": \"O\", \"ỗ\": \"o\", \"Ỗ\": \"O\", \"ơ\": \"o\", \"Ơ\": \"O\", \"ớ\": \"o\", \"Ớ\": \"O\", \"ờ\": \"o\", \"Ờ\": \"O\", \"ợ\": \"o\", \"Ợ\": \"O\", \"ỡ\": \"o\", \"Ỡ\": \"O\", \"ị\": \"i\", \"Ị\": \"I\", \"ĩ\": \"i\", \"Ĩ\": \"I\", \"ụ\": \"u\", \"Ụ\": \"U\", \"ũ\": \"u\", \"Ũ\": \"U\", \"ư\": \"u\", \"Ư\": \"U\", \"ứ\": \"u\", \"Ứ\": \"U\", \"ừ\": \"u\", \"Ừ\": \"U\", \"ự\": \"u\", \"Ự\": \"U\", \"ữ\": \"u\", \"Ữ\": \"U\", \"ỳ\": \"y\", \"Ỳ\": \"Y\", \"ỵ\": \"y\", \"Ỵ\": \"Y\", \"ỹ\": \"y\", \"Ỹ\": \"Y\", \"ạ\": \"a\", \"Ạ\": \"A\", \"ấ\": \"a\", \"Ấ\": \"A\", \"ầ\": \"a\", \"Ầ\": \"A\", \"ậ\": \"a\", \"Ậ\": \"A\", \"ẫ\": \"a\", \"Ẫ\": \"A\", \"ă\": \"a\", \"Ă\": \"A\", \"ắ\": \"a\", \"Ắ\": \"A\", \"ằ\": \"a\", \"Ằ\": \"A\", \"ặ\": \"a\", \"Ặ\": \"A\", \"ẵ\": \"a\", \"Ẵ\": \"A\"}, e = {ar: {\"∆\": \"delta\", \"∞\": \"la-nihaya\", \"♥\": \"hob\", \"&\": \"wa\", \"|\": \"aw\", \"<\": \"aqal-men\", \">\": \"akbar-men\", \"∑\": \"majmou\", \"¤\": \"omla\"}, de: {\"∆\": \"delta\", \"∞\": \"unendlich\", \"♥\": \"Liebe\", \"&\": \"und\", \"|\": \"oder\", \"<\": \"kleiner als\", \">\": \"groesser als\", \"∑\": \"Summe von\", \"¤\": \"Waehrung\"}, nl: {\"∆\": \"delta\", \"∞\": \"oneindig\", \"♥\": \"liefde\", \"&\": \"en\", \"|\": \"of\", \"<\": \"kleiner dan\", \">\": \"groter dan\", \"∑\": \"som\", \"¤\": \"valuta\"}, en: {\"∆\": \"delta\", \"∞\": \"infinity\", \"♥\": \"love\", \"&\": \"and\", \"|\": \"or\", \"<\": \"less than\", \">\": \"greater than\", \"∑\": \"sum\", \"¤\": \"currency\"}, es: {\"∆\": \"delta\", \"∞\": \"infinito\", \"♥\": \"amor\", \"&\": \"y\", \"|\": \"u\", \"<\": \"menos que\", \">\": \"mas que\", \"∑\": \"suma de los\", \"¤\": \"moneda\"}, fr: {\"∆\": \"delta\", \"∞\": \"infiniment\", \"♥\": \"Amour\", \"&\": \"et\", \"|\": \"ou\", \"<\": \"moins que\", \">\": \"superieure a\", \"∑\": \"somme des\", \"¤\": \"monnaie\"}, pt: {\"∆\": \"delta\", \"∞\": \"infinito\", \"♥\": \"amor\", \"&\": \"e\", \"|\": \"ou\", \"<\": \"menor que\", \">\": \"maior que\", \"∑\": \"soma\", \"¤\": \"moeda\"}, ru: {\"∆\": \"delta\", \"∞\": \"beskonechno\", \"♥\": \"lubov\", \"&\": \"i\", \"|\": \"ili\", \"<\": \"menshe\", \">\": \"bolshe\", \"∑\": \"summa\", \"¤\": \"valjuta\"}, vn: {\"∆\": \"delta\", \"∞\": \"vo cuc\", \"♥\": \"yeu\", \"&\": \"va\", \"|\": \"hoac\", \"<\": \"nho hon\", \">\": \"lon hon\", \"∑\": \"tong\", \"¤\": \"tien te\"}};\r\n\t\tif (\"undefined\" != typeof module && module.exports)\r\n\t\t\tmodule.exports = a, module.exports.createSlug = b;\r\n\t\telse if (\"undefined\" != typeof define && define.amd)\r\n\t\t\tdefine([], function() {\r\n\t\t\t\treturn a\r\n\t\t\t});\r\n\t\telse\r\n\t\t\ttry {\r\n\t\t\t\tif (window.getSlug || window.createSlug)\r\n\t\t\t\t\tthrow\"speakingurl: globals exists /(getSlug|createSlug)/\";\r\n\t\t\t\twindow.getSlug = a, window.createSlug = b\r\n\t\t\t} catch (f) {\r\n\t\t\t}\r\n\t}();\r\n\r\n\r\n\tif ($.validator) {\r\n\t\t$.validator.setDefaults({\r\n\t\t\thighlight: function(e) {\r\n\t\t\t\treturn $(e).closest(\".form-group\").addClass(\"has-error\")\r\n\t\t\t},\r\n\t\t\tunhighlight: function(e) {\r\n\t\t\t\treturn $(e).closest(\".form-group\").removeClass(\"has-error\").find(\"help-block-hidden\").removeClass(\"help-block-hidden\").addClass(\"help-block\").show()\r\n\t\t\t},\r\n\t\t\terrorElement: \"div\",\r\n\t\t\terrorClass: \"jquery-validate-error\",\r\n\t\t\terrorPlacement: function(e, t) {\r\n\t\t\t\tvar n, r, i;\r\n\t\t\t\ti = t.is('input[type=\"checkbox\"]') || t.is('input[type=\"radio\"]');\r\n\t\t\t\tr = t.closest(\".form-group\").find(\".jquery-validate-error\").length;\r\n\t\t\t\tif (!i || !r) {\r\n\t\t\t\t\tif (!r) {\r\n\t\t\t\t\t\tt.closest(\".form-group\").find(\".help-block\").removeClass(\"help-block\").addClass(\"help-block-hidden\").hide()\r\n\t\t\t\t\t}\r\n\t\t\t\t\te.addClass(\"help-block\");\r\n\t\t\t\t\tif (i) {\r\n\t\t\t\t\t\treturn t.closest('[class*=\"col-\"]').append(e)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tn = t.parent();\r\n\t\t\t\t\t\tif (n.is(\".input-group\")) {\r\n\t\t\t\t\t\t\treturn n.parent().append(e)\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\treturn n.append(e)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}}\r\n\t\t)\r\n\t}\r\n}).call(this);\r\n\r\n/*\r\n * @class FileInput\r\n */\r\n\r\n(function() {\r\n\tvar FileInput;\r\n\r\n\tFileInput = function($input, options) {\r\n\t\tif (options == null) {\r\n\t\t\toptions = {};\r\n\t\t}\r\n\t\tthis.options = $.extend({}, FileInput.DEFAULTS, options || {});\r\n\t\tthis.$input = $input;\r\n\t\tthis.$el = $('<div class=\"pixel-file-input\"><span class=\"pfi-filename\"></span><div class=\"pfi-actions\"></div></div>').insertAfter($input).append($input);\r\n\t\tthis.$filename = $('.pfi-filename', this.$el);\r\n\t\tthis.$clear_btn = $(this.options.clear_btn_tmpl).addClass('pfi-clear').appendTo($('.pfi-actions', this.$el));\r\n\t\tthis.$choose_btn = $(this.options.choose_btn_tmpl).addClass('pfi-choose').appendTo($('.pfi-actions', this.$el));\r\n\t\tthis.onChange();\r\n\t\t$input.on('change', (function(_this) {\r\n\t\t\treturn function() {\r\n\t\t\t\treturn $.proxy(_this.onChange, _this)();\r\n\t\t\t};\r\n\t\t})(this)).on('click', function(e) {\r\n\t\t\treturn e.stopPropagation();\r\n\t\t});\r\n\t\tthis.$el.on('click', function() {\r\n\t\t\treturn $input.click();\r\n\t\t});\r\n\t\tthis.$choose_btn.on('click', function(e) {\r\n\t\t\treturn e.preventDefault();\r\n\t\t});\r\n\t\treturn this.$clear_btn.on('click', (function(_this) {\r\n\t\t\treturn function(e) {\r\n\t\t\t\t$input.wrap('<form>').parent('form').trigger('reset');\r\n\t\t\t\t$input.unwrap();\r\n\t\t\t\t$.proxy(_this.onChange, _this)();\r\n\t\t\t\te.stopPropagation();\r\n\t\t\t\treturn e.preventDefault();\r\n\t\t\t};\r\n\t\t})(this));\r\n\t};\r\n\r\n\tFileInput.DEFAULTS = {\r\n\t\tchoose_btn_tmpl: '<a href=\"#\" class=\"btn btn-xs btn-primary\">Choose</a>',\r\n\t\tclear_btn_tmpl: '<a href=\"#\" class=\"btn btn-xs\"><i class=\"fa fa-times\"></i> Clear</a>',\r\n\t\tplaceholder: null\r\n\t};\r\n\r\n\tFileInput.prototype.onChange = function() {\r\n\t\tvar value;\r\n\t\tvalue = this.$input.val().replace(/\\\\/g, '/');\r\n\t\tif (value !== '') {\r\n\t\t\tthis.$clear_btn.css('display', 'inline-block');\r\n\t\t\tthis.$filename.removeClass('pfi-placeholder');\r\n\t\t\treturn this.$filename.text(value.split('/').pop());\r\n\t\t} else {\r\n\t\t\tthis.$clear_btn.css('display', 'none');\r\n\t\t\tif (this.options.placeholder) {\r\n\t\t\t\tthis.$filename.addClass('pfi-placeholder');\r\n\t\t\t\treturn this.$filename.text(this.options.placeholder);\r\n\t\t\t} else {\r\n\t\t\t\treturn this.$filename.text('');\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t$.fn.FileInput = function(options) {\r\n\t\treturn this.each(function() {\r\n\t\t\tif (!$.data(this, 'FileInput')) {\r\n\t\t\t\treturn $.data(this, 'FileInput', new FileInput($(this), options));\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t$.fn.FileInput.Constructor = FileInput;\r\n\r\n}).call(this);\r\n\r\n/*\r\n * @class ExpandingInput\r\n */\r\n(function() {\r\n\tvar ExpandingInput;\r\n\r\n\tExpandingInput = function($container, options) {\r\n\t\tif (options == null) {\r\n\t\t\toptions = {};\r\n\t\t}\r\n\t\tthis.options = $.extend({}, ExpandingInput.DEFAULTS, options || {});\r\n\t\tthis.$container = $container;\r\n\t\tthis.$target = this.options.target && this.$container.find(this.options.target).length ? this.$container.find(this.options.target) : null;\r\n\t\tthis.$content = this.options.hidden_content && this.$container.find(this.options.hidden_content).length ? this.$container.find(this.options.hidden_content) : null;\r\n\t\tthis.$container.addClass('expanding-input');\r\n\t\tif (this.$target) {\r\n\t\t\tthis.$target.addClass('expanding-input-target');\r\n\t\t\tif (this.$target.hasClass('input-sm')) {\r\n\t\t\t\tthis.$container.addClass('expanding-input-sm');\r\n\t\t\t}\r\n\t\t\tif (this.$target.hasClass('input-lg')) {\r\n\t\t\t\tthis.$container.addClass('expanding-input-lg');\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (this.$content) {\r\n\t\t\tthis.$content.addClass('expanding-input-content');\r\n\t\t}\r\n\t\tthis.$overlay = $('<div class=\"expanding-input-overlay\"></div>').appendTo(this.$container);\r\n\t\tif (this.$target && this.$target.attr('placeholder')) {\r\n\t\t\tif (!this.options.placeholder) {\r\n\t\t\t\tthis.options.placeholder = this.$target.attr('placeholder');\r\n\t\t\t}\r\n\t\t\tthis.$target.attr('placeholder', '');\r\n\t\t}\r\n\t\tif (this.options.placeholder) {\r\n\t\t\tthis.$overlay.append($('<div class=\"expanding-input-placeholder\"></div>').html(this.options.placeholder));\r\n\t\t}\r\n\t\tif (this.$target) {\r\n\t\t\tthis.$target.on('focus', $.proxy(this.expand, this));\r\n\t\t}\r\n\t\treturn this.$overlay.on('click.expanding_input', $.proxy(this.expand, this));\r\n\t};\r\n\r\n\tExpandingInput.prototype.expand = function() {\r\n\t\tif (this.$container.hasClass('expanded')) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (this.options.onBeforeExpand) {\r\n\t\t\tthis.options.onBeforeExpand.call(this);\r\n\t\t}\r\n\t\tthis.$overlay.remove();\r\n\t\tthis.$container.addClass('expanded');\r\n\t\tif (this.$target) {\r\n\t\t\tsetTimeout((function(_this) {\r\n\t\t\t\treturn function() {\r\n\t\t\t\t\treturn _this.$target.focus();\r\n\t\t\t\t};\r\n\t\t\t})(this), 1);\r\n\t\t}\r\n\t\tif (this.$target && this.options.placeholder) {\r\n\t\t\tthis.$target.attr('placeholder', $('<div>' + this.options.placeholder + '</div>').text());\r\n\t\t}\r\n\t\tif (this.options.onAfterExpand) {\r\n\t\t\treturn this.options.onAfterExpand.call(this);\r\n\t\t}\r\n\t};\r\n\r\n\tExpandingInput.DEFAULTS = {\r\n\t\ttarget: null,\r\n\t\thidden_content: null,\r\n\t\tplaceholder: null,\r\n\t\tonBeforeExpand: null,\r\n\t\tonAfterExpand: null\r\n\t};\r\n\r\n\t$.fn.expandingInput = function(options) {\r\n\t\treturn this.each(function() {\r\n\t\t\tvar $this;\r\n\t\t\t$this = $(this);\r\n\t\t\tif (!$this.attr('data-expandingInput')) {\r\n\t\t\t\treturn $.data($this, 'expandingInput', new ExpandingInput($this, options));\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\t$.fn.expandingInput.Constructor = ExpandingInput;\r\n}).call(this);\r\n","var CMS = {\r\n\tmodels: {},\r\n\tviews: {},\r\n\tcollections: {},\r\n\troutes: {},\r\n\tsettings: {},\r\n\ttranslations: {},\r\n\tplugins: {},\r\n\r\n\tpopup_target: null,\r\n\t/**\r\n\t * Вычисление высоты контейнера с контентом\r\n\t */\r\n\tcontent_height: null,\r\n\tcalculateContentHeight: function() {\r\n\t\tif(this.content_height != null)\r\n\t\t\treturn this.content_height;\r\n\r\n\t\tvar contentCont = $('#content-wrapper'),\r\n\t\t\theaderCont = $('#main-navbar'),\r\n\t\t\tfooterCont = $('footer'),\r\n\t\t\twindowCont = $(window);\r\n\r\n\t\tvar contentContHeight = windowCont.outerHeight() - headerCont.outerHeight(),\r\n\t\t\tcontentContPadding = contentCont.outerHeight(!$('body').hasClass('iframe')) - contentCont.innerHeight() + ($('body').hasClass('iframe')) ? 0 : 140;\r\n\r\n\t\tthis.content_height = contentContHeight - contentContPadding;\r\n\r\n\t\treturn this.content_height;\r\n\t},\r\n\r\n};","CMS.messages = {\r\n\tinit: function() {\r\n\t\tif (typeof MESSAGE_ERRORS == 'undefined') return;\r\n\t\tthis.parse(MESSAGE_ERRORS, 'error');\r\n\t\tthis.parse(MESSAGE_SUCCESS);\r\n\r\n\t\t$('body').on('show_message', $.proxy(function() {\r\n\t\t\tvar messages = _.toArray(arguments).slice(1);\r\n\t\t\tthis.parse(messages);\r\n\t\t}, this));\r\n\t},\r\n\tparse: function($messages, $type) {\r\n\t\tfor(text in $messages) {\r\n\t\t\tif(text == '_external') {\r\n\t\t\t\tthis.parse($messages[text], $type);\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\tif($type == 'error'){\r\n\t\t\t\tCMS.error_field(text, decodeURIComponent($messages[text]));\r\n\t\t\t}\r\n\r\n\t\t\tthis.show($messages[text], $type);\r\n\t\t}\r\n\t},\r\n\tshow: function(msg, type, icon) {\r\n\t\tif(!type) type = 'success';\r\n\r\n\t\twindow.top.noty({\r\n\t\t\tlayout: 'topRight',\r\n\t\t\ttype: type,\r\n\t\t\ticon: icon || 'fa fa-ok',\r\n\t\t\ttext: decodeURIComponent(msg)\r\n\t\t});\r\n\t},\r\n\terror: function (message) {\r\n\t\tthis.show(message, 'error');\r\n\t}\r\n}\r\n\r\nCMS.error_field = function(name, message) {\r\n\tvar gpoups = $('.form-group:not(.has-error)');\r\n\r\n\tif(typeof name == 'object')\r\n\t\tvar input = name;\r\n\telse {\r\n\t\tname = name.indexOf('.') !== -1 ? '['+name.replace(/\\./g, '][') + ']' : name;\r\n\t\tvar input = $(':input[name*=\"' + name + '\"]', gpoups);\r\n\t}\r\n\r\n\tinput\r\n\t\t.after('<span class=\"help-block error-message\">' + message + '</span>')\r\n\t\t.closest('.form-group')\r\n\t\t.addClass('has-error');\r\n\r\n\tvar $tab_id = input.closest('.tab-pane').prop('id');\r\n\tif($tab_id) {\r\n\t\tvar $tab = $('.nav-tabs a[href=\"#'+$tab_id+'\"]').addClass('tab-error');\r\n\r\n\t\t$tab.closest('.tabdrop').find('.dropdown-toggle').addClass('tab-error');\r\n\t}\r\n}\r\n\r\nCMS.clear_error = function($container, $clear_tabs_error) {\r\n\tvar $group = $('.form-group');\r\n\tif(typeof $container == 'object')\r\n\t\t$group = $('.form-group', $container);\r\n\r\n\t$group\r\n\t\t.removeClass('has-error')\r\n\t\t.find('.error-message')\r\n\t\t.remove();\r\n\r\n\tif($clear_tabs_error !== false)\r\n\t\t$('.nav-tabs li a').removeClass('tab-error');\r\n}","CMS.filters = {\r\n\tfilters: [],\r\n\tswitchedOn: {},\r\n\teditors: {},\r\n\tadd: function (name, switchOn_handler, switchOff_handler, exec_handler) {\r\n\t\tif (switchOn_handler == undefined || switchOff_handler == undefined) {\r\n\t\t\tCMS.messages.error('System try to add filter without required callbacks.', name, switchOn_handler, switchOff_handler);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tthis.filters.push([ name, switchOn_handler, switchOff_handler, exec_handler ]);\r\n\t},\r\n\tswitchOn: function (textarea_id, filter, params) {\r\n\t\t$('#' + textarea_id).css('display', 'block');\r\n\t\tif (this.filters.length > 0) {\r\n\t\t\tvar old_filter = this.get(textarea_id);\r\n\t\t\tvar new_filter = null;\r\n\r\n\t\t\tfor (var i = 0; i < this.filters.length; i++) {\r\n\t\t\t\tif (this.filters[i][0] == filter) {\r\n\t\t\t\t\tnew_filter = this.filters[i];\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif(old_filter !== new_filter) {\r\n\t\t\t\tthis.switchOff(textarea_id);\r\n\t\t\t}\r\n\t\t\ttry {\r\n\t\t\t\tthis.switchedOn[textarea_id] = new_filter;\r\n\t\t\t\tthis.editors[textarea_id] = new_filter[1](textarea_id, params);\r\n\t\t\t\t$('#' + textarea_id).trigger('filter:switch:on', this.editors[textarea_id]);\r\n\t\t\t}\r\n\t\t\tcatch (e) {}\r\n\t\t}\r\n\t},\r\n\tswitchOff: function (textarea_id) {\r\n\t\tvar filter = this.get(textarea_id);\r\n\t\ttry {\r\n\t\t\tif ( filter && typeof(filter[2]) == 'function' ) {\r\n\t\t\t\tfilter[2](this.editors[textarea_id], textarea_id);\r\n\t\t\t}\r\n\t\t\tthis.switchedOn[textarea_id] = null;\r\n\t\t\t$('#' + textarea_id).trigger('filter:switch:off');\r\n\t\t}\r\n\t\tcatch (e) {}\r\n\t},\r\n\tget: function(textarea_id) {\r\n\t\tfor (var key in this.switchedOn) {\r\n\t\t\tif ( key == textarea_id )\r\n\t\t\t\treturn this.switchedOn[key];\r\n\t\t}\r\n\t\treturn null;\r\n\t},\r\n\texec: function(textarea_id, command, data) {\r\n\t\tvar filter = this.get(textarea_id);\r\n\t\tif( filter && typeof(filter[3]) == 'function' )\r\n\t\t\treturn filter[3](this.editors[textarea_id], command, textarea_id, data);\r\n\t\treturn false;\r\n\t}\r\n}","CMS.loader = {\r\n\tcounter: 0,\r\n\t\tinit: function (container) {\r\n\t\tcontainer = $('body');\r\n\r\n\t\treturn $('<div class=\"_loader_container\"><span>' + __('Loading') + '</span></div>')\r\n\t\t\t.appendTo(container)\r\n\t\t\t.css({\r\n\t\t\t\twidth: container.outerWidth(true),\r\n\t\t\t\theight: container.outerHeight(true),\r\n\t\t\t\ttop: container.offset().top,\r\n\t\t\t\tleft: container.offset().left\r\n\t\t\t})\r\n\t\t\t.prop('id', 'loader' + ++this.counter);\r\n\t},\r\n\tshow: function (container, speed) {\r\n\t\tif(!speed) {\r\n\t\t\tspeed = 500;\r\n\t\t}\r\n\r\n\t\tvar loader = this.init(container).fadeTo(speed, 0.4);\r\n\t\treturn this.counter;\r\n\t},\r\n\thide: function (id) {\r\n\t\tif(!id)\r\n\t\t\tcont = $('._loader_container');\r\n\t\telse\r\n\t\t\tcont = $('#loader'+id);\r\n\r\n\t\tcont.stop().fadeOut(400, function() {\r\n\t\t\t$(this).remove();\r\n\t\t});\r\n\t}\r\n}","CMS.notifications = {\r\n\t_init: false,\r\n\t\t_list: [],\r\n\t\tcounter: 0,\r\n\t\tcontainer: '#notifications-container',\r\n\t\tadd: function(text, created_on, title, type, icon, counter) {\r\n\t\tthis._list.push([text, moment(created_on), title, type, icon, counter]);\r\n\t},\r\n\tupdate_counter: function() {\r\n\t\tthis.counter++;\r\n\t},\r\n\tinit: function() {\r\n\t\tthis._build();\r\n\r\n\t\t$('.notifications-list', this.container).slimScroll({ height: 250 });\r\n\t\tthis._init = true;\r\n\t},\r\n\t_build_row:function(row) {\r\n\t\tvar text = row[0],\r\n\t\t\tcreated_on = row[1].fromNow(),\r\n\t\t\ttitle = row[2],\r\n\t\t\ttype = row[3],\r\n\t\t\ticon = row[4];\r\n\r\n\t\tvar $notification = $('<div class=\"notification\" />');\r\n\t\tif(!type) var type = '';\r\n\r\n\t\tif(title)\r\n\t\t\t$('<div class=\"notification-title '+type+'\" />').text(__(title).toUpperCase()).prependTo($notification);\r\n\r\n\t\tif(text)\r\n\t\t\t$('<div class=\"notification-description\" />').html(text).appendTo($notification);\r\n\r\n\t\tif(created_on)\r\n\t\t\t$('<div class=\"notification-ago margin-xs-vr\" />').html(created_on).appendTo($notification);\r\n\r\n\t\tif(icon)\r\n\t\t\t$('<div class=\"notification-icon fa fa-'+icon+'\" />').appendTo($notification);\r\n\r\n\t\treturn $notification;\r\n\t},\r\n\t_build: function() {\r\n\t\tvar $cont = $('.notifications-list', this.container);\r\n\r\n\t\tthis._list = _.sortBy(this._list, function(row) {\r\n\t\t\treturn !row[1].unix();\r\n\t\t});\r\n\r\n\t\tfor(i in this._list) {\r\n\t\t\t$notification = this._build_row(this._list[i]);\r\n\t\t\t$notification.prependTo($cont);\r\n\r\n\t\t\tif(this._list[i][5] !== false)\r\n\t\t\t\tthis.update_counter();\r\n\r\n\t\t\tdelete(this._list[i]);\r\n\t\t}\r\n\r\n\t\t$('.counter', this.container).text(parseInt(this.counter));\r\n\t}\r\n}","CMS.filemanager = {\r\n\topen: function(object, type) {\r\n\t\treturn $.fancybox.open({\r\n\t\t\thref : BASE_URL + '/filemanager.popup',\r\n\t\t\ttype: 'iframe'\r\n\t\t}, {\r\n\t\t\tautoSize: false,\r\n\t\t\twidth: 1000,\r\n\t\t\tafterLoad: function() {\r\n\t\t\t\tthis.content[0].contentWindow.elfinderInit({\r\n\t\t\t\t\tgetFileCallback: function(file) {\r\n\t\t\t\t\t\tif(_.isObject(file)) {\r\n\t\t\t\t\t\t\tfile = file.url;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif(_.isObject(object)) {\r\n\t\t\t\t\t\t\tobject.val(file);\r\n\t\t\t\t\t\t\twindow.top.$.fancybox.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tif(window.top.CMS.filters.exec(object, 'insert', file))\r\n\t\t\t\t\t\t\t\twindow.top.$.fancybox.close();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}","CMS.controllers = {\r\n\t_controllers: [],\r\n\tadd: function (rout, callback) {\r\n\t\tif (typeof(callback) != 'function')\r\n\t\t\treturn this;\r\n\r\n\t\tif (typeof(rout) == 'object')\r\n\t\t\tfor (var i = 0; i < rout.length; i++)\r\n\t\t\t\tthis._controllers.push([rout[i], callback]);\r\n\t\telse if (typeof(rout) == 'string')\r\n\t\t\tthis._controllers.push([rout, callback]);\r\n\r\n\t\treturn this;\r\n\t},\r\n\tcall: function () {\r\n\t\t$('body').trigger('controller.call.before');\r\n\r\n\t\tvar body_id = $('body:first').attr('id');\r\n\t\tfor (var i = 0; i < this._controllers.length; i++)\r\n\t\t\tif (body_id == 'body.' + this._controllers[i][0])\r\n\t\t\t\tthis._controllers[i][1](this._controllers[i][0]);\r\n\r\n\t\t$('body').trigger('controller.call.after');\r\n\t}\r\n}","CMS.ui.add('flags', function () {\r\n\t$('body').on('click', '.flags .label', function (e) {\r\n\t\tvar $src = $(this).parent().data('target');\r\n\t\tif (!$src) $src = $(this).parent().prevAll(':input');\r\n\t\telse $src = $($src);\r\n\r\n\t\tvar $container = $(this).parent();\r\n\t\tvar $append = $container.data('append') == true;\r\n\t\tvar $array = $container.data('array') == true;\r\n\t\tvar $value = $(this).data('value');\r\n\r\n\t\tif ($array) $value = $value.split(',');\r\n\r\n\t\tif ($append) {\r\n\t\t\tif ($src.is(':input')) {\r\n\t\t\t\tvar $values = $src.val().split(', ');\r\n\t\t\t\t$values.push($value);\r\n\t\t\t\t$values = _.uniq(_.compact($values));\r\n\t\t\t\t$src.val($values.join(', '));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar $values = $src.text().split(', ');\r\n\t\t\t\t$values.push($value);\r\n\t\t\t\t$values = _.uniq(_.compact($values));\r\n\t\t\t\t$src.text($values.join(', '));\r\n\t\t\t}\r\n\r\n\t\t\t$('.label', $container).removeClass('label-success');\r\n\t\t\tfor (i in $values) {\r\n\t\t\t\t$('.label[data-value=\"' + $values[i] + '\"]').addClass('label-success');\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\t$('.label', $container).removeClass('label-success');\r\n\t\t\t$(this).addClass('label-success');\r\n\r\n\t\t\tif ($src.hasClass('select2-offscreen')) {\r\n\t\t\t\t$src.select2(\"val\", $value);\r\n\t\t\t}\r\n\t\t\telse if ($src.is(':input')) {\r\n\t\t\t\t$src.val($value);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t$src.text($value);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\te.preventDefault();\r\n\t});\r\n}).add('btn-confirm', function () {\r\n\t$('body').on('click', '.btn-confirm', function (e) {\r\n\t\tif (!confirm(__('Are you sure?')))\r\n\t\t\te.preventDefault();\r\n\t});\r\n}).add('calculate_height', function () {\r\n\tCMS.calculateContentHeight();\r\n\r\n\t$(window).resize(function () {\r\n\t\tCMS.content_height = null;\r\n\t\tCMS.calculateContentHeight();\r\n\t});\r\n}).add('panel-toggler', function () {\r\n\tvar icon_open = 'fa-chevron-up',\r\n\t\ticon_close = 'fa-chevron-down';\r\n\r\n\t$('.panel-toggler')\r\n\t\t.click(function () {\r\n\t\t\tvar $self = $(this);\r\n\r\n\t\t\tif ($self.data('target-')) {\r\n\t\t\t\t$_cont = $($self.data('target-'));\r\n\t\t\t} else {\r\n\t\t\t\tvar $_cont = $self.next('.panel-spoiler');\r\n\t\t\t}\r\n\r\n\t\t\t$_cont.slideToggle('fast', function () {\r\n\t\t\t\tvar $icon = $self.find('.panel-toggler-icon');\r\n\t\t\t\tif ($(this).is(':hidden')) {\r\n\t\t\t\t\t$icon.removeClass(icon_open).addClass(icon_close).addClass('fa');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$icon.addClass(icon_open).removeClass(icon_close).addClass('fa');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn false;\r\n\t\t}).each(function () {\r\n\t\t\tif ($(this).data('hash') == window.location.hash.substring(1)) {\r\n\t\t\t\t$(this).click();\r\n\t\t\t\t$('html,body').animate({scrollTop: $(this).offset().top}, 'slow');\r\n\t\t\t}\r\n\t\t})\r\n\t\t.append('<div class=\"panel-heading-controls\"><span class=\"text-sm\"><i class=\"panel-toggler-icon fa ' + icon_close + '\" />&nbsp;&nbsp;&nbsp;' + __('Toggle') + '</span></div>');\r\n\r\n}).add('datepicker', function () {\r\n\r\n\tvar options = {\r\n\t\tformat: 'Y-m-d H:i:00',\r\n\t\tlang: LOCALE,\r\n\t\tdayOfWeekStart: 1\r\n\t};\r\n\r\n\t$('.datetimepicker').each(function () {\r\n\t\tvar local_options = $.extend({}, options);\r\n\t\tvar $self = $(this);\r\n\r\n\t\tif ($self.data('range-max-input')) {\r\n\t\t\tlocal_options['onShow'] = function (ct) {\r\n\t\t\t\tvar $input = $($self.data('range-max-input'));\r\n\t\t\t\tthis.setOptions({\r\n\t\t\t\t\tmaxDate: $input.val() ? $input.val() : false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ($self.data('range-min-input')) {\r\n\t\t\tlocal_options['onShow'] = function (ct) {\r\n\t\t\t\tvar $input = $($self.data('range-min-input'));\r\n\t\t\t\tthis.setOptions({\r\n\t\t\t\t\tminDate: $input.val() ? $input.val() : false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$self.datetimepicker(local_options);\r\n\t});\r\n\r\n\t$('.datepicker').each(function () {\r\n\t\tvar local_options = $.extend(options, {\r\n\t\t\ttimepicker: false,\r\n\t\t\tformat: 'Y-m-d'\r\n\t\t});\r\n\r\n\t\tvar $self = $(this);\r\n\r\n\t\tif ($self.data('range-max-input')) {\r\n\t\t\tlocal_options['onShow'] = function (ct) {\r\n\t\t\t\tvar $input = $($self.data('range-max-input'));\r\n\t\t\t\tthis.setOptions({\r\n\t\t\t\t\tmaxDate: $input.val() ? $input.val() : false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else if ($self.data('range-min-input')) {\r\n\t\t\tlocal_options['onShow'] = function (ct) {\r\n\t\t\t\tvar $input = $($self.data('range-min-input'));\r\n\t\t\t\tthis.setOptions({\r\n\t\t\t\t\tminDate: $input.val() ? $input.val() : false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$self.datetimepicker(local_options);\r\n\t});\r\n\r\n\t$('.timepicker').each(function () {\r\n\t\tvar local_options = $.extend(options, {\r\n\t\t\ttimepicker: true,\r\n\t\t\tdatepicker: false,\r\n\t\t\tformat: 'H:i:s'\r\n\t\t});\r\n\r\n\t\tvar $self = $(this);\r\n\r\n\t\t$self.datetimepicker(local_options);\r\n\t});\r\n}).add('slug', function () {\r\n\r\n\tvar slugs = {};\r\n\t$('body').on('keyup', '.slug-generator', function () {\r\n\t\tvar $slug_cont = $('.slugify');\r\n\r\n\t\tif ($(this).data('slug')) {\r\n\t\t\t$slug_cont = $($(this).data('slug'));\r\n\t\t}\r\n\r\n\t\t$separator = '-';\r\n\t\tif ($(this).data('separator')) {\r\n\t\t\t$separator = $(this).data('separator');\r\n\t\t}\r\n\r\n\t\tif ($slug_cont.is(':input') && $slug_cont.val() == '')\r\n\t\t\tslugs[$slug_cont] = true;\r\n\r\n\t\t$slug_cont.on('keyup', function () {\r\n\t\t\tslugs[$slug_cont] = false;\r\n\t\t});\r\n\r\n\t\tif (slugs[$slug_cont]) {\r\n\t\t\tvar slug = getSlug($(this).val(), {\r\n\t\t\t\tseparator: $separator\r\n\t\t\t});\r\n\r\n\t\t\tif ($slug_cont.is(':input'))\r\n\t\t\t\t$slug_cont.val(slug);\r\n\t\t\telse\r\n\t\t\t\t$slug_cont.text(slug);\r\n\t\t}\r\n\t});\r\n\r\n\t$('body').on('keyup', '.slugify', function () {\r\n\t\tvar c = String.fromCharCode(event.keyCode);\r\n\t\tvar isWordcharacter = c.match(/\\w/);\r\n\r\n\t\tif (!isWordcharacter && event.keyCode != '32') return;\r\n\r\n\t\t$separator = '-';\r\n\t\tif ($(this).data('separator')) {\r\n\t\t\t$separator = $(this).data('separator');\r\n\t\t}\r\n\r\n\t\tvar slug = getSlug($(this).val(), {\r\n\t\t\tseparator: $separator\r\n\t\t});\r\n\r\n\t\t$(this).val(slug);\r\n\t\tslugs[$(this)] = false;\r\n\r\n\t\tif ($(this).val() == '')\r\n\t\t\tslugs[$(this)] = true;\r\n\t});\r\n\r\n}).add('dropzone', function () {\r\n\t// Disable auto discover for all elements:\r\n\tDropzone.autoDiscover = false;\r\n\r\n\tif (!$('.dropzone').length) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tCMS.uploader = new Dropzone('.dropzone', {\r\n\t\tsuccess: function (file, r) {\r\n\t\t\tvar response = $.parseJSON(r);\r\n\t\t\tvar self = this;\r\n\t\t\tif (response.code != 200) {\r\n\t\t\t\tCMS.messages.error(response.message);\r\n\r\n\t\t\t} else if (response.message) {\r\n\t\t\t\tCMS.messages.show(response.message);\r\n\t\t\t}\r\n\r\n\t\t\t$(file.previewElement).fadeOut(500, function () {\r\n\t\t\t\tself.removeFile(file);\r\n\t\t\t});\r\n\t\t},\r\n\t\terror: function (file, message) {\r\n\t\t\tCMS.messages.error(message);\r\n\t\t\tthis.removeFile(file);\r\n\t\t},\r\n\t\tdictDefaultMessage: __(\"Drop files here to upload\"),\r\n\t\tdictFallbackMessage: __(\"Your browser does not support drag'n'drop file uploads.\"),\r\n\t\tdictFallbackText: __(\"Please use the fallback form below to upload your files like in the olden days.\"),\r\n\t\tdictFileTooBig: __(\"File is too big ({{filesize}}MB). Max filesize: {{maxFilesize}}MB.\"),\r\n\t\tdictInvalidFileType: __(\"You can't upload files of this type.\"),\r\n\t\tdictResponseError: __(\"Server responded with {{statusCode}} code.\"),\r\n\t\tdictCancelUpload: __(\"Cancel upload\"),\r\n\t\tdictCancelUploadConfirmation: __(\"Are you sure you want to cancel this upload?\"),\r\n\t\tdictRemoveFile: __(\"Remove file\"),\r\n\t\tdictMaxFilesExceeded: __(\"You can only upload {{maxFiles}} files.\"),\r\n\t});\r\n}).add('select2', function () {\r\n\t$('select').not('.no-script').select2();\r\n\t$('.tags').select2({\r\n\t\ttags: [],\r\n\t\tminimumInputLength: 0,\r\n\t\ttokenSeparators: [',', ' ', ';']\r\n\t});\r\n}).add('ajax_form', function () {\r\n\t$('body').on('submit', 'form.form-ajax', function () {\r\n\t\tvar $self = $(this),\r\n\t\t\t$buttons = $('button', $self).attr('disabled', 'disabled'),\r\n\t\t\t$action = $self.attr('action');\r\n\r\n\t\tif ($self.data('ajax-action'))\r\n\t\t\t$action = $self.data('ajax-action');\r\n\r\n\t\tApi.post($action, $self, function (response) {\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\t$buttons.removeAttr('disabled');\r\n\t\t\t}, 5000);\r\n\t\t});\r\n\r\n\t\treturn false;\r\n\t});\r\n}).add('filemanager', function () {\r\n\tvar $input = $(':input[data-filemanager]');\r\n\r\n\t$input.each(function () {\r\n\t\tvar $self = $(this);\r\n\t\tvar $btn = $('<button class=\"btn\" type=\"button\"><i class=\"fa fa-folder-open\"></i></button>');\r\n\t\tif ($self.next().hasClass('input-group-btn')) {\r\n\t\t\t$btn.prependTo($self.next());\r\n\t\t} else {\r\n\t\t\t$btn.insertAfter($self);\r\n\t\t}\r\n\r\n\t\t$btn.on('click', function () {\r\n\t\t\tCMS.filemanager.open($self);\r\n\t\t});\r\n\r\n\t\t$self.removeAttr('data-filemanager');\r\n\t})\r\n\r\n\t$('body').on('click', '.btn-filemanager', function () {\r\n\t\tvar el = $(this).data('el');\r\n\t\tvar type = $(this).data('type');\r\n\r\n\t\tif (!el) return false;\r\n\r\n\t\tCMS.filemanager.open(el, type);\r\n\t\treturn false;\r\n\t});\r\n}).add('hotkeys', function () {\r\n\t$('*[data-hotkeys]').each(function () {\r\n\t\tvar $self = $(this),\r\n\t\t\t$hotkeys = $self.data('hotkeys'),\r\n\t\t\t$callback = function (e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t};\r\n\r\n\t\tif ($self.is(':submit') || $self.hasClass('popup')) {\r\n\t\t\t$callback = function (e) {\r\n\t\t\t\t$self.trigger('click');\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t} else if ($self.attr('href')) {\r\n\r\n\t\t\t$callback = function (e) {\r\n\t\t\t\tif ($self.hasClass('btn-confirm')) {\r\n\t\t\t\t\tif (!confirm(__('Are you sure?')))\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\twindow.location = $self.attr('href');\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t} else if ($self.hasClass('panel-toggler')) {\r\n\t\t\t$callback = function (e) {\r\n\t\t\t\t$self.trigger('click');\r\n\t\t\t\t$('body').scrollTo($self);\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t} else if ($self.hasClass('nav-tabs')) {\r\n\t\t\t$callback = function (e) {\r\n\t\t\t\tvar $current_li = $self.find('li.active'),\r\n\t\t\t\t\t$next_li = $current_li.next();\r\n\r\n\t\t\t\tif ($next_li.hasClass('nav-section')) {\r\n\t\t\t\t\t$next_li = $next_li.next();\r\n\t\t\t\t}\r\n\t\t\t\tif ($current_li.is(':last-child')) {\r\n\t\t\t\t\t$next_li = $self.parent().find('li:first-child');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$next_li.find('a').trigger('click');\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t} else if ($self.is(':checkbox')) {\r\n\t\t\t$callback = function (e) {\r\n\t\t\t\tif ($self.prop(\"checked\"))\r\n\t\t\t\t\t$self.uncheck().trigger('change');\r\n\t\t\t\telse\r\n\t\t\t\t\t$self.check().trigger('change');\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$(document).on('keydown', null, $hotkeys, $callback);\r\n\t});\r\n\r\n\t// GLOBAL HOTKEYS\r\n\t$(document).on('keydown', null, 'shift+f1', function (e) {\r\n\t\tApi.delete('cache');\r\n\t\te.preventDefault();\r\n\t});\r\n\r\n\t$(document).on('keydown', null, 'shift+f3', function (e) {\r\n\t\tApi.get('search.update_index');\r\n\t\te.preventDefault();\r\n\t});\r\n\r\n\t$(document).on('keydown', null, 'shift+f4', function (e) {\r\n\t\tApi.post('layout.rebuild');\r\n\t\te.preventDefault();\r\n\t});\r\n\r\n\t$(document).on('keydown', null, 'ctrl+shift+l', function (e) {\r\n\t\twindow.location = '/backend/logout';\r\n\t\te.preventDefault();\r\n\t});\r\n}).add('api_buttons', function () {\r\n\t$('.btn[data-api-url]').on('click', function (e) {\r\n\t\te.preventDefault();\r\n\t\tvar $self = $(this);\r\n\r\n\t\tvar $callback = function (response) {};\r\n\t\tvar $url = $self.data('api-url');\r\n\t\tif (!$url) return;\r\n\r\n\t\tvar $callback = $self.data('callback');\r\n\t\tif ($callback) $callback = window[$callback];\r\n\t\telse $callback = function (response) {};\r\n\r\n\t\tvar $method = $self.data('method'),\r\n\t\t\t$reload = $self.data('reload'),\r\n\t\t\t$params = $self.data('params');\r\n\r\n\t\tif ($reload) {\r\n\t\t\tif ($reload === true) $callback = function () { window.location = '' }\r\n\t\t\telse $callback = function () { window.location = $reload }\r\n\t\t}\r\n\r\n\t\tif (!$method) $method = 'GET';\r\n\r\n\t\tApi.request($method, $url, $params, $callback);\r\n\t})\r\n}).add('select_all_checkbox', function () {\r\n\t$(document).on('change', 'input[name=\"check_all\"]', function (e) {\r\n\t\tvar $self = $(this),\r\n\t\t\t$target = $self.data('target');\r\n\r\n\t\tif (!$target) return false;\r\n\r\n\t\t$($target).prop(\"checked\", this.checked).trigger('change');\r\n\t\te.preventDefault();\r\n\t});\r\n}).add('icon', function () {\r\n\t$('*[data-icon]').add('*[data-icon-prepend]').each(function () {\r\n\t\t$(this).html('<i class=\"fa fa-' + $(this).data('icon') + '\"></i> ' + $(this).html());\r\n\t\t$(this).removeAttr('data-icon-prepend').removeAttr('data-icon');\r\n\t});\r\n\r\n\t$('*[data-icon-append]').each(function () {\r\n\t\t$(this).html($(this).html() + '&nbsp&nbsp<i class=\"fa fa-' + $(this).data('icon-append') + '\"></i>');\r\n\t\t$(this).removeAttr('data-icon-append');\r\n\t});\r\n}).add('tabbable', function () {\r\n\t$('.tabbable').each(function (i) {\r\n\t\tvar $self = $(this);\r\n\r\n\t\tif ($('> .panel-heading', $self).size() > 0) {\r\n\t\t\tvar $tabs_content = $('<div class=\"tab-content no-padding-t no-padding-b\" />').prependTo($self);\r\n\t\t\tvar $tabs_ul = $('<ul class=\"nav nav-tabs tabs-generated\" style=\"position:relative; margin-top: 10px;\" />').insertBefore($self);\r\n\t\t\t$('> .panel-heading', $self).each(function (j) {\r\n\t\t\t\tvar $li = $('<li></li>').appendTo($tabs_ul);\r\n\t\t\t\tvar $content = $(this).nextUntil('.panel-heading').not('.panel-footer').removeClass('panel-spoiler');\r\n\r\n\t\t\t\t$(this).find('.panel-title').removeClass('panel-title');\r\n\t\t\t\t$(this).find('.panel-heading-controls').remove();\r\n\t\t\t\tvar $content_container = $('<div class=\"tab-pane\" id=\"panel-tab-' + i + '' + '' + j + '\" />').append($content).appendTo($tabs_content);\r\n\t\t\t\t$('<a href=\"#panel-tab-' + i + '' + '' + j + '\" data-toggle=\"tab\"></a>').html($(this).html()).appendTo($li);\r\n\r\n\t\t\t\t$(this).remove();\r\n\t\t\t});\r\n\r\n\t\t\t$('li a', $tabs_ul).on('click', function () {\r\n\t\t\t\twindow.location.hash = $(this).attr('href');\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tif (window.location.hash.length > 0 && $('.tabs-generated li a[href=' + window.location.hash + ']').length > 0) {\r\n\t\t$('li a[href=' + window.location.hash + ']').parent().addClass('active');\r\n\t\t$('.tabbable .tab-pane' + window.location.hash).addClass('active');\r\n\t} else {\r\n\t\t$('.tabs-generated li:first-child').addClass('active');\r\n\t\t$('.tabbable .tab-pane:first-child').addClass('active');\r\n\t}\r\n\r\n\t$('.tabs-generated').tabdrop();\r\n}).add('noty', function() {\r\n\t$.noty.defaults = $.extend($.noty.defaults, {\r\n\t\tlayout: 'topRight',\r\n\t\ttheme: 'bootstrapTheme',\r\n\t\ttimeout: 3000\r\n\t});\r\n})\r\n.add('i18nSetup', function() {\r\n\ti18n.init({\r\n\t\tlng: LOCALE,\r\n\t\tfallbackLng: [],\r\n\t\tresGetPath: '/cms/js/locale/__lng__.json',\r\n\t});\r\n})\r\n.add('momentJs', function() {\r\n\tmoment.locale(LOCALE);\r\n});","(function ($) {\r\n\tvar methods = {\r\n\t\tsettings: {\r\n\t\t\tupdateOnResize: false,\r\n\t\t\tcontentHeight: false,\r\n\t\t\ttype: 'height',\r\n\t\t\toffset: 0,\r\n\t\t\tminHeight: 0,\r\n\t\t\tonCalculate: function($target_object, $height) {\r\n\t\t\t\t$target_object.css(this.type, $height);\r\n\t\t\t},\r\n\t\t\tonResize: function($target_object, $height) {\r\n\t\t\t\t$target_object.css(methods.settings.type, $height);\r\n\t\t\t}\r\n\t\t},\r\n\t\tchildren: function($object, $target_object, $height) {\r\n\t\t\t$object.children().each(function() {\r\n\t\t\t\tvar $self = $(this);\r\n\r\n\t\t\t\tif($target_object.is($self) || $self.is(':hidden')) return;\r\n\r\n\t\t\t\tif($self.find($target_object).size() > 0) {\r\n\t\t\t\t\t$height -= ($self.outerHeight(true) - $self.outerHeight());\r\n\t\t\t\t\t$height = methods.children($self, $target_object, $height);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$height -= $self.outerHeight(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn $height;\r\n\t\t},\r\n\t\tget_calculated_height: function($object, $target_object) {\r\n\t\t\tvar height = this.get_content_height($object);\r\n\t\t\theight = this.children($object, $target_object, height);\r\n\r\n\t\t\theight -= parseInt(methods.settings.offset);\r\n\r\n\t\t\tif(height < methods.settings.minHeight)\r\n\t\t\t\theight = methods.settings.minHeight;\r\n\r\n\t\t\treturn height;\r\n\t\t},\r\n\t\tget_content_height: function($object) {\r\n\t\t\tvar height = 0;\r\n\r\n\t\t\tif(this.settings.contentHeight) {\r\n\t\t\t\tif((typeof this.settings.contentHeight == \"boolean\") || this.settings.contentHeight == 'auto')\r\n\t\t\t\t\theight = CMS.calculateContentHeight();\r\n\t\t\t\telse\r\n\t\t\t\t\theight = parseInt(this.settings.contentHeight);\r\n\t\t\t} else\r\n\t\t\t\theight = $object.height();\r\n\r\n\t\t\treturn height - 3;\r\n\t\t},\r\n\t\tget_taget_object: function($object, $container) {\r\n\t\t\tif (typeof $object == 'string' || $object instanceof String)\r\n\t\t\t\treturn $($object, $container);\r\n\t\t\telse if($target_object instanceof jQuery)\r\n\t\t\t\treturn $object;\r\n\t\t\telse return false;\r\n\t\t}\r\n\t}\r\n\r\n\t$.fn.calcHeightFor = function($object, options) {\r\n\r\n\t\tmethods.settings = $.extend(methods.settings, options);\r\n\t\tvar $self = $(this);\r\n\r\n\t\t$target_object = methods.get_taget_object($object, this);\r\n\t\tif(!$target_object || $self.find($target_object).size() == 0) return;\r\n\r\n\t\tvar contHeight = methods.get_content_height($self);\r\n\t\tcontHeight = methods.children($(this), $target_object, contHeight);\r\n\r\n\t\treturn contHeight;\r\n\t};\r\n\r\n\t$.fn.setHeightFor = function($object, options) {\r\n\t\tmethods.settings = $.extend(methods.settings, options);\r\n\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $self = $(this);\r\n\r\n\t\t\t$target_object = methods.get_taget_object($object, this);\r\n\t\t\tif(!$target_object || $self.find($target_object).size() == 0) return;\r\n\r\n\t\t\tvar $size = $target_object.size();\r\n\t\t\t$target_object.each(function() {\r\n\t\t\t\tvar $target_object = $(this);\r\n\t\t\t\tvar height = methods.get_calculated_height($self, $target_object) / $size;\r\n\t\t\t\tmethods.settings.onCalculate($target_object, height);\r\n\r\n\t\t\t\tif(methods.settings.updateOnResize) {\r\n\t\t\t\t\t$(window).on('resize', $self, function() {\r\n\t\t\t\t\t\tvar height = methods.get_calculated_height($self, $target_object) / $size;\r\n\t\t\t\t\t\tmethods.settings.onResize($target_object, height);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n})(jQuery);\r\n\r\n\r\nfunction strtr(e, t, n) {\r\n\tif (typeof t === \"object\") {\r\n\t\tvar r = \"\";\r\n\t\tfor (var i = 0; i < e.length; i++) {\r\n\t\t\tr += \"0\"\r\n\t\t}\r\n\t\tvar s = 0;\r\n\t\tvar o = -1;\r\n\t\tvar u = \"\";\r\n\t\tfor (fr in t) {\r\n\t\t\ts = 0;\r\n\t\t\twhile ((o = e.indexOf(fr, s)) != -1) {\r\n\t\t\t\tif (parseInt(r.substr(o, fr.length)) != 0) {\r\n\t\t\t\t\ts = o + 1;\r\n\t\t\t\t\tcontinue\r\n\t\t\t\t}\r\n\t\t\t\tfor (var a = 0; a < t[fr].length; a++) {\r\n\t\t\t\t\tu += \"1\"\r\n\t\t\t\t}\r\n\t\t\t\tr = r.substr(0, o) + u + r.substr(o + fr.length, r.length - (o + fr.length));\r\n\t\t\t\te = e.substr(0, o) + t[fr] + e.substr(o + fr.length, e.length - (o + fr.length));\r\n\t\t\t\ts = o + t[fr].length + 1;\r\n\t\t\t\tu = \"\"\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn e\r\n\t}\r\n\tfor (var f = 0; f < t.length; f++) {\r\n\t\te = e.replace(new RegExp(t.charAt(f), \"g\"), n.charAt(f))\r\n\t}\r\n\treturn e\r\n}\r\n\r\nfunction __(e, t) {\r\n\tif (CMS.translations[e] !== undefined) {\r\n\t\tvar e = CMS.translations[e]\r\n\t}\r\n\treturn t == undefined ? e : strtr(e, t)\r\n}\r\n\r\nfunction readImage(input, target) {\r\n\tif (input.files && input.files[0] && target) {\r\n\t\tvar FR = new FileReader();\r\n\t\tFR.onload = function(e) {\r\n\t\t\tvar img = new Image();\r\n\t\t\timg.src = e.target.result;\r\n\r\n\t\t\tvar ratio = img.width / img.height;\r\n\r\n\t\t\tvar canvas = document.createElement(\"canvas\");\r\n\t\t\tcanvas.width = 100 * ratio;\r\n\t\t\tcanvas.height = 100;\r\n\r\n\t\t\tvar ctx = canvas.getContext(\"2d\");\r\n\t\t\tctx.drawImage(img, 0, 0, canvas.width, canvas.height);\r\n\t\t\ttarget.attr(\"src\", canvas.toDataURL(\"image/jpeg\", 1));\r\n\t\t};\r\n\t\tFR.readAsDataURL(input.files[0]);\r\n\t}\r\n}","var Popup = {\r\n\t_target: null,\r\n\t_defaults: {\r\n\t\twidth: '99%',\r\n\t\theight: '99%',\r\n\t\tonLoad: function() {\r\n\t\t\tconsole.log(this);\r\n\t\t\t//var url = this.href.split(\"?\")[0];\r\n\t\t\t//var query_string = $.query.load(this.href).set('type', 'iframe').toString();\r\n\t\t\t//\r\n\t\t\t//this.href = url + query_string;\r\n\t\t\t//var title = this.element.data('title');\r\n\t\t\t//if (title !== false) {\r\n\t\t\t//\tthis.title = title ? title : this.element.html();\r\n\t\t\t//}\r\n\t\t\t//\r\n\t\t\t//Popup._target = this.element;\r\n\t\t}\r\n\t},\r\n\thtml: function(html, params) {\r\n\t\tif(!params) params = {};\r\n\r\n\t\tif(html instanceof jQuery)\r\n\t\t\tvar options = {\r\n\t\t\t\tinline: true,\r\n\t\t\t\thref: html\r\n\t\t\t};\r\n\t\telse\r\n\t\t\tvar options = {\r\n\t\t\t\thtml: html\r\n\t\t\t};\r\n\r\n\t\treturn this.get($.extend(params, options));\r\n\t},\r\n\tiframe: function(href, params) {\r\n\t\tif(!params) params = {};\r\n\r\n\t\tvar options = {\r\n\t\t\tiframe: true\r\n\t\t};\r\n\r\n\t\treturn this.href(href, $.extend(params, options));\r\n\t},\r\n\thref: function(href, params) {\r\n\t\tif(!params) params = {};\r\n\r\n\t\tvar options = {\r\n\t\t\thref: href\r\n\t\t};\r\n\r\n\t\treturn this.get($.extend(params, options));\r\n\t},\r\n\tclose: function() {\r\n\t\t$.colorbox.close();\r\n\t},\r\n\tget: function(options) {\r\n\t\tvar settings = $.extend(this._defaults, options);\r\n\r\n\t\treturn $.colorbox(settings);\r\n\t},\r\n\tonOpen: function() {\r\n\r\n\t}\r\n}\r\n//\r\n//CMS.ui.add('popup', function ()\r\n//{\r\n//\t$(\".popup\").fancybox({\r\n//\t\tfitToView: true,\r\n//\t\tautoSize: false,\r\n//\t\topenEffect: 'none',\r\n//\t\tcloseEffect: 'none',\r\n//\t\tbeforeLoad: function () {\r\n//\t\t\tvar url = this.href.split(\"?\")[0];\r\n//\t\t\tvar query_string = $.query.load(this.href).set('type', 'iframe').toString();\r\n//\r\n//\t\t\tthis.href = url + query_string;\r\n//\t\t\tvar title = this.element.data('title');\r\n//\t\t\tif (title !== false) {\r\n//\t\t\t\tthis.title = title ? title : this.element.html();\r\n//\t\t\t}\r\n//\r\n//\t\t\tCMS.popup_target = this.element;\r\n//\t\t},\r\n//\t\thelpers: {\r\n//\t\t\ttitle: {\r\n//\t\t\t\ttype: 'inside',\r\n//\t\t\t\tposition: 'top'\r\n//\t\t\t}\r\n//\t\t}\r\n//\t});\r\n//\r\n//\tvar $form = $('form');\r\n//\tvar $form_actions = $('.iframe .form-actions');\r\n//\tvar method = $form.data('api-method');\r\n//\tvar action = $form.data('api-url');\r\n//\r\n//\tif((method && method.length > 0 && action && action.length > 0)) {\r\n//\t\t$('.btn-save', $form_actions).on('click', function (e) {\r\n//\t\t\tvar $data = $form.serializeObject();\r\n//\t\t\tApi[method](action, $data);\r\n//\t\t\te.preventDefault();\r\n//\t\t});\r\n//\r\n//\t\t$('.btn-save-close', $form_actions).on('click', function (e) {\r\n//\t\t\tvar $data = $('form').serializeObject();\r\n//\t\t\tApi[method](action, $data, function (response) {\r\n//\t\t\t\t(response.code == 200) && window.top.$.fancybox.close();\r\n//\t\t\t});\r\n//\r\n//\t\t\te.preventDefault();\r\n//\t\t});\r\n//\t}\r\n//\r\n//\t$('.btn-close', $form_actions).on('click', function (e) {\r\n//\t\twindow.top.$.fancybox.close();\r\n//\t\te.preventDefault();\r\n//\t});\r\n//});","var Api = {\r\n\t_response: null,\r\n\tget: function(uri, data, callback, async) {\r\n\t\tvar request = this.request('GET', uri, data, callback, async);\r\n\r\n\t\tif(async === false)\r\n\t\t\tthis._response = request.responseJSON;\r\n\r\n\t\treturn this.response();\r\n\t},\r\n\tpost: function(uri, data, callback, async) {\r\n\t\tvar request = this.request('POST', uri, data, callback, async);\r\n\r\n\t\tif(async === false)\r\n\t\t\tthis._response = request.responseJSON;\r\n\r\n\t\treturn this.response();\r\n\t},\r\n\tput: function(uri, data, callback, async) {\r\n\t\tvar request = this.request('PUT', uri, data, callback, async);\r\n\r\n\t\tif(async === false)\r\n\t\t\tthis._response = request.responseJSON;\r\n\r\n\t\treturn this.response();\r\n\t},\r\n\t'delete': function(uri, data, callback, async) {\r\n\t\tvar request = this.request('DELETE', uri, data, callback, async);\r\n\r\n\t\tif(async === false)\r\n\t\t\tthis._response = request.responseJSON;\r\n\r\n\t\treturn this.response();\r\n\t},\r\n\trequest: function(method, uri, data, callback, async) {\r\n\t\turl = uri;\r\n\r\n\t\tvar obj = new Object();\r\n\r\n\t\t$.ajaxSetup({\r\n\t\t\tcontentType : 'application/json'\r\n\t\t});\r\n\r\n\t\tif(data instanceof jQuery) {\r\n\t\t\tdata = Api.serializeObject(data);\r\n\t\t}\r\n\r\n\t\tif(typeof(data) == 'object' && method != 'GET') {\r\n\t\t\tdata = JSON.stringify(data);\r\n\t\t}\r\n\r\n\t\treturn $.ajax({\r\n\t\t\ttype: method,\r\n\t\t\turl: url,\r\n\t\t\tdata: data,\r\n\t\t\tdataType: 'json',\r\n\t\t\tasync: async !== false\r\n\t\t})\r\n\t\t\t.done(function(response) {\r\n\t\t\t\tthis._response = response;\r\n\r\n\t\t\t\tif(response.code != 200) {\r\n\t\t\t\t\treturn Api.exception(response, callback);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif(response.message)\r\n\t\t\t\t\tCMS.messages.show(response.message, 'success', 'fa fa-exclamation-triangle');\r\n\r\n\t\t\t\tvar $event = method + url.replace(SITE_URL, \":\").replace(/\\//g, ':');\r\n\t\t\t\twindow.top.$('body').trigger($event.toLowerCase(), [this._response.content]);\r\n\r\n\t\t\t\tif(typeof(callback) == 'function') callback(this._response);\r\n\t\t\t})\r\n\t\t\t.fail(function(e) {\r\n\t\t\t\treturn Api.exception(e.responseJSON, callback);\r\n\t\t\t});\r\n\t},\r\n\tserializeObject: function(form) {\r\n\t\tvar self = form,\r\n\t\t\tjson = {},\r\n\t\t\tpush_counters = {},\r\n\t\t\tpatterns = {\r\n\t\t\t\t\"validate\": /^[a-zA-Z][a-zA-Z0-9_]*(?:\\[(?:\\d*|[a-zA-Z0-9_]+)\\])*$/,\r\n\t\t\t\t\"key\":      /[a-zA-Z0-9_]+|(?=\\[\\])/g,\r\n\t\t\t\t\"push\":     /^$/,\r\n\t\t\t\t\"fixed\":    /^\\d+$/,\r\n\t\t\t\t\"named\":    /^[a-zA-Z0-9_]+$/\r\n\t\t\t};\r\n\r\n\t\tvar build = function(base, key, value){\r\n\t\t\tbase[key] = value;\r\n\t\t\treturn base;\r\n\t\t};\r\n\r\n\t\tvar push_counter = function(key){\r\n\t\t\tif(push_counters[key] === undefined){\r\n\t\t\t\tpush_counters[key] = 0;\r\n\t\t\t}\r\n\t\t\treturn push_counters[key]++;\r\n\t\t};\r\n\r\n\t\t$.each(form.serializeArray(), function(){\r\n\t\t\t// skip invalid keys\r\n\t\t\tif(!patterns.validate.test(this.name)){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar k,\r\n\t\t\t\tkeys = this.name.match(patterns.key),\r\n\t\t\t\tmerge = this.value,\r\n\t\t\t\treverse_key = this.name;\r\n\r\n\t\t\twhile((k = keys.pop()) !== undefined){\r\n\t\t\t\t// adjust reverse_key\r\n\t\t\t\treverse_key = reverse_key.replace(new RegExp(\"\\\\[\" + k + \"\\\\]$\"), '');\r\n\t\t\t\t// push\r\n\t\t\t\tif(k.match(patterns.push)){\r\n\t\t\t\t\tmerge = build([], push_counter(reverse_key), merge);\r\n\t\t\t\t}\r\n\t\t\t\t// fixed\r\n\t\t\t\telse if(k.match(patterns.fixed)){\r\n\t\t\t\t\tmerge = build([], k, merge);\r\n\t\t\t\t}\r\n\t\t\t\t// named\r\n\t\t\t\telse if(k.match(patterns.named)){\r\n\t\t\t\t\tmerge = build({}, k, merge);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tjson = $.extend(true, json, merge);\r\n\t\t});\r\n\t\treturn json;\r\n\t},\r\n\texception: function(response, callback) {\r\n\t\tif(typeof(callback) == 'function')\r\n\t\t\tcallback(response);\r\n\r\n\t\tswitch (response.code) {\r\n\t\t\tcase 220: // ERROR_PERMISSIONS\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 110: // ERROR_MISSING_PAPAM\r\n\t\t\t\tCMS.messages.show(response.message, 'error', 'fa fa-exclamation-triangle');\r\n\t\t\t\tfor(i in response.fields)\r\n\t\t\t\t\tCMS.error_field(response.fields[i], 'Required');\r\n\t\t\t\tbreak;\r\n\t\t\tcase 120: // ERROR_VALIDATION\r\n\t\t\t\tfor(i in response.errors){\r\n\t\t\t\t\tCMS.messages.show(response.errors[i], 'error', 'fa fa-exclamation-triangle');\r\n\t\t\t\t\tCMS.error_field(i, response.errors[i].join(', '));\r\n\t\t\t\t}\r\n\t\t\t\tbreak;\r\n\t\t\tcase 130: // ERROR_UNKNOWN\r\n\t\t\tcase 140: // ERROR_TOKEN\r\n\t\t\tcase 150: // ERROR_MISSING_ASSIGMENT\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 301: // Redirect\r\n\t\t\tcase 302: // Redirect\r\n\t\t\t\tif(REQUEST_TYPE == 'iframe')\r\n\t\t\t\t\tvar pos = response.targetUrl.indexOf('?');\r\n\t\t\t\tif(pos != -1) {\r\n\t\t\t\t\tresponse.targetUrl += '&type=iframe';\r\n\t\t\t\t} else response.targetUrl += '?type=iframe';\r\n\t\t\t\twindow.location.href = response.targetUrl;\r\n\t\t\t\tbreak;\r\n\t\t\tcase 403: // ERROR_UNAUTHORIZED\r\n\t\t\tcase 404: // ERROR_PAGE_NOT_FOUND\r\n\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\tresponse: function() {\r\n\t\treturn this._response;\r\n\t}\r\n};","var UserMeta = {\r\n\t_url: '/api.user.meta',\r\n\tget: function(key, callback) {\r\n\t\tApi.get(this._url, {key: key}, callback);\r\n\t},\r\n\tadd: function(key, data, callback) {\r\n\t\tApi.post(this._url, {key: key, value: data}, callback);\r\n\t},\r\n\tupdate: function(key, data, callback) {\r\n\t\tApi.put(this._url, {key: key, value: data}, callback);\r\n\t},\r\n\t'delete': function(key, callback) {\r\n\t\tApi.delete(this._url, {key: key, value: data}, callback);\r\n\t}\r\n}","$(function() {\r\n\t$.ajaxSetup({\r\n\t\theaders: {\r\n\t\t\t'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n\t\t}\r\n\t});\r\n\r\n\tCMS.ui.init();\r\n\tKodiCMS.start(null, CMS.settings);\r\n\r\n\tCMS.controllers.call();\r\n\r\n\tsetTimeout(function() {\r\n\t\tCMS.notifications.init();\r\n\t}, 1500);\r\n\r\n\tCMS.messages.init();\r\n});"],"sourceRoot":"/source/"}