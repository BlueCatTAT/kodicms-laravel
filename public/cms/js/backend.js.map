{"version":3,"sources":["core.js","helpers.js","app.js","ui.js","api.js","run.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC5tMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/VA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"backend.js","sourcesContent":["(function() {\n\tif (!String.prototype.endsWith) {\n\n\t\t/*\n\t\t * Determines whether a string ends with the specified suffix.\n\t\t * \n\t\t * @param  {String} suffix\n\t\t * @return Boolean\n\t\t */\n\t\tString.prototype.endsWith = function(suffix) {\n\t\t\treturn this.indexOf(suffix, this.length - suffix.length) !== -1;\n\t\t};\n\t}\n\n\tif (!String.prototype.trim) {\n\n\t\t/*\n\t\t * Removes whitespace from both sides of a string.\n\t\t * \n\t\t * @return {String}\n\t\t */\n\t\tString.prototype.trim = function() {\n\t\t\treturn this.replace(/^\\s+|\\s+$/g, '');\n\t\t};\n\t}\n\n\tif (!Array.prototype.indexOf) {\n\n\t\t/*\n\t\t * The indexOf() method returns the first index at which a given element can be found in the array, or -1 if it is not present.\n\t\t * \n\t\t * @param  {Variant} searchElement\n\t\t * @param  {Integer} fromIndex\n\t\t * @return {Integer}\n\t\t */\n\t\tArray.prototype.indexOf = function(searchElement, fromIndex) {\n\t\t\tvar i, length, _i;\n\t\t\tif (this === void 0 || this === null) {\n\t\t\t\tthrow new TypeError('\"this\" is null or not defined');\n\t\t\t}\n\t\t\tlength = this.length >>> 0;\n\t\t\tfromIndex = +fromIndex || 0;\n\t\t\tif (Math.abs(fromIndex) === Infinity) {\n\t\t\t\tfromIndex = 0;\n\t\t\t}\n\t\t\tif (fromIndex < 0) {\n\t\t\t\tfromIndex += length;\n\t\t\t\tif (fromIndex < 0) {\n\t\t\t\t\tfromIndex = 0;\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (i = _i = fromIndex; fromIndex <= length ? _i < length : _i > length; i = fromIndex <= length ? ++_i : --_i) {\n\t\t\t\tif (this[i] === searchElement) {\n\t\t\t\t\treturn i;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn -1;\n\t\t};\n\t}\n\n\tif (!Function.prototype.bind) {\n\t\tFunction.prototype.bind = function(oThis) {\n\t\t\tvar aArgs, fBound, fNOP, fToBind;\n\t\t\tif (typeof this !== \"function\") {\n\t\t\t\tthrow new TypeError(\"Function.prototype.bind - what is trying to be bound is not callable\");\n\t\t\t}\n\t\t\taArgs = Array.prototype.slice.call(arguments, 1);\n\t\t\tfToBind = this;\n\t\t\tfNOP = function() {\n\t\t\t};\n\t\t\tfBound = function() {\n\t\t\t\treturn fToBind.apply((this instanceof fNOP && oThis ? this : oThis), aArgs.concat(Array.prototype.slice.call(arguments)));\n\t\t\t};\n\t\t\tfNOP.prototype = this.prototype;\n\t\t\tfBound.prototype = new fNOP();\n\t\t\treturn fBound;\n\t\t};\n\t}\n\n\tif (!Object.keys) {\n\t\tObject.keys = (function() {\n\t\t\t'use strict';\n\t\t\tvar dontEnums, hasDontEnumBug, hasOwnProperty;\n\t\t\thasOwnProperty = Object.prototype.hasOwnProperty;\n\t\t\thasDontEnumBug = {\n\t\t\t\ttoString: null\n\t\t\t}.propertyIsEnumerable('toString') ? false : true;\n\t\t\tdontEnums = ['toString', 'toLocaleString', 'valueOf', 'hasOwnProperty', 'isPrototypeOf', 'propertyIsEnumerable', 'constructor'];\n\t\t\treturn function(obj) {\n\t\t\t\tvar dontEnum, prop, result, _i, _j, _len, _len1;\n\t\t\t\tif (typeof obj !== 'object' && (typeof obj !== 'function' || obj === null)) {\n\t\t\t\t\tthrow new TypeError('Object.keys called on non-object');\n\t\t\t\t}\n\t\t\t\tresult = [];\n\t\t\t\tfor (_i = 0, _len = obj.length; _i < _len; _i++) {\n\t\t\t\t\tprop = obj[_i];\n\t\t\t\t\tif (hasOwnProperty.call(obj, prop)) {\n\t\t\t\t\t\tresult.push(prop);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (hasDontEnumBug) {\n\t\t\t\t\tfor (_j = 0, _len1 = dontEnums.length; _j < _len1; _j++) {\n\t\t\t\t\t\tdontEnum = dontEnums[_j];\n\t\t\t\t\t\tif (hasOwnProperty.call(obj, dontEnum)) {\n\t\t\t\t\t\t\tresult.push(dontEnum);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t};\n\t\t}).call(this);\n\t}\n\n\n\t/*\n\t * Detect screen size.\n\t * \n\t * @param  {jQuery Object} $ssw_point\n\t * @param  {jQuery Object} $tsw_point\n\t * @return {String}\n\t */\n\n\twindow.getScreenSize = function($ssw_point, $tsw_point) {\n\t\tif ($ssw_point.is(':visible')) {\n\t\t\treturn 'small';\n\t\t} else if ($tsw_point.is(':visible')) {\n\t\t\treturn 'tablet';\n\t\t} else {\n\t\t\treturn 'desktop';\n\t\t}\n\t};\n\n\twindow.elHasClass = function(el, selector) {\n\t\treturn (\" \" + el.className + \" \").indexOf(\" \" + selector + \" \") > -1;\n\t};\n\n\twindow.elRemoveClass = function(el, selector) {\n\t\treturn el.className = (\" \" + el.className + \" \").replace(\" \" + selector + \" \", ' ').trim();\n\t};\n\n}).call(this);\n\n(function() {\n\tvar KodiCMSApp, SETTINGS_DEFAULTS;\n\n\tSETTINGS_DEFAULTS = {\n\t\tis_mobile: false,\n\t\tresize_delay: 400,\n\t\tstored_values_prefix: 'cms_',\n\t\tconsts: {\n\t\t\tCOLORS: ['#71c73e', '#77b7c5', '#d54848', '#6c42e5', '#e8e64e', '#dd56e6', '#ecad3f', '#618b9d', '#b68b68', '#36a766', '#3156be', '#00b3ff', '#646464', '#a946e8', '#9d9d9d']\n\t\t}\n\t};\n\n\n\t/*\n\t * @class KodiCMSApp\n\t */\n\tKodiCMSApp = function() {\n\t\tthis.init = [];\n\t\tthis.plugins = {};\n\t\tthis.settings = {};\n\t\tthis.localStorageSupported = typeof window.Storage !== \"undefined\" ? true : false;\n\t\treturn this;\n\t};\n\n\t/*\n\t * Start application. Method takes an array of initializers and a settings object(that overrides default settings).\n\t * \n\t * @param  {Array} suffix\n\t * @param  {Object} settings\n\t * @return this\n\t */\n\n\tKodiCMSApp.prototype.start = function(init, settings) {\n\t\tif (init == null) {\n\t\t\tinit = [];\n\t\t}\n\t\tif (settings == null) {\n\t\t\tsettings = {};\n\t\t}\n\t\t(function(_this) {\n\t\t\tvar initilizer, _i, _len, _ref;\n\t\t\t$('html').addClass('pxajs');\n\t\t\tif (init.length > 0) {\n\t\t\t\t$.merge(_this.init, init);\n\t\t\t}\n\t\t\t_this.settings = $.extend(true, {}, SETTINGS_DEFAULTS, settings || {});\n\t\t\t_this.settings.is_mobile = /iphone|ipad|ipod|android|blackberry|mini|windows\\sce|palm/i.test(navigator.userAgent.toLowerCase());\n\t\t\tif (_this.settings.is_mobile) {\n\t\t\t\tif (FastClick) {\n\t\t\t\t\tFastClick.attach(document.body);\n\t\t\t\t}\n\t\t\t}\n\t\t\t_ref = _this.init;\n\t\t\tfor (_i = 0, _len = _ref.length; _i < _len; _i++) {\n\t\t\t\tinitilizer = _ref[_i];\n\t\t\t\t$.proxy(initilizer, _this)();\n\t\t\t}\n\t\t\t$(window).trigger(\"pa.loaded\");\n\t\t\treturn $(window).resize();\n\t\t})(this);\n\t\treturn this;\n\t};\n\n\n\t/*\n\t * Add initializer to the stack.\n\t * \n\t * @param  {Function} callback\n\t */\n\n\tKodiCMSApp.prototype.addInitializer = function(callback) {\n\t\treturn this.init.push(callback);\n\t};\n\n\n\t/*\n\t * Initialize plugin and add it to the plugins list.\n\t * \n\t * @param  {String} plugin_name\n\t * @param  {Instance} plugin\n\t */\n\tKodiCMSApp.prototype.initPlugin = function(plugin_name, plugin, settings) {\n\t\tif (settings != null) {\n\t\t\tthis.settings = $.extend(true, {}, this.settings, settings || {});\n\t\t}\n\t\t\n\t\tthis.plugins[plugin_name] = plugin;\n\t\tif (plugin.init) {\n\t\t\treturn plugin.init();\n\t\t}\n\t};\n\n\n\t/*\n\t * Save value in the localStorage/Cookies.\n\t * \n\t * @param  {String}  key\n\t * @param  {String}  value\n\t * @param  {Boolean} use_cookies\n\t */\n\tKodiCMSApp.prototype.storeValue = function(key, value, use_cookies) {\n\t\tvar e;\n\t\t\n\t\tif (use_cookies == null) {\n\t\t\tuse_cookies = false;\n\t\t}\n\t\tif (this.localStorageSupported && !use_cookies) {\n\t\t\ttry {\n\t\t\t\twindow.localStorage.setItem(this.settings.stored_values_prefix + key, value);\n\t\t\t\treturn;\n\t\t\t} catch (_error) {\n\t\t\t\te = _error;\n\t\t\t\t1;\n\t\t\t}\n\t\t}\n\t\treturn document.cookie = this.settings.stored_values_prefix + key + '=' + escape(value);\n\t};\n\n\t/*\n\t * Get value from the localStorage/Cookies.\n\t * \n\t * @param  {String} key\n\t * @param  {Boolean} use_cookies\n\t */\n\tKodiCMSApp.prototype.getStoredValue = function(key, use_cookies, deflt) {\n\t\t\n\t\tvar cookie, cookies, e, k, pos, r, v, _i, _len;\n\t\tif (use_cookies == null) {\n\t\t\tuse_cookies = false;\n\t\t}\n\t\tif (deflt == null) {\n\t\t\tdeflt = null;\n\t\t}\n\t\tif (this.localStorageSupported && !use_cookies) {\n\t\t\ttry {\n\t\t\t\tr = window.localStorage.getItem(this.settings.stored_values_prefix + key);\n\t\t\t\treturn (r ? r : deflt);\n\t\t\t} catch (_error) {\n\t\t\t\te = _error;\n\t\t\t\t1;\n\t\t\t}\n\t\t}\n\t\tcookies = document.cookie.split(';');\n\t\tfor (_i = 0, _len = cookies.length; _i < _len; _i++) {\n\t\t\tcookie = cookies[_i];\n\t\t\tpos = cookie.indexOf('=');\n\t\t\tk = cookie.substr(0, pos).replace(/^\\s+|\\s+$/g, '');\n\t\t\tv = cookie.substr(pos + 1).replace(/^\\s+|\\s+$/g, '');\n\t\t\tif (k === (this.settings.stored_values_prefix + key)) {\n\t\t\t\treturn v;\n\t\t\t}\n\t\t}\n\t\treturn deflt;\n\t};\n\n\tKodiCMSApp.Constructor = KodiCMSApp;\n\n\twindow.KodiCMS = new KodiCMSApp;\n\n}).call(this);\n\n(function() {\n\tvar delayedResizeHandler;\n\n\tdelayedResizeHandler = function(callback) {\n\t\tvar resizeTimer;\n\t\tresizeTimer = null;\n\t\treturn function() {\n\t\t\tif (resizeTimer) {\n\t\t\t\tclearTimeout(resizeTimer);\n\t\t\t}\n\t\t\treturn resizeTimer = setTimeout(function() {\n\t\t\t\tresizeTimer = null;\n\t\t\t\treturn callback.call(this);\n\t\t\t}, KodiCMS.settings.resize_delay);\n\t\t};\n\t};\n\n\tKodiCMS.addInitializer(function() {\n\t\tvar $ssw_point, $tsw_point, $window, _last_screen;\n\t\t_last_screen = null;\n\t\t$window = $(window);\n\t\t$ssw_point = $('<div id=\"small-screen-width-point\" style=\"position:absolute;top:-10000px;width:10px;height:10px;background:#fff;\"></div>');\n\t\t$tsw_point = $('<div id=\"tablet-screen-width-point\" style=\"position:absolute;top:-10000px;width:10px;height:10px;background:#fff;\"></div>');\n\t\t$('body').append($ssw_point).append($tsw_point);\n\t\treturn $window.on('resize', delayedResizeHandler(function() {\n\t\t\t$window.trigger(\"pa.resize\");\n\t\t\tif ($ssw_point.is(':visible')) {\n\t\t\t\tif (_last_screen !== 'small') {\n\t\t\t\t\t$window.trigger(\"pa.screen.small\");\n\t\t\t\t}\n\t\t\t\treturn _last_screen = 'small';\n\t\t\t} else if ($tsw_point.is(':visible')) {\n\t\t\t\tif (_last_screen !== 'tablet') {\n\t\t\t\t\t$window.trigger(\"pa.screen.tablet\");\n\t\t\t\t}\n\t\t\t\treturn _last_screen = 'tablet';\n\t\t\t} else {\n\t\t\t\tif (_last_screen !== 'desktop') {\n\t\t\t\t\t$window.trigger(\"pa.screen.desktop\");\n\t\t\t\t}\n\t\t\t\treturn _last_screen = 'desktop';\n\t\t\t}\n\t\t}));\n\t});\n\n}).call(this);\n\n/**\n * @preserve FastClick: polyfill to remove click delays on browsers with touch UIs.\n *\n * @version 0.6.11\n * @codingstandard ftlabs-jsv2\n * @copyright The Financial Times Limited [All Rights Reserved]\n * @license MIT License (see LICENSE.txt)\n */\n\n/*jslint browser:true, node:true*/\n/*global define, Event, Node*/\n\n\n/**\n * Instantiate fast-clicking listeners on the specificed layer.\n *\n * @constructor\n * @param {Element} layer The layer to listen on\n */\nfunction FastClick(layer) {\n\t'use strict';\n\tvar oldOnClick, self = this;\n\n\n\t/**\n\t * Whether a click is currently being tracked.\n\t *\n\t * @type boolean\n\t */\n\tthis.trackingClick = false;\n\n\n\t/**\n\t * Timestamp for when when click tracking started.\n\t *\n\t * @type number\n\t */\n\tthis.trackingClickStart = 0;\n\n\n\t/**\n\t * The element being tracked for a click.\n\t *\n\t * @type EventTarget\n\t */\n\tthis.targetElement = null;\n\n\n\t/**\n\t * X-coordinate of touch start event.\n\t *\n\t * @type number\n\t */\n\tthis.touchStartX = 0;\n\n\n\t/**\n\t * Y-coordinate of touch start event.\n\t *\n\t * @type number\n\t */\n\tthis.touchStartY = 0;\n\n\n\t/**\n\t * ID of the last touch, retrieved from Touch.identifier.\n\t *\n\t * @type number\n\t */\n\tthis.lastTouchIdentifier = 0;\n\n\n\t/**\n\t * Touchmove boundary, beyond which a click will be cancelled.\n\t *\n\t * @type number\n\t */\n\tthis.touchBoundary = 10;\n\n\n\t/**\n\t * The FastClick layer.\n\t *\n\t * @type Element\n\t */\n\tthis.layer = layer;\n\n\tif (!layer || !layer.nodeType) {\n\t\tthrow new TypeError('Layer must be a document node');\n\t}\n\n\t/** @type function() */\n\tthis.onClick = function() {\n\t\treturn FastClick.prototype.onClick.apply(self, arguments);\n\t};\n\n\t/** @type function() */\n\tthis.onMouse = function() {\n\t\treturn FastClick.prototype.onMouse.apply(self, arguments);\n\t};\n\n\t/** @type function() */\n\tthis.onTouchStart = function() {\n\t\treturn FastClick.prototype.onTouchStart.apply(self, arguments);\n\t};\n\n\t/** @type function() */\n\tthis.onTouchMove = function() {\n\t\treturn FastClick.prototype.onTouchMove.apply(self, arguments);\n\t};\n\n\t/** @type function() */\n\tthis.onTouchEnd = function() {\n\t\treturn FastClick.prototype.onTouchEnd.apply(self, arguments);\n\t};\n\n\t/** @type function() */\n\tthis.onTouchCancel = function() {\n\t\treturn FastClick.prototype.onTouchCancel.apply(self, arguments);\n\t};\n\n\tif (FastClick.notNeeded(layer)) {\n\t\treturn;\n\t}\n\n\t// Set up event handlers as required\n\tif (this.deviceIsAndroid) {\n\t\tlayer.addEventListener('mouseover', this.onMouse, true);\n\t\tlayer.addEventListener('mousedown', this.onMouse, true);\n\t\tlayer.addEventListener('mouseup', this.onMouse, true);\n\t}\n\n\tlayer.addEventListener('click', this.onClick, true);\n\tlayer.addEventListener('touchstart', this.onTouchStart, false);\n\tlayer.addEventListener('touchmove', this.onTouchMove, false);\n\tlayer.addEventListener('touchend', this.onTouchEnd, false);\n\tlayer.addEventListener('touchcancel', this.onTouchCancel, false);\n\n\t// Hack is required for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)\n\t// which is how FastClick normally stops click events bubbling to callbacks registered on the FastClick\n\t// layer when they are cancelled.\n\tif (!Event.prototype.stopImmediatePropagation) {\n\t\tlayer.removeEventListener = function(type, callback, capture) {\n\t\t\tvar rmv = Node.prototype.removeEventListener;\n\t\t\tif (type === 'click') {\n\t\t\t\trmv.call(layer, type, callback.hijacked || callback, capture);\n\t\t\t} else {\n\t\t\t\trmv.call(layer, type, callback, capture);\n\t\t\t}\n\t\t};\n\n\t\tlayer.addEventListener = function(type, callback, capture) {\n\t\t\tvar adv = Node.prototype.addEventListener;\n\t\t\tif (type === 'click') {\n\t\t\t\tadv.call(layer, type, callback.hijacked || (callback.hijacked = function(event) {\n\t\t\t\t\tif (!event.propagationStopped) {\n\t\t\t\t\t\tcallback(event);\n\t\t\t\t\t}\n\t\t\t\t}), capture);\n\t\t\t} else {\n\t\t\t\tadv.call(layer, type, callback, capture);\n\t\t\t}\n\t\t};\n\t}\n\n\t// If a handler is already declared in the element's onclick attribute, it will be fired before\n\t// FastClick's onClick handler. Fix this by pulling out the user-defined handler function and\n\t// adding it as listener.\n\tif (typeof layer.onclick === 'function') {\n\n\t\t// Android browser on at least 3.2 requires a new reference to the function in layer.onclick\n\t\t// - the old one won't work if passed to addEventListener directly.\n\t\toldOnClick = layer.onclick;\n\t\tlayer.addEventListener('click', function(event) {\n\t\t\toldOnClick(event);\n\t\t}, false);\n\t\tlayer.onclick = null;\n\t}\n}\n\n\n/**\n * Android requires exceptions.\n *\n * @type boolean\n */\nFastClick.prototype.deviceIsAndroid = navigator.userAgent.indexOf('Android') > 0;\n\n\n/**\n * iOS requires exceptions.\n *\n * @type boolean\n */\nFastClick.prototype.deviceIsIOS = /iP(ad|hone|od)/.test(navigator.userAgent);\n\n\n/**\n * iOS 4 requires an exception for select elements.\n *\n * @type boolean\n */\nFastClick.prototype.deviceIsIOS4 = FastClick.prototype.deviceIsIOS && (/OS 4_\\d(_\\d)?/).test(navigator.userAgent);\n\n\n/**\n * iOS 6.0(+?) requires the target element to be manually derived\n *\n * @type boolean\n */\nFastClick.prototype.deviceIsIOSWithBadTarget = FastClick.prototype.deviceIsIOS && (/OS ([6-9]|\\d{2})_\\d/).test(navigator.userAgent);\n\n\n/**\n * Determine whether a given element requires a native click.\n *\n * @param {EventTarget|Element} target Target DOM element\n * @returns {boolean} Returns true if the element needs a native click\n */\nFastClick.prototype.needsClick = function(target) {\n\t'use strict';\n\tswitch (target.nodeName.toLowerCase()) {\n\n\t\t// Don't send a synthetic click to disabled inputs (issue #62)\n\t\tcase 'button':\n\t\tcase 'select':\n\t\tcase 'textarea':\n\t\t\tif (target.disabled) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'input':\n\n\t\t\t// File inputs need real clicks on iOS 6 due to a browser bug (issue #68)\n\t\t\tif ((this.deviceIsIOS && target.type === 'file') || target.disabled) {\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tbreak;\n\t\tcase 'label':\n\t\tcase 'video':\n\t\t\treturn true;\n\t}\n\n\treturn (/\\bneedsclick\\b/).test(target.className);\n};\n\n\n/**\n * Determine whether a given element requires a call to focus to simulate click into element.\n *\n * @param {EventTarget|Element} target Target DOM element\n * @returns {boolean} Returns true if the element requires a call to focus to simulate native click.\n */\nFastClick.prototype.needsFocus = function(target) {\n\t'use strict';\n\tswitch (target.nodeName.toLowerCase()) {\n\t\tcase 'textarea':\n\t\t\treturn true;\n\t\tcase 'select':\n\t\t\treturn !this.deviceIsAndroid;\n\t\tcase 'input':\n\t\t\tswitch (target.type) {\n\t\t\t\tcase 'button':\n\t\t\t\tcase 'checkbox':\n\t\t\t\tcase 'file':\n\t\t\t\tcase 'image':\n\t\t\t\tcase 'radio':\n\t\t\t\tcase 'submit':\n\t\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\t// No point in attempting to focus disabled inputs\n\t\t\treturn !target.disabled && !target.readOnly;\n\t\tdefault:\n\t\t\treturn (/\\bneedsfocus\\b/).test(target.className);\n\t}\n};\n\n\n/**\n * Send a click event to the specified element.\n *\n * @param {EventTarget|Element} targetElement\n * @param {Event} event\n */\nFastClick.prototype.sendClick = function(targetElement, event) {\n\t'use strict';\n\tvar clickEvent, touch;\n\n\t// On some Android devices activeElement needs to be blurred otherwise the synthetic click will have no effect (#24)\n\tif (document.activeElement && document.activeElement !== targetElement) {\n\t\tdocument.activeElement.blur();\n\t}\n\n\ttouch = event.changedTouches[0];\n\n\t// Synthesise a click event, with an extra attribute so it can be tracked\n\tclickEvent = document.createEvent('MouseEvents');\n\tclickEvent.initMouseEvent(this.determineEventType(targetElement), true, true, window, 1, touch.screenX, touch.screenY, touch.clientX, touch.clientY, false, false, false, false, 0, null);\n\tclickEvent.forwardedTouchEvent = true;\n\ttargetElement.dispatchEvent(clickEvent);\n};\n\nFastClick.prototype.determineEventType = function(targetElement) {\n\t'use strict';\n\n\t//Issue #159: Android Chrome Select Box does not open with a synthetic click event\n\tif (this.deviceIsAndroid && targetElement.tagName.toLowerCase() === 'select') {\n\t\treturn 'mousedown';\n\t}\n\n\treturn 'click';\n};\n\n\n/**\n * @param {EventTarget|Element} targetElement\n */\nFastClick.prototype.focus = function(targetElement) {\n\t'use strict';\n\tvar length;\n\n\t// Issue #160: on iOS 7, some input elements (e.g. date datetime) throw a vague TypeError on setSelectionRange. These elements don't have an integer value for the selectionStart and selectionEnd properties, but unfortunately that can't be used for detection because accessing the properties also throws a TypeError. Just check the type instead. Filed as Apple bug #15122724.\n\tif (this.deviceIsIOS && targetElement.setSelectionRange && targetElement.type.indexOf('date') !== 0 && targetElement.type !== 'time') {\n\t\tlength = targetElement.value.length;\n\t\ttargetElement.setSelectionRange(length, length);\n\t} else {\n\t\ttargetElement.focus();\n\t}\n};\n\n\n/**\n * Check whether the given target element is a child of a scrollable layer and if so, set a flag on it.\n *\n * @param {EventTarget|Element} targetElement\n */\nFastClick.prototype.updateScrollParent = function(targetElement) {\n\t'use strict';\n\tvar scrollParent, parentElement;\n\n\tscrollParent = targetElement.fastClickScrollParent;\n\n\t// Attempt to discover whether the target element is contained within a scrollable layer. Re-check if the\n\t// target element was moved to another parent.\n\tif (!scrollParent || !scrollParent.contains(targetElement)) {\n\t\tparentElement = targetElement;\n\t\tdo {\n\t\t\tif (parentElement.scrollHeight > parentElement.offsetHeight) {\n\t\t\t\tscrollParent = parentElement;\n\t\t\t\ttargetElement.fastClickScrollParent = parentElement;\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tparentElement = parentElement.parentElement;\n\t\t} while (parentElement);\n\t}\n\n\t// Always update the scroll top tracker if possible.\n\tif (scrollParent) {\n\t\tscrollParent.fastClickLastScrollTop = scrollParent.scrollTop;\n\t}\n};\n\n\n/**\n * @param {EventTarget} targetElement\n * @returns {Element|EventTarget}\n */\nFastClick.prototype.getTargetElementFromEventTarget = function(eventTarget) {\n\t'use strict';\n\n\t// On some older browsers (notably Safari on iOS 4.1 - see issue #56) the event target may be a text node.\n\tif (eventTarget.nodeType === Node.TEXT_NODE) {\n\t\treturn eventTarget.parentNode;\n\t}\n\n\treturn eventTarget;\n};\n\n\n/**\n * On touch start, record the position and scroll offset.\n *\n * @param {Event} event\n * @returns {boolean}\n */\nFastClick.prototype.onTouchStart = function(event) {\n\t'use strict';\n\tvar targetElement, touch, selection;\n\n\t// Ignore multiple touches, otherwise pinch-to-zoom is prevented if both fingers are on the FastClick element (issue #111).\n\tif (event.targetTouches.length > 1) {\n\t\treturn true;\n\t}\n\n\ttargetElement = this.getTargetElementFromEventTarget(event.target);\n\ttouch = event.targetTouches[0];\n\n\tif (this.deviceIsIOS) {\n\n\t\t// Only trusted events will deselect text on iOS (issue #49)\n\t\tselection = window.getSelection();\n\t\tif (selection.rangeCount && !selection.isCollapsed) {\n\t\t\treturn true;\n\t\t}\n\n\t\tif (!this.deviceIsIOS4) {\n\n\t\t\t// Weird things happen on iOS when an alert or confirm dialog is opened from a click event callback (issue #23):\n\t\t\t// when the user next taps anywhere else on the page, new touchstart and touchend events are dispatched\n\t\t\t// with the same identifier as the touch event that previously triggered the click that triggered the alert.\n\t\t\t// Sadly, there is an issue on iOS 4 that causes some normal touch events to have the same identifier as an\n\t\t\t// immediately preceeding touch event (issue #52), so this fix is unavailable on that platform.\n\t\t\tif (touch.identifier === this.lastTouchIdentifier) {\n\t\t\t\tevent.preventDefault();\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tthis.lastTouchIdentifier = touch.identifier;\n\n\t\t\t// If the target element is a child of a scrollable layer (using -webkit-overflow-scrolling: touch) and:\n\t\t\t// 1) the user does a fling scroll on the scrollable layer\n\t\t\t// 2) the user stops the fling scroll with another tap\n\t\t\t// then the event.target of the last 'touchend' event will be the element that was under the user's finger\n\t\t\t// when the fling scroll was started, causing FastClick to send a click event to that layer - unless a check\n\t\t\t// is made to ensure that a parent layer was not scrolled before sending a synthetic click (issue #42).\n\t\t\tthis.updateScrollParent(targetElement);\n\t\t}\n\t}\n\n\tthis.trackingClick = true;\n\tthis.trackingClickStart = event.timeStamp;\n\tthis.targetElement = targetElement;\n\n\tthis.touchStartX = touch.pageX;\n\tthis.touchStartY = touch.pageY;\n\n\t// Prevent phantom clicks on fast double-tap (issue #36)\n\tif ((event.timeStamp - this.lastClickTime) < 200) {\n\t\tevent.preventDefault();\n\t}\n\n\treturn true;\n};\n\n\n/**\n * Based on a touchmove event object, check whether the touch has moved past a boundary since it started.\n *\n * @param {Event} event\n * @returns {boolean}\n */\nFastClick.prototype.touchHasMoved = function(event) {\n\t'use strict';\n\tvar touch = event.changedTouches[0], boundary = this.touchBoundary;\n\n\tif (Math.abs(touch.pageX - this.touchStartX) > boundary || Math.abs(touch.pageY - this.touchStartY) > boundary) {\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n\n\n/**\n * Update the last position.\n *\n * @param {Event} event\n * @returns {boolean}\n */\nFastClick.prototype.onTouchMove = function(event) {\n\t'use strict';\n\tif (!this.trackingClick) {\n\t\treturn true;\n\t}\n\n\t// If the touch has moved, cancel the click tracking\n\tif (this.targetElement !== this.getTargetElementFromEventTarget(event.target) || this.touchHasMoved(event)) {\n\t\tthis.trackingClick = false;\n\t\tthis.targetElement = null;\n\t}\n\n\treturn true;\n};\n\n\n/**\n * Attempt to find the labelled control for the given label element.\n *\n * @param {EventTarget|HTMLLabelElement} labelElement\n * @returns {Element|null}\n */\nFastClick.prototype.findControl = function(labelElement) {\n\t'use strict';\n\n\t// Fast path for newer browsers supporting the HTML5 control attribute\n\tif (labelElement.control !== undefined) {\n\t\treturn labelElement.control;\n\t}\n\n\t// All browsers under test that support touch events also support the HTML5 htmlFor attribute\n\tif (labelElement.htmlFor) {\n\t\treturn document.getElementById(labelElement.htmlFor);\n\t}\n\n\t// If no for attribute exists, attempt to retrieve the first labellable descendant element\n\t// the list of which is defined here: http://www.w3.org/TR/html5/forms.html#category-label\n\treturn labelElement.querySelector('button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea');\n};\n\n\n/**\n * On touch end, determine whether to send a click event at once.\n *\n * @param {Event} event\n * @returns {boolean}\n */\nFastClick.prototype.onTouchEnd = function(event) {\n\t'use strict';\n\tvar forElement, trackingClickStart, targetTagName, scrollParent, touch, targetElement = this.targetElement;\n\n\tif (!this.trackingClick) {\n\t\treturn true;\n\t}\n\n\t// Prevent phantom clicks on fast double-tap (issue #36)\n\tif ((event.timeStamp - this.lastClickTime) < 200) {\n\t\tthis.cancelNextClick = true;\n\t\treturn true;\n\t}\n\n\t// Reset to prevent wrong click cancel on input (issue #156).\n\tthis.cancelNextClick = false;\n\n\tthis.lastClickTime = event.timeStamp;\n\n\ttrackingClickStart = this.trackingClickStart;\n\tthis.trackingClick = false;\n\tthis.trackingClickStart = 0;\n\n\t// On some iOS devices, the targetElement supplied with the event is invalid if the layer\n\t// is performing a transition or scroll, and has to be re-detected manually. Note that\n\t// for this to function correctly, it must be called *after* the event target is checked!\n\t// See issue #57; also filed as rdar://13048589 .\n\tif (this.deviceIsIOSWithBadTarget) {\n\t\ttouch = event.changedTouches[0];\n\n\t\t// In certain cases arguments of elementFromPoint can be negative, so prevent setting targetElement to null\n\t\ttargetElement = document.elementFromPoint(touch.pageX - window.pageXOffset, touch.pageY - window.pageYOffset) || targetElement;\n\t\ttargetElement.fastClickScrollParent = this.targetElement.fastClickScrollParent;\n\t}\n\n\ttargetTagName = targetElement.tagName.toLowerCase();\n\tif (targetTagName === 'label') {\n\t\tforElement = this.findControl(targetElement);\n\t\tif (forElement) {\n\t\t\tthis.focus(targetElement);\n\t\t\tif (this.deviceIsAndroid) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\ttargetElement = forElement;\n\t\t}\n\t} else if (this.needsFocus(targetElement)) {\n\n\t\t// Case 1: If the touch started a while ago (best guess is 100ms based on tests for issue #36) then focus will be triggered anyway. Return early and unset the target element reference so that the subsequent click will be allowed through.\n\t\t// Case 2: Without this exception for input elements tapped when the document is contained in an iframe, then any inputted text won't be visible even though the value attribute is updated as the user types (issue #37).\n\t\tif ((event.timeStamp - trackingClickStart) > 100 || (this.deviceIsIOS && window.top !== window && targetTagName === 'input')) {\n\t\t\tthis.targetElement = null;\n\t\t\treturn false;\n\t\t}\n\n\t\tthis.focus(targetElement);\n\n\t\t// Select elements need the event to go through on iOS 4, otherwise the selector menu won't open.\n\t\tif (!this.deviceIsIOS4 || targetTagName !== 'select') {\n\t\t\tthis.targetElement = null;\n\t\t\tevent.preventDefault();\n\t\t}\n\n\t\treturn false;\n\t}\n\n\tif (this.deviceIsIOS && !this.deviceIsIOS4) {\n\n\t\t// Don't send a synthetic click event if the target element is contained within a parent layer that was scrolled\n\t\t// and this tap is being used to stop the scrolling (usually initiated by a fling - issue #42).\n\t\tscrollParent = targetElement.fastClickScrollParent;\n\t\tif (scrollParent && scrollParent.fastClickLastScrollTop !== scrollParent.scrollTop) {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\t// Prevent the actual click from going though - unless the target node is marked as requiring\n\t// real clicks or if it is in the whitelist in which case only non-programmatic clicks are permitted.\n\tif (!this.needsClick(targetElement)) {\n\t\tevent.preventDefault();\n\t\tthis.sendClick(targetElement, event);\n\t}\n\n\treturn false;\n};\n\n\n/**\n * On touch cancel, stop tracking the click.\n *\n * @returns {void}\n */\nFastClick.prototype.onTouchCancel = function() {\n\t'use strict';\n\tthis.trackingClick = false;\n\tthis.targetElement = null;\n};\n\n\n/**\n * Determine mouse events which should be permitted.\n *\n * @param {Event} event\n * @returns {boolean}\n */\nFastClick.prototype.onMouse = function(event) {\n\t'use strict';\n\n\t// If a target element was never set (because a touch event was never fired) allow the event\n\tif (!this.targetElement) {\n\t\treturn true;\n\t}\n\n\tif (event.forwardedTouchEvent) {\n\t\treturn true;\n\t}\n\n\t// Programmatically generated events targeting a specific element should be permitted\n\tif (!event.cancelable) {\n\t\treturn true;\n\t}\n\n\t// Derive and check the target element to see whether the mouse event needs to be permitted;\n\t// unless explicitly enabled, prevent non-touch click events from triggering actions,\n\t// to prevent ghost/doubleclicks.\n\tif (!this.needsClick(this.targetElement) || this.cancelNextClick) {\n\n\t\t// Prevent any user-added listeners declared on FastClick element from being fired.\n\t\tif (event.stopImmediatePropagation) {\n\t\t\tevent.stopImmediatePropagation();\n\t\t} else {\n\n\t\t\t// Part of the hack for browsers that don't support Event#stopImmediatePropagation (e.g. Android 2)\n\t\t\tevent.propagationStopped = true;\n\t\t}\n\n\t\t// Cancel the event\n\t\tevent.stopPropagation();\n\t\tevent.preventDefault();\n\n\t\treturn false;\n\t}\n\n\t// If the mouse event is permitted, return true for the action to go through.\n\treturn true;\n};\n\n\n/**\n * On actual clicks, determine whether this is a touch-generated click, a click action occurring\n * naturally after a delay after a touch (which needs to be cancelled to avoid duplication), or\n * an actual click which should be permitted.\n *\n * @param {Event} event\n * @returns {boolean}\n */\nFastClick.prototype.onClick = function(event) {\n\t'use strict';\n\tvar permitted;\n\n\t// It's possible for another FastClick-like library delivered with third-party code to fire a click event before FastClick does (issue #44). In that case, set the click-tracking flag back to false and return early. This will cause onTouchEnd to return early.\n\tif (this.trackingClick) {\n\t\tthis.targetElement = null;\n\t\tthis.trackingClick = false;\n\t\treturn true;\n\t}\n\n\t// Very odd behaviour on iOS (issue #18): if a submit element is present inside a form and the user hits enter in the iOS simulator or clicks the Go button on the pop-up OS keyboard the a kind of 'fake' click event will be triggered with the submit-type input element as the target.\n\tif (event.target.type === 'submit' && event.detail === 0) {\n\t\treturn true;\n\t}\n\n\tpermitted = this.onMouse(event);\n\n\t// Only unset targetElement if the click is not permitted. This will ensure that the check for !targetElement in onMouse fails and the browser's click doesn't go through.\n\tif (!permitted) {\n\t\tthis.targetElement = null;\n\t}\n\n\t// If clicks are permitted, return true for the action to go through.\n\treturn permitted;\n};\n\n\n/**\n * Remove all FastClick's event listeners.\n *\n * @returns {void}\n */\nFastClick.prototype.destroy = function() {\n\t'use strict';\n\tvar layer = this.layer;\n\n\tif (this.deviceIsAndroid) {\n\t\tlayer.removeEventListener('mouseover', this.onMouse, true);\n\t\tlayer.removeEventListener('mousedown', this.onMouse, true);\n\t\tlayer.removeEventListener('mouseup', this.onMouse, true);\n\t}\n\n\tlayer.removeEventListener('click', this.onClick, true);\n\tlayer.removeEventListener('touchstart', this.onTouchStart, false);\n\tlayer.removeEventListener('touchmove', this.onTouchMove, false);\n\tlayer.removeEventListener('touchend', this.onTouchEnd, false);\n\tlayer.removeEventListener('touchcancel', this.onTouchCancel, false);\n};\n\n\n/**\n * Check whether FastClick is needed.\n *\n * @param {Element} layer The layer to listen on\n */\nFastClick.notNeeded = function(layer) {\n\t'use strict';\n\tvar metaViewport;\n\tvar chromeVersion;\n\n\t// Devices that don't support touch don't need FastClick\n\tif (typeof window.ontouchstart === 'undefined') {\n\t\treturn true;\n\t}\n\n\t// Chrome version - zero for other browsers\n\tchromeVersion = +(/Chrome\\/([0-9]+)/.exec(navigator.userAgent) || [, 0])[1];\n\n\tif (chromeVersion) {\n\n\t\tif (FastClick.prototype.deviceIsAndroid) {\n\t\t\tmetaViewport = document.querySelector('meta[name=viewport]');\n\n\t\t\tif (metaViewport) {\n\t\t\t\t// Chrome on Android with user-scalable=\"no\" doesn't need FastClick (issue #89)\n\t\t\t\tif (metaViewport.content.indexOf('user-scalable=no') !== -1) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\t// Chrome 32 and above with width=device-width or less don't need FastClick\n\t\t\t\tif (chromeVersion > 31 && window.innerWidth <= window.screen.width) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Chrome desktop doesn't need FastClick (issue #15)\n\t\t} else {\n\t\t\treturn true;\n\t\t}\n\t}\n\n\t// IE10 with -ms-touch-action: none, which disables double-tap-to-zoom (issue #97)\n\tif (layer.style.msTouchAction === 'none') {\n\t\treturn true;\n\t}\n\n\treturn false;\n};\n\n\n/**\n * Factory method for creating a FastClick object\n *\n * @param {Element} layer The layer to listen on\n */\nFastClick.attach = function(layer) {\n\t'use strict';\n\treturn new FastClick(layer);\n};\n\n\nif (typeof define !== 'undefined' && define.amd) {\n\n\t// AMD. Register as an anonymous module.\n\tdefine(function() {\n\t\t'use strict';\n\t\treturn FastClick;\n\t});\n} else if (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = FastClick.attach;\n\tmodule.exports.FastClick = FastClick;\n} else {\n\twindow.FastClick = FastClick;\n}\n;\n\n/*\n * Class that provides the top navbar functionality.\n *\n * @class MainNavbar\n */\n\n(function() {\n\tKodiCMS.MainNavbar = function() {\n\t\tthis._scroller = false;\n\t\tthis._wheight = null;\n\t\tthis.scroll_pos = 0;\n\t\treturn this;\n\t};\n\n\n\t/*\n\t * Initialize plugin.\n\t */\n\n\tKodiCMS.MainNavbar.prototype.init = function() {\n\t\tvar is_mobile;\n\t\tthis.$navbar = $('#main-navbar');\n\t\tthis.$header = this.$navbar.find('.navbar-header');\n\t\tthis.$toggle = this.$navbar.find('.navbar-toggle:first');\n\t\tthis.$collapse = $('#main-navbar-collapse');\n\t\tthis.$collapse_div = this.$collapse.find('> div');\n\t\tis_mobile = false;\n\t\t$(window).on('pa.screen.small pa.screen.tablet', (function(_this) {\n\t\t\treturn function() {\n\t\t\t\tif (_this.$navbar.css('position') === 'fixed') {\n\t\t\t\t\t_this._setupScroller();\n\t\t\t\t}\n\t\t\t\treturn is_mobile = true;\n\t\t\t};\n\t\t})(this)).on('pa.screen.desktop', (function(_this) {\n\t\t\treturn function() {\n\t\t\t\t_this._removeScroller();\n\t\t\t\treturn is_mobile = false;\n\t\t\t};\n\t\t})(this));\n\t\treturn this.$navbar.on('click', '.nav-icon-btn.dropdown > .dropdown-toggle', function(e) {\n\t\t\tif (is_mobile) {\n\t\t\t\te.preventDefault();\n\t\t\t\te.stopPropagation();\n\t\t\t\tdocument.location.href = $(this).attr('href');\n\t\t\t\treturn false;\n\t\t\t}\n\t\t});\n\t};\n\n\n\t/*\n\t * Attach scroller to navbar collapse.\n\t */\n\n\tKodiCMS.MainNavbar.prototype._setupScroller = function() {\n\t\tif (this._scroller) {\n\t\t\treturn;\n\t\t}\n\t\tthis._scroller = true;\n\t\tthis.$collapse_div.pixelSlimScroll({});\n\t\tthis.$navbar.on('shown.bs.collapse.mn_collapse', $.proxy(((function(_this) {\n\t\t\treturn function() {\n\t\t\t\t_this._updateCollapseHeight();\n\t\t\t\treturn _this._watchWindowHeight();\n\t\t\t};\n\t\t})(this)), this)).on('hidden.bs.collapse.mn_collapse', $.proxy(((function(_this) {\n\t\t\treturn function() {\n\t\t\t\t_this._wheight = null;\n\t\t\t\treturn _this.$collapse_div.pixelSlimScroll({\n\t\t\t\t\tscrollTo: '0px'\n\t\t\t\t});\n\t\t\t};\n\t\t})(this)), this)).on('shown.bs.dropdown.mn_collapse', $.proxy(this._updateCollapseHeight, this)).on('hidden.bs.dropdown.mn_collapse', $.proxy(this._updateCollapseHeight, this));\n\t\treturn this._updateCollapseHeight();\n\t};\n\n\n\t/*\n\t * Detach scroller from navbar collapse.\n\t */\n\n\tKodiCMS.MainNavbar.prototype._removeScroller = function() {\n\t\tif (!this._scroller) {\n\t\t\treturn;\n\t\t}\n\t\tthis._wheight = null;\n\t\tthis._scroller = false;\n\t\tthis.$collapse_div.pixelSlimScroll({\n\t\t\tdestroy: 'destroy'\n\t\t});\n\t\tthis.$navbar.off('shown.bs.collapse.mn_collapse');\n\t\tthis.$navbar.off('hidden.bs.collapse.mn_collapse');\n\t\tthis.$navbar.off('shown.bs.dropdown.mn_collapse');\n\t\tthis.$navbar.off('hidden.bs.dropdown.mn_collapse');\n\t\treturn this.$collapse.attr('style', '');\n\t};\n\n\n\t/*\n\t * Update navbar collapse height.\n\t */\n\n\tKodiCMS.MainNavbar.prototype._updateCollapseHeight = function() {\n\t\tvar h_height, scrollTop, w_height;\n\t\tif (!this._scroller) {\n\t\t\treturn;\n\t\t}\n\t\tw_height = $(window).innerHeight();\n\t\th_height = this.$header.outerHeight();\n\t\tscrollTop = this.$collapse_div.scrollTop();\n\t\tif ((h_height + this.$collapse_div.css({\n\t\t\t'max-height': 'none'\n\t\t}).outerHeight()) > w_height) {\n\t\t\tthis.$collapse_div.css({\n\t\t\t\t'max-height': w_height - h_height\n\t\t\t});\n\t\t} else {\n\t\t\tthis.$collapse_div.css({\n\t\t\t\t'max-height': 'none'\n\t\t\t});\n\t\t}\n\t\treturn this.$collapse_div.pixelSlimScroll({\n\t\t\tscrollTo: scrollTop + 'px'\n\t\t});\n\t};\n\n\n\t/*\n\t * Detecting a change of the window height.\n\t */\n\n\tKodiCMS.MainNavbar.prototype._watchWindowHeight = function() {\n\t\tvar checkWindowInnerHeight;\n\t\tthis._wheight = $(window).innerHeight();\n\t\tcheckWindowInnerHeight = (function(_this) {\n\t\t\treturn function() {\n\t\t\t\tif (_this._wheight === null) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tif (_this._wheight !== $(window).innerHeight()) {\n\t\t\t\t\t_this._updateCollapseHeight();\n\t\t\t\t}\n\t\t\t\t_this._wheight = $(window).innerHeight();\n\t\t\t\treturn setTimeout(checkWindowInnerHeight, 100);\n\t\t\t};\n\t\t})(this);\n\t\treturn window.setTimeout(checkWindowInnerHeight, 100);\n\t};\n\n\tKodiCMS.MainNavbar.Constructor = KodiCMS.MainNavbar;\n\n\tKodiCMS.addInitializer(function() {\n\t\treturn KodiCMS.initPlugin('main_navbar', new KodiCMS.MainNavbar);\n\t});\n\n}).call(this);\n\n/*\n * Class that provides the main menu functionality.\n *\n * @class MainMenu\n */\n\n(function() {\n\tKodiCMS.MainMenu = function() {\n\t\tthis._screen = null;\n\t\tthis._last_screen = null;\n\t\tthis._animate = false;\n\t\tthis._close_timer = null;\n\t\tthis._dropdown_li = null;\n\t\tthis._dropdown = null;\n\t\t\n\t\treturn this;\n\t};\n\n\t/*\n\t * Initialize plugin.\n\t */\n\n\tKodiCMS.MainMenu.prototype.init = function() {\n\t\tvar self, state;\n\t\tthis.$menu = $('#main-menu');\n\t\tif (!this.$menu.length) {\n\t\t\treturn;\n\t\t}\n\t\tthis.$body = $('body');\n\t\tthis.menu = this.$menu[0];\n\t\tthis.$ssw_point = $('#small-screen-width-point');\n\t\tthis.$tsw_point = $('#tablet-screen-width-point');\n\t\tself = this;\n\t\tif (KodiCMS.settings.main_menu.store_state) {\n\t\t\tstate = this._getMenuState();\n\t\t\tdocument.body.className += ' disable-mm-animation';\n\t\t\tif (state !== null) {\n\t\t\t\tthis.$body[state === 'collapsed' ? 'addClass' : 'removeClass']('mmc');\n\t\t\t}\n\t\t\tsetTimeout((function(_this) {\n\t\t\t\treturn function() {\n\t\t\t\t\treturn elRemoveClass(document.body, 'disable-mm-animation');\n\t\t\t\t};\n\t\t\t})(this), 20);\n\t\t}\n\t\t\n\t\t$('.navigation > li:has(ul)', this.$menu).each(function() {\n\t\t\tif($('> ul > li', this).size() < 1)\n\t\t\t\t$(this).remove();\n\t\t});\n\t\tthis.setupAnimation();\n\t\t$(window).on('resize.pa.mm', $.proxy(this.onResize, this));\n\t\tthis.onResize();\n\t\tthis.$menu.find('.navigation > .mm-dropdown').addClass('mm-dropdown-root');\n\t\tif (KodiCMS.settings.main_menu.detect_active) {\n\t\t\tthis.detectActiveItem();\n\t\t}\n\t\tif ($.support.transition) {\n\t\t\tthis.$menu.on('transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd', $.proxy(this._onAnimationEnd, this));\n\t\t}\n\t\t$('#main-menu-toggle').on('click', $.proxy(this.toggle, this));\n\t\t$('#main-menu-inner').slimScroll({\n\t\t\theight: '100%'\n\t\t}).on('slimscrolling', (function(_this) {\n\t\t\treturn function() {\n\t\t\t\treturn _this.closeCurrentDropdown(true);\n\t\t\t};\n\t\t})(this));\n\t\tthis.$menu.on('click', '.mm-dropdown > a', function() {\n\t\t\tvar li;\n\t\t\tli = this.parentNode;\n\t\t\tif (elHasClass(li, 'mm-dropdown-root') && self._collapsed()) {\n\t\t\t\tif (elHasClass(li, 'mmc-dropdown-open')) {\n\t\t\t\t\tif (elHasClass(li, 'freeze')) {\n\t\t\t\t\t\tself.closeCurrentDropdown(true);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tself.freezeDropdown(li);\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tself.openDropdown(li, true);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tself.toggleSubmenu(li);\n\t\t\t}\n\t\t\treturn false;\n\t\t});\n\t\tthis.$menu.find('.navigation').on('mouseenter.pa.mm-dropdown', '.mm-dropdown-root', function() {\n\t\t\tself.clearCloseTimer();\n\t\t\tif (self._dropdown_li === this) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (self._collapsed() && (!self._dropdown_li || !elHasClass(self._dropdown_li, 'freeze'))) {\n\t\t\t\treturn self.openDropdown(this);\n\t\t\t}\n\t\t}).on('mouseleave.pa.mm-dropdown', '.mm-dropdown-root', function() {\n\t\t\treturn self._close_timer = setTimeout(function() {\n\t\t\t\treturn self.closeCurrentDropdown();\n\t\t\t}, KodiCMS.settings.main_menu.dropdown_close_delay);\n\t\t});\n\t\treturn this;\n\t};\n\n\tKodiCMS.MainMenu.prototype._collapsed = function() {\n\t\treturn (this._screen === 'desktop' && elHasClass(document.body, 'mmc')) || (this._screen !== 'desktop' && !elHasClass(document.body, 'mme'));\n\t};\n\n\tKodiCMS.MainMenu.prototype.onResize = function() {\n\t\tthis._screen = getScreenSize(this.$ssw_point, this.$tsw_point);\n\t\tthis._animate = KodiCMS.settings.main_menu.disable_animation_on.indexOf(screen) === -1;\n\t\tif (this._dropdown_li) {\n\t\t\tthis.closeCurrentDropdown(true);\n\t\t}\n\t\tif ((this._screen === 'small' && this._last_screen !== this._screen) || (this._screen === 'tablet' && this._last_screen === 'small')) {\n\t\t\tdocument.body.className += ' disable-mm-animation';\n\t\t\tsetTimeout((function(_this) {\n\t\t\t\treturn function() {\n\t\t\t\t\treturn elRemoveClass(document.body, 'disable-mm-animation');\n\t\t\t\t};\n\t\t\t})(this), 20);\n\t\t}\n\t\treturn this._last_screen = this._screen;\n\t};\n\n\tKodiCMS.MainMenu.prototype.clearCloseTimer = function() {\n\t\tif (this._close_timer) {\n\t\t\tclearTimeout(this._close_timer);\n\t\t\treturn this._close_timer = null;\n\t\t}\n\t};\n\n\tKodiCMS.MainMenu.prototype._onAnimationEnd = function(e) {\n\t\tif (this._screen !== 'desktop' || e.target.id !== 'main-menu') {\n\t\t\treturn;\n\t\t}\n\t\treturn $(window).trigger('resize');\n\t};\n\n\tKodiCMS.MainMenu.prototype.toggle = function() {\n\t\tvar cls, collapse;\n\t\tcls = this._screen === 'small' || this._screen === 'tablet' ? 'mme' : 'mmc';\n\t\tif (elHasClass(document.body, cls)) {\n\t\t\telRemoveClass(document.body, cls);\n\t\t} else {\n\t\t\tdocument.body.className += ' ' + cls;\n\t\t}\n\t\tif (cls === 'mmc') {\n\t\t\tif (KodiCMS.settings.main_menu.store_state) {\n\t\t\t\tthis._storeMenuState(elHasClass(document.body, 'mmc'));\n\t\t\t}\n\t\t\tif (!$.support.transition) {\n\t\t\t\treturn $(window).trigger('resize');\n\t\t\t}\n\t\t} else {\n\t\t\tcollapse = document.getElementById('');\n\t\t\t$('#main-navbar-collapse').stop().removeClass('in collapsing').addClass('collapse')[0].style.height = '0px';\n\t\t\treturn $('#main-navbar .navbar-toggle').addClass('collapsed');\n\t\t}\n\t};\n\n\tKodiCMS.MainMenu.prototype.toggleSubmenu = function(li) {\n\t\tthis[elHasClass(li, 'open') ? 'collapseSubmenu' : 'expandSubmenu'](li);\n\t\treturn false;\n\t};\n\n\tKodiCMS.MainMenu.prototype.collapseSubmenu = function(li) {\n\t\tvar $li, $ul;\n\t\t$li = $(li);\n\t\t$ul = $li.find('> ul');\n\t\tif (this._animate) {\n\t\t\t$ul.animate({\n\t\t\t\theight: 0\n\t\t\t}, KodiCMS.settings.main_menu.animation_speed, (function(_this) {\n\t\t\t\treturn function() {\n\t\t\t\t\telRemoveClass(li, 'open');\n\t\t\t\t\t$ul.attr('style', '');\n\t\t\t\t\treturn $li.find('.mm-dropdown.open').removeClass('open').find('> ul').attr('style', '');\n\t\t\t\t};\n\t\t\t})(this));\n\t\t} else {\n\t\t\telRemoveClass(li, 'open');\n\t\t}\n\t\treturn false;\n\t};\n\n\tKodiCMS.MainMenu.prototype.expandSubmenu = function(li) {\n\t\tvar $li, $ul, h, ul;\n\t\t$li = $(li);\n\t\tif (KodiCMS.settings.main_menu.accordion) {\n\t\t\tthis.collapseAllSubmenus(li);\n\t\t}\n\t\tif (this._animate) {\n\t\t\t$ul = $li.find('> ul');\n\t\t\tul = $ul[0];\n\t\t\tul.className += ' get-height';\n\t\t\th = $ul.height();\n\t\t\telRemoveClass(ul, 'get-height');\n\t\t\tul.style.display = 'block';\n\t\t\tul.style.height = '0px';\n\t\t\tli.className += ' open';\n\t\t\treturn $ul.animate({\n\t\t\t\theight: h\n\t\t\t}, KodiCMS.settings.main_menu.animation_speed, (function(_this) {\n\t\t\t\treturn function() {\n\t\t\t\t\treturn $ul.attr('style', '');\n\t\t\t\t};\n\t\t\t})(this));\n\t\t} else {\n\t\t\treturn li.className += ' open';\n\t\t}\n\t};\n\n\tKodiCMS.MainMenu.prototype.collapseAllSubmenus = function(li) {\n\t\tvar self;\n\t\tself = this;\n\t\treturn $(li).parent().find('> .mm-dropdown.open').each(function() {\n\t\t\treturn self.collapseSubmenu(this);\n\t\t});\n\t};\n\n\tKodiCMS.MainMenu.prototype.openDropdown = function(li, freeze) {\n\t\tvar $li, $title, $ul, $wrapper, max_height, min_height, title_h, top, ul, w_height, wrapper;\n\t\tif (freeze == null) {\n\t\t\tfreeze = false;\n\t\t}\n\t\tif (this._dropdown_li) {\n\t\t\tthis.closeCurrentDropdown(freeze);\n\t\t}\n\t\t$li = $(li);\n\t\t$ul = $li.find('> ul');\n\t\tul = $ul[0];\n\t\tthis._dropdown_li = li;\n\t\tthis._dropdown = ul;\n\t\t$title = $ul.find('> .mmc-title');\n\t\tif (!$title.length) {\n\t\t\t$title = $('<div class=\"mmc-title\"></div>').text($li.find('> a > .mm-text').text());\n\t\t\tul.insertBefore($title[0], ul.firstChild);\n\t\t}\n\t\tli.className += ' mmc-dropdown-open';\n\t\tul.className += ' mmc-dropdown-open-ul';\n\t\ttop = $li.position().top;\n\t\tif (elHasClass(document.body, 'main-menu-fixed')) {\n\t\t\t$wrapper = $ul.find('.mmc-wrapper');\n\t\t\tif (!$wrapper.length) {\n\t\t\t\twrapper = document.createElement('div');\n\t\t\t\twrapper.className = 'mmc-wrapper';\n\t\t\t\twrapper.style.overflow = 'hidden';\n\t\t\t\twrapper.style.position = 'relative';\n\t\t\t\t$wrapper = $(wrapper);\n\t\t\t\t$wrapper.append($ul.find('> li'));\n\t\t\t\tul.appendChild(wrapper);\n\t\t\t}\n\t\t\tw_height = $(window).innerHeight();\n\t\t\ttitle_h = $title.outerHeight();\n\t\t\tmin_height = title_h + $ul.find('.mmc-wrapper > li').first().outerHeight() * 3;\n\t\t\tif ((top + min_height) > w_height) {\n\t\t\t\tmax_height = top - $('#main-navbar').outerHeight();\n\t\t\t\tul.className += ' top';\n\t\t\t\tul.style.bottom = (w_height - top - title_h) + 'px';\n\t\t\t} else {\n\t\t\t\tmax_height = w_height - top - title_h;\n\t\t\t\tul.style.top = top + 'px';\n\t\t\t}\n\t\t\tif (elHasClass(ul, 'top')) {\n\t\t\t\tul.appendChild($title[0]);\n\t\t\t} else {\n\t\t\t\tul.insertBefore($title[0], ul.firstChild);\n\t\t\t}\n\t\t\tli.className += ' slimscroll-attached';\n\t\t\t$wrapper[0].style.maxHeight = (max_height - 10) + 'px';\n\t\t\t$wrapper.pixelSlimScroll({});\n\t\t} else {\n\t\t\tul.style.top = top + 'px';\n\t\t}\n\t\tif (freeze) {\n\t\t\tthis.freezeDropdown(li);\n\t\t}\n\t\tif (!freeze) {\n\t\t\t$ul.on('mouseenter', (function(_this) {\n\t\t\t\treturn function() {\n\t\t\t\t\treturn _this.clearCloseTimer();\n\t\t\t\t};\n\t\t\t})(this)).on('mouseleave', (function(_this) {\n\t\t\t\treturn function() {\n\t\t\t\t\treturn _this._close_timer = setTimeout(function() {\n\t\t\t\t\t\treturn _this.closeCurrentDropdown();\n\t\t\t\t\t}, KodiCMS.settings.main_menu.dropdown_close_delay);\n\t\t\t\t};\n\t\t\t})(this));\n\t\t\tthis;\n\t\t}\n\t\treturn this.menu.appendChild(ul);\n\t};\n\n\tKodiCMS.MainMenu.prototype.closeCurrentDropdown = function(force) {\n\t\tvar $dropdown, $wrapper;\n\t\tif (force == null) {\n\t\t\tforce = false;\n\t\t}\n\t\tif (!this._dropdown_li || (elHasClass(this._dropdown_li, 'freeze') && !force)) {\n\t\t\treturn;\n\t\t}\n\t\tthis.clearCloseTimer();\n\t\t$dropdown = $(this._dropdown);\n\t\tif (elHasClass(this._dropdown_li, 'slimscroll-attached')) {\n\t\t\telRemoveClass(this._dropdown_li, 'slimscroll-attached');\n\t\t\t$wrapper = $dropdown.find('.mmc-wrapper');\n\t\t\t$wrapper.pixelSlimScroll({\n\t\t\t\tdestroy: 'destroy'\n\t\t\t}).find('> *').appendTo($dropdown);\n\t\t\t$wrapper.remove();\n\t\t}\n\t\tthis._dropdown_li.appendChild(this._dropdown);\n\t\telRemoveClass(this._dropdown, 'mmc-dropdown-open-ul');\n\t\telRemoveClass(this._dropdown, 'top');\n\t\telRemoveClass(this._dropdown_li, 'mmc-dropdown-open');\n\t\telRemoveClass(this._dropdown_li, 'freeze');\n\t\t$(this._dropdown_li).attr('style', '');\n\t\t$dropdown.attr('style', '').off('mouseenter').off('mouseleave');\n\t\tthis._dropdown = null;\n\t\treturn this._dropdown_li = null;\n\t};\n\n\tKodiCMS.MainMenu.prototype.freezeDropdown = function(li) {\n\t\treturn li.className += ' freeze';\n\t};\n\n\tKodiCMS.MainMenu.prototype.setupAnimation = function() {\n\t\tvar $mm, $mm_nav, d_body, dsbl_animation_on;\n\t\td_body = document.body;\n\t\tdsbl_animation_on = KodiCMS.settings.main_menu.disable_animation_on;\n\t\td_body.className += ' dont-animate-mm-content';\n\t\t$mm = $('#main-menu');\n\t\t$mm_nav = $mm.find('.navigation');\n\t\t$mm_nav.find('> .mm-dropdown > ul').addClass('mmc-dropdown-delay animated');\n\t\t$mm_nav.find('> li > a > .mm-text').addClass('mmc-dropdown-delay animated fadeIn');\n\t\t$mm.find('.menu-content').addClass('animated fadeIn');\n\t\tif (elHasClass(d_body, 'main-menu-right') || (elHasClass(d_body, 'right-to-left') && !elHasClass(d_body, 'main-menu-right'))) {\n\t\t\t$mm_nav.find('> .mm-dropdown > ul').addClass('fadeInRight');\n\t\t} else {\n\t\t\t$mm_nav.find('> .mm-dropdown > ul').addClass('fadeInLeft');\n\t\t}\n\t\td_body.className += dsbl_animation_on.indexOf('small') === -1 ? ' animate-mm-sm' : ' dont-animate-mm-content-sm';\n\t\td_body.className += dsbl_animation_on.indexOf('tablet') === -1 ? ' animate-mm-md' : ' dont-animate-mm-content-md';\n\t\td_body.className += dsbl_animation_on.indexOf('desktop') === -1 ? ' animate-mm-lg' : ' dont-animate-mm-content-lg';\n\t\treturn window.setTimeout(function() {\n\t\t\treturn elRemoveClass(d_body, 'dont-animate-mm-content');\n\t\t}, 500);\n\t};\n\n\tKodiCMS.MainMenu.prototype.detectActiveItem = function() {\n\t\tvar a, bubble, links, nav, predicate, url, _i, _len, _results;\n\t\turl = (document.location + '').replace(/\\#.*?$/, '');\n\t\tpredicate = KodiCMS.settings.main_menu.detect_active_predicate;\n\t\tnav = $('#main-menu .navigation');\n\t\tnav.find('li').removeClass('open active');\n\t\tlinks = nav[0].getElementsByTagName('a');\n\t\tbubble = (function(_this) {\n\t\t\treturn function(li) {\n\t\t\t\tli.className += ' active';\n\t\t\t\tif (!elHasClass(li.parentNode, 'navigation')) {\n\t\t\t\t\tli = li.parentNode.parentNode;\n\t\t\t\t\tli.className += ' open';\n\t\t\t\t\treturn bubble(li);\n\t\t\t\t}\n\t\t\t};\n\t\t})(this);\n\t\t_results = [];\n\t\tfor (_i = 0, _len = links.length; _i < _len; _i++) {\n\t\t\ta = links[_i];\n\t\t\tif (a.href.indexOf('#') === -1 && predicate(a.href, url)) {\n\t\t\t\tbubble(a.parentNode);\n\t\t\t\tbreak;\n\t\t\t} else {\n\t\t\t\t_results.push(void 0);\n\t\t\t}\n\t\t}\n\t\treturn _results;\n\t};\n\n\n\t/*\n\t * Load menu state.\n\t */\n\tKodiCMS.MainMenu.prototype._getMenuState = function() {\n\t\treturn KodiCMS.getStoredValue(KodiCMS.settings.main_menu.store_state_key);\n\t};\n\n\n\t/*\n\t * Store menu state.\n\t */\n\tKodiCMS.MainMenu.prototype._storeMenuState = function(is_collapsed) {\n\t\tif (!KodiCMS.settings.main_menu.store_state) {\n\t\t\treturn;\n\t\t}\n\t\treturn KodiCMS.storeValue(KodiCMS.settings.main_menu.store_state_key, is_collapsed ? 'collapsed' : 'expanded');\n\t};\n\n\tKodiCMS.MainMenu.Constructor = KodiCMS.MainMenu;\n\n\tKodiCMS.addInitializer(function() {\n\t\treturn KodiCMS.initPlugin('main_menu', new KodiCMS.MainMenu, {\n\t\t\tmain_menu: {\n\t\t\t\taccordion: true,\n\t\t\t\tanimation_speed: 250,\n\t\t\t\tstore_state: true,\n\t\t\t\tstore_state_key: 'mmstate',\n\t\t\t\tdisable_animation_on: ['small'],\n\t\t\t\tdropdown_close_delay: 300,\n\t\t\t\tdetect_active: true,\n\t\t\t\tdetect_active_predicate: function(href, url) {\n\t\t\t\t\tif(href == url)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\telse if(BASE_URL == href && href == url)\n\t\t\t\t\t\treturn true;\n\t\t\t\t\telse if(BASE_URL != href && url.indexOf(href) != -1)\n\t\t\t\t\t\treturn true;\n\t\t//\t\t\telse if(url.indexOf(href) != -1)\n\t\t//\t\t\t\treturn true;\n\n\t\t\t\t\treturn false;\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\t});\n\n}).call(this);\n\n(function($) {\n\n\tjQuery.fn.extend({\n\t\tpixelSlimScroll: function(options) {\n\n\t\t\tvar defaults = {\n\t\t\t\t// width in pixels of the visible scroll area\n\t\t\t\twidth: 'auto',\n\t\t\t\t// width in pixels of the scrollbar and rail\n\t\t\t\tsize: '2px',\n\t\t\t\t// scrollbar color, accepts any hex/color value\n\t\t\t\tcolor: '#000',\n\t\t\t\t// distance in pixels between the side edge and the scrollbar\n\t\t\t\tdistance: '1px',\n\t\t\t\t// default scroll position on load - top / bottom / $('selector')\n\t\t\t\tstart: 'top',\n\t\t\t\t// sets scrollbar opacity\n\t\t\t\topacity: .4,\n\t\t\t\t// sets rail color\n\t\t\t\trailColor: '#333',\n\t\t\t\t// sets rail opacity\n\t\t\t\trailOpacity: .2,\n\t\t\t\t// defautlt CSS class of the slimscroll rail\n\t\t\t\trailClass: 'slimScrollRail',\n\t\t\t\t// defautlt CSS class of the slimscroll bar\n\t\t\t\tbarClass: 'slimScrollBar',\n\t\t\t\t// defautlt CSS class of the slimscroll wrapper\n\t\t\t\twrapperClass: 'slimScrollDiv',\n\t\t\t\t// check if mousewheel should scroll the window if we reach top/bottom\n\t\t\t\tallowPageScroll: false,\n\t\t\t\t// scroll amount applied to each mouse wheel step\n\t\t\t\twheelStep: 20,\n\t\t\t\t// scroll amount applied when user is using gestures\n\t\t\t\ttouchScrollStep: 200,\n\t\t\t\t// sets border radius\n\t\t\t\tborderRadius: '0px',\n\t\t\t\t// sets border radius of the rail\n\t\t\t\trailBorderRadius: '0px'\n\t\t\t};\n\n\t\t\tvar o = $.extend(defaults, options);\n\n\t\t\t// do it for every element that matches selector\n\t\t\tthis.each(function() {\n\n\t\t\t\tvar isOverPanel, isOverBar, isDragg, queueHide, touchDif,\n\t\t\t\t\t\tbarHeight, percentScroll, lastScroll,\n\t\t\t\t\t\tdivS = '<div></div>',\n\t\t\t\t\t\tminBarHeight = 30,\n\t\t\t\t\t\treleaseScroll = false;\n\n\t\t\t\t// used in event handlers and for better minification\n\t\t\t\tvar me = $(this);\n\n\t\t\t\t// ensure we are not binding it again\n\t\t\t\tif (me.parent().hasClass(o.wrapperClass))\n\t\t\t\t{\n\t\t\t\t\t// start from last bar position\n\t\t\t\t\tvar offset = me.scrollTop();\n\n\t\t\t\t\t// find bar and rail\n\t\t\t\t\tbar = me.parent().find('.' + o.barClass);\n\t\t\t\t\trail = me.parent().find('.' + o.railClass);\n\n\t\t\t\t\tgetBarHeight();\n\n\t\t\t\t\t// check if we should scroll existing instance\n\t\t\t\t\tif ($.isPlainObject(options))\n\t\t\t\t\t{\n\t\t\t\t\t\tif ('scrollTo' in options)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// jump to a static point\n\t\t\t\t\t\t\toffset = parseInt(o.scrollTo);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if ('scrollBy' in options)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// jump by value pixels\n\t\t\t\t\t\t\toffset += parseInt(o.scrollBy);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if ('destroy' in options)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// remove slimscroll elements\n\t\t\t\t\t\t\tbar.remove();\n\t\t\t\t\t\t\trail.remove();\n\t\t\t\t\t\t\tme.unwrap();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// scroll content by the given offset\n\t\t\t\t\t\tscrollContent(offset, false, true);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// wrap content\n\t\t\t\tvar wrapper = $(divS)\n\t\t\t\t\t\t.addClass(o.wrapperClass)\n\t\t\t\t\t\t.css({\n\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\twidth: o.width\n\t\t\t\t\t\t});\n\n\t\t\t\t// update style for the div\n\t\t\t\tme.css({\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\twidth: o.width\n\t\t\t\t});\n\n\t\t\t\t// create scrollbar rail\n\t\t\t\tvar rail = $(divS)\n\t\t\t\t\t\t.addClass(o.railClass)\n\t\t\t\t\t\t.css({\n\t\t\t\t\t\t\twidth: o.size,\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\tdisplay: 'none',\n\t\t\t\t\t\t\t'border-radius': o.railBorderRadius,\n\t\t\t\t\t\t\tbackground: o.railColor,\n\t\t\t\t\t\t\topacity: o.railOpacity,\n\t\t\t\t\t\t\tzIndex: 90\n\t\t\t\t\t\t});\n\n\t\t\t\t// create scrollbar\n\t\t\t\tvar bar = $(divS)\n\t\t\t\t\t\t.addClass(o.barClass)\n\t\t\t\t\t\t.css({\n\t\t\t\t\t\t\tbackground: o.color,\n\t\t\t\t\t\t\twidth: o.size,\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\topacity: o.opacity,\n\t\t\t\t\t\t\tdisplay: 'block',\n\t\t\t\t\t\t\t'border-radius': o.borderRadius,\n\t\t\t\t\t\t\tBorderRadius: o.borderRadius,\n\t\t\t\t\t\t\tMozBorderRadius: o.borderRadius,\n\t\t\t\t\t\t\tWebkitBorderRadius: o.borderRadius,\n\t\t\t\t\t\t\tzIndex: 99\n\t\t\t\t\t\t});\n\n\t\t\t\t// set position\n\t\t\t\trail.css({right: o.distance});\n\t\t\t\tbar.css({right: o.distance});\n\n\t\t\t\t// wrap it\n\t\t\t\tme.wrap(wrapper);\n\n\t\t\t\t// append to parent div\n\t\t\t\tme.parent().append(bar);\n\t\t\t\tme.parent().append(rail);\n\n\t\t\t\t// make it draggable and no longer dependent on the jqueryUI\n\t\t\t\tbar.bind(\"mousedown\", function(e) {\n\t\t\t\t\tvar $doc = $(document);\n\t\t\t\t\tisDragg = true;\n\t\t\t\t\tt = parseFloat(bar.css('top'));\n\t\t\t\t\tpageY = e.pageY;\n\n\t\t\t\t\t$doc.bind(\"mousemove.slimscroll\", function(e) {\n\t\t\t\t\t\tcurrTop = t + e.pageY - pageY;\n\t\t\t\t\t\tbar.css('top', currTop);\n\t\t\t\t\t\tscrollContent(0, bar.position().top, false);// scroll content\n\t\t\t\t\t});\n\n\t\t\t\t\t$doc.bind(\"mouseup.slimscroll\", function(e) {\n\t\t\t\t\t\tisDragg = false;\n\t\t\t\t\t\thideBar();\n\t\t\t\t\t\t$doc.unbind('.slimscroll');\n\t\t\t\t\t});\n\t\t\t\t\treturn false;\n\t\t\t\t}).bind(\"selectstart.slimscroll\", function(e) {\n\t\t\t\t\te.stopPropagation();\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\treturn false;\n\t\t\t\t});\n\n\t\t\t\t// on rail over\n\t\t\t\trail.hover(function() {\n\t\t\t\t\tshowBar();\n\t\t\t\t}, function() {\n\t\t\t\t\thideBar();\n\t\t\t\t});\n\n\t\t\t\t// on bar over\n\t\t\t\tbar.hover(function() {\n\t\t\t\t\tisOverBar = true;\n\t\t\t\t}, function() {\n\t\t\t\t\tisOverBar = false;\n\t\t\t\t});\n\n\t\t\t\t// show on parent mouseover\n\t\t\t\tme.hover(function() {\n\t\t\t\t\tisOverPanel = true;\n\t\t\t\t\tshowBar();\n\t\t\t\t\thideBar();\n\t\t\t\t}, function() {\n\t\t\t\t\tisOverPanel = false;\n\t\t\t\t\thideBar();\n\t\t\t\t});\n\n\t\t\t\t// support for mobile\n\t\t\t\tme.bind('touchstart', function(e, b) {\n\t\t\t\t\tif (e.originalEvent.touches.length)\n\t\t\t\t\t{\n\t\t\t\t\t\t// record where touch started\n\t\t\t\t\t\ttouchDif = e.originalEvent.touches[0].pageY;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tme.bind('touchmove', function(e) {\n\t\t\t\t\t// prevent scrolling the page if necessary\n\t\t\t\t\tif (!releaseScroll)\n\t\t\t\t\t{\n\t\t\t\t\t\te.originalEvent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\tif (e.originalEvent.touches.length)\n\t\t\t\t\t{\n\t\t\t\t\t\t// see how far user swiped\n\t\t\t\t\t\tvar diff = (touchDif - e.originalEvent.touches[0].pageY) / o.touchScrollStep;\n\t\t\t\t\t\t// scroll content\n\t\t\t\t\t\tscrollContent(diff, true);\n\t\t\t\t\t\ttouchDif = e.originalEvent.touches[0].pageY;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// set up initial height\n\t\t\t\tgetBarHeight();\n\n\t\t\t\t// attach scroll events\n\t\t\t\tattachWheel();\n\n\t\t\t\tfunction _onWheel(e)\n\t\t\t\t{\n\t\t\t\t\t// use mouse wheel only when mouse is over\n\t\t\t\t\tif (!isOverPanel) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar e = e || window.event;\n\n\t\t\t\t\tvar delta = 0;\n\t\t\t\t\tif (e.wheelDelta) {\n\t\t\t\t\t\tdelta = -e.wheelDelta / 120;\n\t\t\t\t\t}\n\t\t\t\t\tif (e.detail) {\n\t\t\t\t\t\tdelta = e.detail / 3;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar target = e.target || e.srcTarget || e.srcElement;\n\t\t\t\t\tif ($(target).closest('.' + o.wrapperClass).is(me.parent())) {\n\t\t\t\t\t\t// scroll content\n\t\t\t\t\t\tscrollContent(delta, true);\n\t\t\t\t\t}\n\n\t\t\t\t\t// stop window scroll\n\t\t\t\t\tif (e.preventDefault && !releaseScroll) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\tif (!releaseScroll) {\n\t\t\t\t\t\te.returnValue = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction scrollContent(y, isWheel, isJump)\n\t\t\t\t{\n\t\t\t\t\treleaseScroll = false;\n\t\t\t\t\tvar delta = y;\n\t\t\t\t\tvar maxTop = me.outerHeight() - bar.outerHeight();\n\n\t\t\t\t\tif (isWheel)\n\t\t\t\t\t{\n\t\t\t\t\t\t// move bar with mouse wheel\n\t\t\t\t\t\tdelta = parseInt(bar.css('top')) + y * parseInt(o.wheelStep) / 100 * bar.outerHeight();\n\n\t\t\t\t\t\t// move bar, make sure it doesn't go out\n\t\t\t\t\t\tdelta = Math.min(Math.max(delta, 0), maxTop);\n\n\t\t\t\t\t\t// if scrolling down, make sure a fractional change to the\n\t\t\t\t\t\t// scroll position isn't rounded away when the scrollbar's CSS is set\n\t\t\t\t\t\t// this flooring of delta would happened automatically when\n\t\t\t\t\t\t// bar.css is set below, but we floor here for clarity\n\t\t\t\t\t\tdelta = (y > 0) ? Math.ceil(delta) : Math.floor(delta);\n\n\t\t\t\t\t\t// scroll the scrollbar\n\t\t\t\t\t\tbar.css({top: delta + 'px'});\n\t\t\t\t\t}\n\n\t\t\t\t\t// calculate actual scroll amount\n\t\t\t\t\tpercentScroll = parseInt(bar.css('top')) / (me.outerHeight() - bar.outerHeight());\n\t\t\t\t\tdelta = percentScroll * (me[0].scrollHeight - me.outerHeight());\n\n\t\t\t\t\tif (isJump)\n\t\t\t\t\t{\n\t\t\t\t\t\tdelta = y;\n\t\t\t\t\t\tvar offsetTop = delta / me[0].scrollHeight * me.outerHeight();\n\t\t\t\t\t\toffsetTop = Math.min(Math.max(offsetTop, 0), maxTop);\n\t\t\t\t\t\tbar.css({top: offsetTop + 'px'});\n\t\t\t\t\t}\n\n\t\t\t\t\t// scroll content\n\t\t\t\t\tme.scrollTop(delta);\n\n\t\t\t\t\t// fire scrolling event\n\t\t\t\t\tme.trigger('slimscrolling', ~~delta);\n\n\t\t\t\t\t// ensure bar is visible\n\t\t\t\t\tshowBar();\n\n\t\t\t\t\t// trigger hide when scroll is stopped\n\t\t\t\t\thideBar();\n\t\t\t\t}\n\n\t\t\t\tfunction attachWheel()\n\t\t\t\t{\n\t\t\t\t\tif (window.addEventListener)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.addEventListener('DOMMouseScroll', _onWheel, false);\n\t\t\t\t\t\tthis.addEventListener('mousewheel', _onWheel, false);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tdocument.attachEvent(\"onmousewheel\", _onWheel)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction getBarHeight()\n\t\t\t\t{\n\t\t\t\t\t// calculate scrollbar height and make sure it is not too small\n\t\t\t\t\tbarHeight = Math.max((me.outerHeight() / me[0].scrollHeight) * me.outerHeight(), minBarHeight);\n\t\t\t\t\tbar.css({height: barHeight + 'px'});\n\n\t\t\t\t\t// hide scrollbar if content is not long enough\n\t\t\t\t\tvar display = barHeight == me.outerHeight() ? 'none' : 'block';\n\t\t\t\t\tbar.css({display: display});\n\t\t\t\t}\n\n\t\t\t\tfunction showBar()\n\t\t\t\t{\n\t\t\t\t\t// recalculate bar height\n\t\t\t\t\tgetBarHeight();\n\t\t\t\t\tclearTimeout(queueHide);\n\n\t\t\t\t\t// when bar reached top or bottom\n\t\t\t\t\tif (percentScroll == ~~percentScroll)\n\t\t\t\t\t{\n\t\t\t\t\t\t//release wheel\n\t\t\t\t\t\treleaseScroll = o.allowPageScroll;\n\n\t\t\t\t\t\t// publish approporiate event\n\t\t\t\t\t\tif (lastScroll != percentScroll)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar msg = (~~percentScroll == 0) ? 'top' : 'bottom';\n\t\t\t\t\t\t\tme.trigger('slimscroll', msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\treleaseScroll = false;\n\t\t\t\t\t}\n\t\t\t\t\tlastScroll = percentScroll;\n\n\t\t\t\t\t// show only when required\n\t\t\t\t\tif (barHeight >= me.outerHeight()) {\n\t\t\t\t\t\t//allow window scroll\n\t\t\t\t\t\treleaseScroll = true;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tbar.stop(true, true).fadeIn('fast');\n\t\t\t\t}\n\n\t\t\t\tfunction hideBar() {\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\t// maintain chainability\n\t\t\treturn this;\n\t\t}\n\t});\n\n\tjQuery.fn.extend({\n\t\tpixelslimscroll: jQuery.fn.pixelSlimScroll\n\t});\n\n})(jQuery);\n\n/* =========================================================\n * bootstrap-tabdrop.js \n * http://www.eyecon.ro/bootstrap-tabdrop\n * =========================================================\n * Copyright 2012 Stefan Petre\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * ========================================================= */\n\n!function($) {\n\n\tvar WinReszier = (function() {\n\t\tvar registered = [];\n\t\tvar inited = false;\n\t\tvar timer;\n\t\tvar resize = function(ev) {\n\t\t\tclearTimeout(timer);\n\t\t\ttimer = setTimeout(notify, 100);\n\t\t};\n\t\tvar notify = function() {\n\t\t\tfor (var i = 0, cnt = registered.length; i < cnt; i++) {\n\t\t\t\tregistered[i].apply();\n\t\t\t}\n\t\t};\n\t\treturn {\n\t\t\tregister: function(fn) {\n\t\t\t\tregistered.push(fn);\n\t\t\t\tif (inited === false) {\n\t\t\t\t\t$(window).bind('resize', resize);\n\t\t\t\t\tinited = true;\n\t\t\t\t}\n\t\t\t},\n\t\t\tunregister: function(fn) {\n\t\t\t\tfor (var i = 0, cnt = registered.length; i < cnt; i++) {\n\t\t\t\t\tif (registered[i] == fn) {\n\t\t\t\t\t\tdelete registered[i];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}());\n\n\tvar TabDrop = function(element, options) {\n\t\tthis.element = $(element);\n\t\tthis.dropdown = $('<li class=\"dropdown hide pull-right tabdrop\"><a class=\"dropdown-toggle\" data-toggle=\"dropdown\" href=\"#\">' + options.text + ' <b class=\"caret\"></b></a><ul class=\"dropdown-menu\"></ul></li>')\n\t\t\t\t.prependTo(this.element);\n\t\tif (this.element.parent().is('.tabs-below')) {\n\t\t\tthis.dropdown.addClass('dropup');\n\t\t}\n\t\tWinReszier.register($.proxy(this.layout, this));\n\t\tthis.layout();\n\t};\n\n\tTabDrop.prototype = {\n\t\tconstructor: TabDrop,\n\t\tlayout: function() {\n\t\t\tvar collection = [];\n\t\t\tthis.dropdown.removeClass('hide');\n\t\t\tthis.element\n\t\t\t\t\t.append(this.dropdown.find('li'))\n\t\t\t\t\t.find('>li')\n\t\t\t\t\t.not('.tabdrop')\n\t\t\t\t\t.each(function() {\n\t\t\t\t\t\tif (this.offsetTop > 0) {\n\t\t\t\t\t\t\tcollection.push(this);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\tif (collection.length > 0) {\n\t\t\t\tcollection = $(collection);\n\t\t\t\tthis.dropdown\n\t\t\t\t\t\t.find('ul')\n\t\t\t\t\t\t.empty()\n\t\t\t\t\t\t.append(collection);\n\t\t\t\tif (this.dropdown.find('.active').length == 1) {\n\t\t\t\t\tthis.dropdown.addClass('active');\n\t\t\t\t} else {\n\t\t\t\t\tthis.dropdown.removeClass('active');\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tthis.dropdown.addClass('hide');\n\t\t\t}\n\t\t}\n\t}\n\n\t$.fn.tabdrop = function(option) {\n\t\treturn this.each(function() {\n\t\t\tvar $this = $(this),\n\t\t\t\t\tdata = $this.data('tabdrop'),\n\t\t\t\t\toptions = typeof option === 'object' && option;\n\t\t\tif (!data) {\n\t\t\t\t$this.data('tabdrop', (data = new TabDrop(this, $.extend({}, $.fn.tabdrop.defaults, options))));\n\t\t\t}\n\t\t\tif (typeof option == 'string') {\n\t\t\t\tdata[option]();\n\t\t\t}\n\t\t})\n\t};\n\n\t$.fn.tabdrop.defaults = {\n\t\ttext: '<i class=\"icon-align-justify\"></i>'\n\t};\n\n\t$.fn.tabdrop.Constructor = TabDrop;\n\n}(window.jQuery);\n\n\n/*! Copyright (c) 2011 Piotr Rochala (http://rocha.la)\n * Dual licensed under the MIT (http://www.opensource.org/licenses/mit-license.php)\n * and GPL (http://www.opensource.org/licenses/gpl-license.php) licenses.\n *\n * Version: 1.3.2\n *\n */\n(function($) {\n\n\tjQuery.fn.extend({\n\t\tslimScroll: function(options) {\n\n\t\t\tvar defaults = {\n\t\t\t\t// width in pixels of the visible scroll area\n\t\t\t\twidth: 'auto',\n\t\t\t\t// height in pixels of the visible scroll area\n\t\t\t\theight: '250px',\n\t\t\t\t// width in pixels of the scrollbar and rail\n\t\t\t\tsize: '7px',\n\t\t\t\t// scrollbar color, accepts any hex/color value\n\t\t\t\tcolor: '#000',\n\t\t\t\t// scrollbar position - left/right\n\t\t\t\tposition: 'right',\n\t\t\t\t// distance in pixels between the side edge and the scrollbar\n\t\t\t\tdistance: '1px',\n\t\t\t\t// default scroll position on load - top / bottom / $('selector')\n\t\t\t\tstart: 'top',\n\t\t\t\t// sets scrollbar opacity\n\t\t\t\topacity: .4,\n\t\t\t\t// enables always-on mode for the scrollbar\n\t\t\t\talwaysVisible: false,\n\t\t\t\t// check if we should hide the scrollbar when user is hovering over\n\t\t\t\tdisableFadeOut: false,\n\t\t\t\t// sets visibility of the rail\n\t\t\t\trailVisible: false,\n\t\t\t\t// sets rail color\n\t\t\t\trailColor: '#333',\n\t\t\t\t// sets rail opacity\n\t\t\t\trailOpacity: .2,\n\t\t\t\t// whether  we should use jQuery UI Draggable to enable bar dragging\n\t\t\t\trailDraggable: true,\n\t\t\t\t// defautlt CSS class of the slimscroll rail\n\t\t\t\trailClass: 'slimScrollRail',\n\t\t\t\t// defautlt CSS class of the slimscroll bar\n\t\t\t\tbarClass: 'slimScrollBar',\n\t\t\t\t// defautlt CSS class of the slimscroll wrapper\n\t\t\t\twrapperClass: 'slimScrollDiv',\n\t\t\t\t// check if mousewheel should scroll the window if we reach top/bottom\n\t\t\t\tallowPageScroll: false,\n\t\t\t\t// scroll amount applied to each mouse wheel step\n\t\t\t\twheelStep: 20,\n\t\t\t\t// scroll amount applied when user is using gestures\n\t\t\t\ttouchScrollStep: 200,\n\t\t\t\t// sets border radius\n\t\t\t\tborderRadius: '7px',\n\t\t\t\t// sets border radius of the rail\n\t\t\t\trailBorderRadius: '7px'\n\t\t\t};\n\n\t\t\tvar o = $.extend(defaults, options);\n\n\t\t\t// do it for every element that matches selector\n\t\t\tthis.each(function() {\n\n\t\t\t\tvar isOverPanel, isOverBar, isDragg, queueHide, touchDif,\n\t\t\t\t\t\tbarHeight, percentScroll, lastScroll,\n\t\t\t\t\t\tdivS = '<div></div>',\n\t\t\t\t\t\tminBarHeight = 30,\n\t\t\t\t\t\treleaseScroll = false;\n\n\t\t\t\t// used in event handlers and for better minification\n\t\t\t\tvar me = $(this);\n\n\t\t\t\t// ensure we are not binding it again\n\t\t\t\tif (me.parent().hasClass(o.wrapperClass))\n\t\t\t\t{\n\t\t\t\t\t// start from last bar position\n\t\t\t\t\tvar offset = me.scrollTop();\n\n\t\t\t\t\t// find bar and rail\n\t\t\t\t\tbar = me.parent().find('.' + o.barClass);\n\t\t\t\t\trail = me.parent().find('.' + o.railClass);\n\n\t\t\t\t\tgetBarHeight();\n\n\t\t\t\t\t// check if we should scroll existing instance\n\t\t\t\t\tif ($.isPlainObject(options))\n\t\t\t\t\t{\n\t\t\t\t\t\t// Pass height: auto to an existing slimscroll object to force a resize after contents have changed\n\t\t\t\t\t\tif ('height' in options && options.height == 'auto') {\n\t\t\t\t\t\t\tme.parent().css('height', 'auto');\n\t\t\t\t\t\t\tme.css('height', 'auto');\n\t\t\t\t\t\t\tvar height = me.parent().parent().height();\n\t\t\t\t\t\t\tme.parent().css('height', height);\n\t\t\t\t\t\t\tme.css('height', height);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ('scrollTo' in options)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// jump to a static point\n\t\t\t\t\t\t\toffset = parseInt(o.scrollTo);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if ('scrollBy' in options)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// jump by value pixels\n\t\t\t\t\t\t\toffset += parseInt(o.scrollBy);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if ('destroy' in options)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t// remove slimscroll elements\n\t\t\t\t\t\t\tbar.remove();\n\t\t\t\t\t\t\trail.remove();\n\t\t\t\t\t\t\tme.unwrap();\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// scroll content by the given offset\n\t\t\t\t\t\tscrollContent(offset, false, true);\n\t\t\t\t\t}\n\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\t// optionally set height to the parent's height\n\t\t\t\to.height = (options.height == 'auto') ? me.parent().height() : options.height;\n\n\t\t\t\t// wrap content\n\t\t\t\tvar wrapper = $(divS)\n\t\t\t\t\t\t.addClass(o.wrapperClass)\n\t\t\t\t\t\t.css({\n\t\t\t\t\t\t\tposition: 'relative',\n\t\t\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\t\t\twidth: o.width,\n\t\t\t\t\t\t\theight: o.height\n\t\t\t\t\t\t});\n\n\t\t\t\t// update style for the div\n\t\t\t\tme.css({\n\t\t\t\t\toverflow: 'hidden',\n\t\t\t\t\twidth: o.width,\n\t\t\t\t\theight: o.height\n\t\t\t\t});\n\n\t\t\t\t// create scrollbar rail\n\t\t\t\tvar rail = $(divS)\n\t\t\t\t\t\t.addClass(o.railClass)\n\t\t\t\t\t\t.css({\n\t\t\t\t\t\t\twidth: o.size,\n\t\t\t\t\t\t\theight: '100%',\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\tdisplay: (o.alwaysVisible && o.railVisible) ? 'block' : 'none',\n\t\t\t\t\t\t\t'border-radius': o.railBorderRadius,\n\t\t\t\t\t\t\tbackground: o.railColor,\n\t\t\t\t\t\t\topacity: o.railOpacity,\n\t\t\t\t\t\t\tzIndex: 90\n\t\t\t\t\t\t});\n\n\t\t\t\t// create scrollbar\n\t\t\t\tvar bar = $(divS)\n\t\t\t\t\t\t.addClass(o.barClass)\n\t\t\t\t\t\t.css({\n\t\t\t\t\t\t\tbackground: o.color,\n\t\t\t\t\t\t\twidth: o.size,\n\t\t\t\t\t\t\tposition: 'absolute',\n\t\t\t\t\t\t\ttop: 0,\n\t\t\t\t\t\t\topacity: o.opacity,\n\t\t\t\t\t\t\tdisplay: o.alwaysVisible ? 'block' : 'none',\n\t\t\t\t\t\t\t'border-radius': o.borderRadius,\n\t\t\t\t\t\t\tBorderRadius: o.borderRadius,\n\t\t\t\t\t\t\tMozBorderRadius: o.borderRadius,\n\t\t\t\t\t\t\tWebkitBorderRadius: o.borderRadius,\n\t\t\t\t\t\t\tzIndex: 99\n\t\t\t\t\t\t});\n\n\t\t\t\t// set position\n\t\t\t\tvar posCss = (o.position == 'right') ? {right: o.distance} : {left: o.distance};\n\t\t\t\trail.css(posCss);\n\t\t\t\tbar.css(posCss);\n\n\t\t\t\t// wrap it\n\t\t\t\tme.wrap(wrapper);\n\n\t\t\t\t// append to parent div\n\t\t\t\tme.parent().append(bar);\n\t\t\t\tme.parent().append(rail);\n\n\t\t\t\t// make it draggable and no longer dependent on the jqueryUI\n\t\t\t\tif (o.railDraggable) {\n\t\t\t\t\tbar.bind(\"mousedown\", function(e) {\n\t\t\t\t\t\tvar $doc = $(document);\n\t\t\t\t\t\tisDragg = true;\n\t\t\t\t\t\tt = parseFloat(bar.css('top'));\n\t\t\t\t\t\tpageY = e.pageY;\n\n\t\t\t\t\t\t$doc.bind(\"mousemove.slimscroll\", function(e) {\n\t\t\t\t\t\t\tcurrTop = t + e.pageY - pageY;\n\t\t\t\t\t\t\tbar.css('top', currTop);\n\t\t\t\t\t\t\tscrollContent(0, bar.position().top, false);// scroll content\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\t$doc.bind(\"mouseup.slimscroll\", function(e) {\n\t\t\t\t\t\t\tisDragg = false;\n\t\t\t\t\t\t\thideBar();\n\t\t\t\t\t\t\t$doc.unbind('.slimscroll');\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}).bind(\"selectstart.slimscroll\", function(e) {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t});\n\t\t\t\t}\n\n\t\t\t\t// on rail over\n\t\t\t\trail.hover(function() {\n\t\t\t\t\tshowBar();\n\t\t\t\t}, function() {\n\t\t\t\t\thideBar();\n\t\t\t\t});\n\n\t\t\t\t// on bar over\n\t\t\t\tbar.hover(function() {\n\t\t\t\t\tisOverBar = true;\n\t\t\t\t}, function() {\n\t\t\t\t\tisOverBar = false;\n\t\t\t\t});\n\n\t\t\t\t// show on parent mouseover\n\t\t\t\tme.hover(function() {\n\t\t\t\t\tisOverPanel = true;\n\t\t\t\t\tshowBar();\n\t\t\t\t\thideBar();\n\t\t\t\t}, function() {\n\t\t\t\t\tisOverPanel = false;\n\t\t\t\t\thideBar();\n\t\t\t\t});\n\n\t\t\t\t// support for mobile\n\t\t\t\tme.bind('touchstart', function(e, b) {\n\t\t\t\t\tif (e.originalEvent.touches.length)\n\t\t\t\t\t{\n\t\t\t\t\t\t// record where touch started\n\t\t\t\t\t\ttouchDif = e.originalEvent.touches[0].pageY;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tme.bind('touchmove', function(e) {\n\t\t\t\t\t// prevent scrolling the page if necessary\n\t\t\t\t\tif (!releaseScroll)\n\t\t\t\t\t{\n\t\t\t\t\t\te.originalEvent.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\tif (e.originalEvent.touches.length)\n\t\t\t\t\t{\n\t\t\t\t\t\t// see how far user swiped\n\t\t\t\t\t\tvar diff = (touchDif - e.originalEvent.touches[0].pageY) / o.touchScrollStep;\n\t\t\t\t\t\t// scroll content\n\t\t\t\t\t\tscrollContent(diff, true);\n\t\t\t\t\t\ttouchDif = e.originalEvent.touches[0].pageY;\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// set up initial height\n\t\t\t\tgetBarHeight();\n\n\t\t\t\t// check start position\n\t\t\t\tif (o.start === 'bottom')\n\t\t\t\t{\n\t\t\t\t\t// scroll content to bottom\n\t\t\t\t\tbar.css({top: me.outerHeight() - bar.outerHeight()});\n\t\t\t\t\tscrollContent(0, true);\n\t\t\t\t}\n\t\t\t\telse if (o.start !== 'top')\n\t\t\t\t{\n\t\t\t\t\t// assume jQuery selector\n\t\t\t\t\tscrollContent($(o.start).position().top, null, true);\n\n\t\t\t\t\t// make sure bar stays hidden\n\t\t\t\t\tif (!o.alwaysVisible) {\n\t\t\t\t\t\tbar.hide();\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\t// attach scroll events\n\t\t\t\tattachWheel();\n\n\t\t\t\tfunction _onWheel(e)\n\t\t\t\t{\n\t\t\t\t\t// use mouse wheel only when mouse is over\n\t\t\t\t\tif (!isOverPanel) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar e = e || window.event;\n\n\t\t\t\t\tvar delta = 0;\n\t\t\t\t\tif (e.wheelDelta) {\n\t\t\t\t\t\tdelta = -e.wheelDelta / 120;\n\t\t\t\t\t}\n\t\t\t\t\tif (e.detail) {\n\t\t\t\t\t\tdelta = e.detail / 3;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar target = e.target || e.srcTarget || e.srcElement;\n\t\t\t\t\tif ($(target).closest('.' + o.wrapperClass).is(me.parent())) {\n\t\t\t\t\t\t// scroll content\n\t\t\t\t\t\tscrollContent(delta, true);\n\t\t\t\t\t}\n\n\t\t\t\t\t// stop window scroll\n\t\t\t\t\tif (e.preventDefault && !releaseScroll) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t}\n\t\t\t\t\tif (!releaseScroll) {\n\t\t\t\t\t\te.returnValue = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction scrollContent(y, isWheel, isJump)\n\t\t\t\t{\n\t\t\t\t\treleaseScroll = false;\n\t\t\t\t\tvar delta = y;\n\t\t\t\t\tvar maxTop = me.outerHeight() - bar.outerHeight();\n\n\t\t\t\t\tif (isWheel)\n\t\t\t\t\t{\n\t\t\t\t\t\t// move bar with mouse wheel\n\t\t\t\t\t\tdelta = parseInt(bar.css('top')) + y * parseInt(o.wheelStep) / 100 * bar.outerHeight();\n\n\t\t\t\t\t\t// move bar, make sure it doesn't go out\n\t\t\t\t\t\tdelta = Math.min(Math.max(delta, 0), maxTop);\n\n\t\t\t\t\t\t// if scrolling down, make sure a fractional change to the\n\t\t\t\t\t\t// scroll position isn't rounded away when the scrollbar's CSS is set\n\t\t\t\t\t\t// this flooring of delta would happened automatically when\n\t\t\t\t\t\t// bar.css is set below, but we floor here for clarity\n\t\t\t\t\t\tdelta = (y > 0) ? Math.ceil(delta) : Math.floor(delta);\n\n\t\t\t\t\t\t// scroll the scrollbar\n\t\t\t\t\t\tbar.css({top: delta + 'px'});\n\t\t\t\t\t}\n\n\t\t\t\t\t// calculate actual scroll amount\n\t\t\t\t\tpercentScroll = parseInt(bar.css('top')) / (me.outerHeight() - bar.outerHeight());\n\t\t\t\t\tdelta = percentScroll * (me[0].scrollHeight - me.outerHeight());\n\n\t\t\t\t\tif (isJump)\n\t\t\t\t\t{\n\t\t\t\t\t\tdelta = y;\n\t\t\t\t\t\tvar offsetTop = delta / me[0].scrollHeight * me.outerHeight();\n\t\t\t\t\t\toffsetTop = Math.min(Math.max(offsetTop, 0), maxTop);\n\t\t\t\t\t\tbar.css({top: offsetTop + 'px'});\n\t\t\t\t\t}\n\n\t\t\t\t\t// scroll content\n\t\t\t\t\tme.scrollTop(delta);\n\n\t\t\t\t\t// fire scrolling event\n\t\t\t\t\tme.trigger('slimscrolling', ~~delta);\n\n\t\t\t\t\t// ensure bar is visible\n\t\t\t\t\tshowBar();\n\n\t\t\t\t\t// trigger hide when scroll is stopped\n\t\t\t\t\thideBar();\n\t\t\t\t}\n\n\t\t\t\tfunction attachWheel()\n\t\t\t\t{\n\t\t\t\t\tif (window.addEventListener)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.addEventListener('DOMMouseScroll', _onWheel, false);\n\t\t\t\t\t\tthis.addEventListener('mousewheel', _onWheel, false);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tdocument.attachEvent(\"onmousewheel\", _onWheel)\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction getBarHeight()\n\t\t\t\t{\n\t\t\t\t\t// calculate scrollbar height and make sure it is not too small\n\t\t\t\t\tbarHeight = Math.max((me.outerHeight() / me[0].scrollHeight) * me.outerHeight(), minBarHeight);\n\t\t\t\t\tbar.css({height: barHeight + 'px'});\n\n\t\t\t\t\t// hide scrollbar if content is not long enough\n\t\t\t\t\tvar display = barHeight == me.outerHeight() ? 'none' : 'block';\n\t\t\t\t\tbar.css({display: display});\n\t\t\t\t}\n\n\t\t\t\tfunction showBar()\n\t\t\t\t{\n\t\t\t\t\t// recalculate bar height\n\t\t\t\t\tgetBarHeight();\n\t\t\t\t\tclearTimeout(queueHide);\n\n\t\t\t\t\t// when bar reached top or bottom\n\t\t\t\t\tif (percentScroll == ~~percentScroll)\n\t\t\t\t\t{\n\t\t\t\t\t\t//release wheel\n\t\t\t\t\t\treleaseScroll = o.allowPageScroll;\n\n\t\t\t\t\t\t// publish approporiate event\n\t\t\t\t\t\tif (lastScroll != percentScroll)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tvar msg = (~~percentScroll == 0) ? 'top' : 'bottom';\n\t\t\t\t\t\t\tme.trigger('slimscroll', msg);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\treleaseScroll = false;\n\t\t\t\t\t}\n\t\t\t\t\tlastScroll = percentScroll;\n\n\t\t\t\t\t// show only when required\n\t\t\t\t\tif (barHeight >= me.outerHeight()) {\n\t\t\t\t\t\t//allow window scroll\n\t\t\t\t\t\treleaseScroll = true;\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tbar.stop(true, true).fadeIn('fast');\n\t\t\t\t\tif (o.railVisible) {\n\t\t\t\t\t\trail.stop(true, true).fadeIn('fast');\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tfunction hideBar()\n\t\t\t\t{\n\t\t\t\t\t// only hide when options allow it\n\t\t\t\t\tif (!o.alwaysVisible)\n\t\t\t\t\t{\n\t\t\t\t\t\tqueueHide = setTimeout(function() {\n\t\t\t\t\t\t\tif (!(o.disableFadeOut && isOverPanel) && !isOverBar && !isDragg)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tbar.fadeOut('slow');\n\t\t\t\t\t\t\t\trail.fadeOut('slow');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}, 1000);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t});\n\n\t\t\t// maintain chainability\n\t\t\treturn this;\n\t\t}\n\t});\n\n\tjQuery.fn.extend({\n\t\tslimscroll: jQuery.fn.slimScroll\n\t});\n\n})(jQuery);\n\n(function() {\n\t$.fn.serializeObject = function() {\n\t\tvar e = {};\n\t\tvar t = this.serializeArray();\n\t\t$.each(t, function() {\n\t\t\tif (e[this.name] !== undefined) {\n\t\t\t\tif (!e[this.name].push) {\n\t\t\t\t\te[this.name] = [e[this.name]]\n\t\t\t\t}\n\t\t\t\te[this.name].push(this.value || \"\")\n\t\t\t} else {\n\t\t\t\te[this.name] = this.value || \"\"\n\t\t\t}\n\t\t});\n\t\treturn e\n\t};\n}).call(this);\n\n(function() {\n\t$.fn.scrollTo = function(e, t, n) {\n\t\tif (typeof t == \"function\" && arguments.length == 2) {\n\t\t\tn = t;\n\t\t\tt = e\n\t\t}\n\t\tvar r = $.extend({scrollTarget: e, offsetTop: 50, duration: 500, easing: \"swing\"}, t);\n\t\treturn this.each(function() {\n\t\t\tvar e = $(this);\n\t\t\tvar t = typeof r.scrollTarget == \"number\" ? r.scrollTarget : $(r.scrollTarget);\n\t\t\tvar i = typeof t == \"number\" ? t : t.offset().top + e.scrollTop() - parseInt(r.offsetTop);\n\t\t\te.animate({scrollTop: i}, parseInt(r.duration), r.easing, function() {\n\t\t\t\tif (typeof n == \"function\") {\n\t\t\t\t\tn.call(this)\n\t\t\t\t}\n\t\t\t})\n\t\t})\n\t};\n}).call(this);\n\n\n(function() {\n\tvar tabdrop;\n\n\tif (!$.fn.tabdrop) {\n\t\tthrow new Error('bootstrap-tabdrop.js required');\n\t}\n\n\ttabdrop = $.fn.tabdrop;\n\n\t$.fn.tabdrop = function(options) {\n\t\toptions = $.extend({}, $.fn.tabdrop.defaults, options);\n\t\treturn this.each(function() {\n\t\t\tvar $this, data;\n\t\t\t$this = $(this);\n\t\t\ttabdrop.call($this, options);\n\t\t\tdata = $this.data('tabdrop');\n\t\t\tif (data) {\n\t\t\t\tdata.dropdown.on(\"click\", \"li\", function() {\n\t\t\t\t\t$(this).parent().parent().find(\"a.dropdown-toggle\").empty().html('<span class=\"display-tab\"> ' + $(this).text() + ' </span><b class=\"caret\"></b>');\n\t\t\t\t\treturn data.layout();\n\t\t\t\t});\n\t\t\t\treturn data.element.on('click', '> li', function() {\n\t\t\t\t\tif ($(this).hasClass('tabdrop')) {\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tdata.element.find(\"> .tabdrop > a.dropdown-toggle\").empty().html(options.text + ' <b class=\"caret\"></b>');\n\t\t\t\t\treturn data.layout();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t};\n\n\t$.fn.tabdrop.defaults = {\n\t\ttext: '<i class=\"fa fa-bars\"></i>'\n\t};\n}).call(this);\n\n\n(function() {\n\t$.fn.check=function(){return this.each(function(){this.checked=true})}\n\t$.fn.uncheck=function(){return this.each(function(){this.checked=false})};\n\t$.fn.checked=function(){return this.prop(\"checked\")}\n\n\t$.fn.tabs = function () {\n\t\treturn $('li a', this).on('click', function() {\n\t\t\t$(this)\n\t\t\t\t.parent()\n\t\t\t\t.addClass('active')\n\t\t\t\t.siblings()\n\t\t\t\t.removeClass('active');\n\n\t\t\t$('div.tab-pane').removeClass('active');\n\t\t\t$($(this).attr('href')).addClass('active');\n\n\t\t\treturn false;\n\t\t});\n\t};\n\t\n\tjQuery.browser = {};\n\tjQuery.browser.mozilla = /mozilla/.test(navigator.userAgent.toLowerCase()) && !/webkit/.test(navigator.userAgent.toLowerCase());\n\tjQuery.browser.webkit = /webkit/.test(navigator.userAgent.toLowerCase());\n\tjQuery.browser.opera = /opera/.test(navigator.userAgent.toLowerCase());\n\tjQuery.browser.msie = /msie/.test(navigator.userAgent.toLowerCase());\n\n\n\t(function(e) {\n\t\tfunction t(t) {\n\t\t\tif (typeof t.data === \"string\") {\n\t\t\t\tt.data = {keys: t.data}\n\t\t\t}\n\t\t\tif (!t.data || !t.data.keys || typeof t.data.keys !== \"string\") {\n\t\t\t\treturn\n\t\t\t}\n\t\t\tvar n = t.handler, r = t.data.keys.toLowerCase().split(\" \"), i = [\"text\", \"password\", \"number\", \"email\", \"url\", \"range\", \"date\", \"month\", \"week\", \"time\", \"datetime\", \"datetime-local\", \"search\", \"color\", \"tel\"];\n\t\t\tt.handler = function(t) {\n\t\t\t\tif (this !== t.target && (/textarea|select/i.test(t.target.nodeName) || e.inArray(t.target.type, i) > -1)) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tvar s = e.hotkeys.specialKeys[t.keyCode], o = String.fromCharCode(t.which).toLowerCase(), u = \"\", a = {};\n\t\t\t\te.each([\"alt\", \"ctrl\", \"meta\", \"shift\"], function(e, n) {\n\t\t\t\t\tif (t[n + \"Key\"] && s !== n) {\n\t\t\t\t\t\tu += n + \"+\"\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\tu = u.replace(\"alt+ctrl+meta+shift\", \"hyper\");\n\t\t\t\tif (s) {\n\t\t\t\t\ta[u + s] = true\n\t\t\t\t}\n\t\t\t\tif (o) {\n\t\t\t\t\ta[u + o] = true;\n\t\t\t\t\ta[u + e.hotkeys.shiftNums[o]] = true;\n\t\t\t\t\tif (u === \"shift+\") {\n\t\t\t\t\t\ta[e.hotkeys.shiftNums[o]] = true\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfor (var f = 0, l = r.length; f < l; f++) {\n\t\t\t\t\tif (a[r[f]]) {\n\t\t\t\t\t\treturn n.apply(this, arguments)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\te.hotkeys = {version: \"0.8\", specialKeys: {8: \"backspace\", 9: \"tab\", 10: \"return\", 13: \"return\", 16: \"shift\", 17: \"ctrl\", 18: \"alt\", 19: \"pause\", 20: \"capslock\", 27: \"esc\", 32: \"space\", 33: \"pageup\", 34: \"pagedown\", 35: \"end\", 36: \"home\", 37: \"left\", 38: \"up\", 39: \"right\", 40: \"down\", 45: \"insert\", 46: \"del\", 59: \";\", 61: \"=\", 96: \"0\", 97: \"1\", 98: \"2\", 99: \"3\", 100: \"4\", 101: \"5\", 102: \"6\", 103: \"7\", 104: \"8\", 105: \"9\", 106: \"*\", 107: \"+\", 109: \"-\", 110: \".\", 111: \"/\", 112: \"f1\", 113: \"f2\", 114: \"f3\", 115: \"f4\", 116: \"f5\", 117: \"f6\", 118: \"f7\", 119: \"f8\", 120: \"f9\", 121: \"f10\", 122: \"f11\", 123: \"f12\", 144: \"numlock\", 145: \"scroll\", 173: \"-\", 186: \";\", 187: \"=\", 188: \",\", 189: \"-\", 190: \".\", 191: \"/\", 192: \"`\", 219: \"[\", 220: \"\\\\\", 221: \"]\", 222: \"'\"}, shiftNums: {\"`\": \"~\", 1: \"!\", 2: \"@\", 3: \"#\", 4: \"$\", 5: \"%\", 6: \"^\", 7: \"&\", 8: \"*\", 9: \"(\", 0: \")\", \"-\": \"_\", \"=\": \"+\", \";\": \": \", \"'\": '\"', \",\": \"<\", \".\": \">\", \"/\": \"?\", \"\\\\\": \"|\"}};\n\t\te.each([\"keydown\", \"keyup\", \"keypress\"], function() {\n\t\t\te.event.special[this] = {add: t}\n\t\t})\n\t})(this.jQuery)\n\n\t!function() {\n\t\t\"use strict\";\n\t\tvar a = function(a, b) {\n\t\t\tvar f, g, h, i, j, k = \"object\" == typeof b && b.maintainCase || !1, l = \"object\" == typeof b && b.titleCase ? b.titleCase : !1, m = \"object\" == typeof b && \"object\" == typeof b.custom && b.custom ? b.custom : {}, n = \"object\" == typeof b && b.separator || \"-\", o = \"object\" == typeof b && +b.truncate > 1 && b.truncate || !1, p = \"object\" == typeof b && b.uric || !1, q = \"object\" == typeof b && b.uricNoSlash || !1, r = \"object\" == typeof b && b.mark || !1, s = \"object\" == typeof b && b.lang && e[b.lang] ? e[b.lang] : \"object\" != typeof b || b.lang !== !1 && b.lang !== !0 ? e.en : {}, t = [\";\", \"?\", \":\", \"@\", \"&\", \"=\", \"+\", \"$\", \",\", \"/\"], u = [\";\", \"?\", \":\", \"@\", \"&\", \"=\", \"+\", \"$\", \",\"], v = [\".\", \"!\", \"~\", \"*\", \"'\", \"(\", \")\"], w = \"\", x = n;\n\t\t\tif (l && \"number\" == typeof l.length && Array.prototype.toString.call(l) && l.forEach(function(a) {\n\t\t\t\tm[a + \"\"] = a + \"\"\n\t\t\t}), \"string\" != typeof a)\n\t\t\t\treturn\"\";\n\t\t\tfor (\"string\" == typeof b?n = b:\"object\" == typeof b && (p && (x += t.join(\"\")), q && (x += u.join(\"\")), r && (x += v.join(\"\"))), Object.keys(m).forEach(function(b) {\n\t\t\t\tvar d;\n\t\t\t\td = b.length > 1 ? new RegExp(\"\\\\b\" + c(b) + \"\\\\b\", \"gi\") : new RegExp(c(b), \"gi\"), a = a.replace(d, m[b])\n\t\t\t}), l && (a = a.replace(/(\\w)(\\S*)/g, function(a, b, c) {\n\t\t\t\tvar d = b.toUpperCase() + (null !== c ? c : \"\");\n\t\t\t\treturn Object.keys(m).indexOf(d.toLowerCase()) < 0 ? d : d.toLowerCase()\n\t\t\t})), x = c(x), a = a.replace(/(^\\s+|\\s+$)/g, \"\"), j = !1, g = 0, i = a.length; i > g; g++)\n\t\t\t\th = a[g], d[h] ? (h = j && d[h].match(/[A-Za-z0-9]/) ? \" \" + d[h] : d[h], j = !1) : !s[h] || p && -1 !== t.join(\"\").indexOf(h) || q && -1 !== u.join(\"\").indexOf(h) || r && -1 !== v.join(\"\").indexOf(h) ? (j && (/[A-Za-z0-9]/.test(h) || w.substr(-1).match(/A-Za-z0-9]/)) && (h = \" \" + h), j = !1) : (h = j || w.substr(-1).match(/[A-Za-z0-9]/) ? n + s[h] : s[h], h += void 0 !== a[g + 1] && a[g + 1].match(/[A-Za-z0-9]/) ? n : \"\", j = !0), w += h.replace(new RegExp(\"[^\\\\w\\\\s\" + x + \"_-]\", \"g\"), n);\n\t\t\treturn w = w.replace(/\\s+/g, n).replace(new RegExp(\"\\\\\" + n + \"+\", \"g\"), n).replace(new RegExp(\"(^\\\\\" + n + \"+|\\\\\" + n + \"+$)\", \"g\"), \"\"), o && w.length > o && (f = w.charAt(o) === n, w = w.slice(0, o), f || (w = w.slice(0, w.lastIndexOf(n)))), k || l || l.length || (w = w.toLowerCase()), w\n\t\t}, b = function(b) {\n\t\t\treturn function(c) {\n\t\t\t\treturn a(c, b)\n\t\t\t}\n\t\t}, c = function(a) {\n\t\t\treturn a.replace(/[-\\\\^$*+?.()|[\\]{}\\/]/g, \"\\\\$&\")\n\t\t}, d = {\"À\": \"A\", \"Á\": \"A\", \"Â\": \"A\", \"Ã\": \"A\", \"Ä\": \"Ae\", \"Å\": \"A\", \"Æ\": \"AE\", \"Ç\": \"C\", \"È\": \"E\", \"É\": \"E\", \"Ê\": \"E\", \"Ë\": \"E\", \"Ì\": \"I\", \"Í\": \"I\", \"Î\": \"I\", \"Ï\": \"I\", \"Ð\": \"D\", \"Ñ\": \"N\", \"Ò\": \"O\", \"Ó\": \"O\", \"Ô\": \"O\", \"Õ\": \"O\", \"Ö\": \"Oe\", \"Ő\": \"O\", \"Ø\": \"O\", \"Ù\": \"U\", \"Ú\": \"U\", \"Û\": \"U\", \"Ü\": \"Ue\", \"Ű\": \"U\", \"Ý\": \"Y\", \"Þ\": \"TH\", \"ß\": \"ss\", \"à\": \"a\", \"á\": \"a\", \"â\": \"a\", \"ã\": \"a\", \"ä\": \"ae\", \"å\": \"a\", \"æ\": \"ae\", \"ç\": \"c\", \"è\": \"e\", \"é\": \"e\", \"ê\": \"e\", \"ë\": \"e\", \"ì\": \"i\", \"í\": \"i\", \"î\": \"i\", \"ï\": \"i\", \"ð\": \"d\", \"ñ\": \"n\", \"ò\": \"o\", \"ó\": \"o\", \"ô\": \"o\", \"õ\": \"o\", \"ö\": \"oe\", \"ő\": \"o\", \"ø\": \"o\", \"ù\": \"u\", \"ú\": \"u\", \"û\": \"u\", \"ü\": \"ue\", \"ű\": \"u\", \"ý\": \"y\", \"þ\": \"th\", \"ÿ\": \"y\", \"ẞ\": \"SS\", \"α\": \"a\", \"β\": \"v\", \"γ\": \"g\", \"δ\": \"d\", \"ε\": \"e\", \"ζ\": \"z\", \"η\": \"i\", \"θ\": \"th\", \"ι\": \"i\", \"κ\": \"k\", \"λ\": \"l\", \"μ\": \"m\", \"ν\": \"n\", \"ξ\": \"ks\", \"ο\": \"o\", \"π\": \"p\", \"ρ\": \"r\", \"σ\": \"s\", \"τ\": \"t\", \"υ\": \"y\", \"φ\": \"f\", \"χ\": \"x\", \"ψ\": \"ps\", \"ω\": \"o\", \"ά\": \"a\", \"έ\": \"e\", \"ί\": \"i\", \"ό\": \"o\", \"ύ\": \"y\", \"ή\": \"i\", \"ώ\": \"o\", \"ς\": \"s\", \"ϊ\": \"i\", \"ΰ\": \"y\", \"ϋ\": \"y\", \"ΐ\": \"i\", \"Α\": \"A\", \"Β\": \"B\", \"Γ\": \"G\", \"Δ\": \"D\", \"Ε\": \"E\", \"Ζ\": \"Z\", \"Η\": \"I\", \"Θ\": \"TH\", \"Ι\": \"I\", \"Κ\": \"K\", \"Λ\": \"L\", \"Μ\": \"M\", \"Ν\": \"N\", \"Ξ\": \"KS\", \"Ο\": \"O\", \"Π\": \"P\", \"Ρ\": \"R\", \"Σ\": \"S\", \"Τ\": \"T\", \"Υ\": \"Y\", \"Φ\": \"F\", \"Χ\": \"X\", \"Ψ\": \"PS\", \"Ω\": \"W\", \"Ά\": \"A\", \"Έ\": \"E\", \"Ί\": \"I\", \"Ό\": \"O\", \"Ύ\": \"Y\", \"Ή\": \"I\", \"Ώ\": \"O\", \"Ϊ\": \"I\", \"Ϋ\": \"Y\", \"ş\": \"s\", \"Ş\": \"S\", \"ı\": \"i\", \"İ\": \"I\", \"ğ\": \"g\", \"Ğ\": \"G\", \"Ќ\": \"Kj\", \"ќ\": \"kj\", \"Љ\": \"Lj\", \"љ\": \"lj\", \"Њ\": \"Nj\", \"њ\": \"nj\", \"Тс\": \"Ts\", \"тс\": \"ts\", \"а\": \"a\", \"б\": \"b\", \"в\": \"v\", \"г\": \"g\", \"д\": \"d\", \"е\": \"e\", \"ё\": \"yo\", \"ж\": \"zh\", \"з\": \"z\", \"и\": \"i\", \"й\": \"j\", \"к\": \"k\", \"л\": \"l\", \"м\": \"m\", \"н\": \"n\", \"о\": \"o\", \"п\": \"p\", \"р\": \"r\", \"с\": \"s\", \"т\": \"t\", \"у\": \"u\", \"ф\": \"f\", \"х\": \"h\", \"ц\": \"c\", \"ч\": \"ch\", \"ш\": \"sh\", \"щ\": \"sh\", \"ъ\": \"\", \"ы\": \"y\", \"ь\": \"\", \"э\": \"e\", \"ю\": \"yu\", \"я\": \"ya\", \"А\": \"A\", \"Б\": \"B\", \"В\": \"V\", \"Г\": \"G\", \"Д\": \"D\", \"Е\": \"E\", \"Ё\": \"Yo\", \"Ж\": \"Zh\", \"З\": \"Z\", \"И\": \"I\", \"Й\": \"J\", \"К\": \"K\", \"Л\": \"L\", \"М\": \"M\", \"Н\": \"N\", \"О\": \"O\", \"П\": \"P\", \"Р\": \"R\", \"С\": \"S\", \"Т\": \"T\", \"У\": \"U\", \"Ф\": \"F\", \"Х\": \"H\", \"Ц\": \"C\", \"Ч\": \"Ch\", \"Ш\": \"Sh\", \"Щ\": \"Sh\", \"Ъ\": \"\", \"Ы\": \"Y\", \"Ь\": \"\", \"Э\": \"E\", \"Ю\": \"Yu\", \"Я\": \"Ya\", \"Є\": \"Ye\", \"І\": \"I\", \"Ї\": \"Yi\", \"Ґ\": \"G\", \"є\": \"ye\", \"і\": \"i\", \"ї\": \"yi\", \"ґ\": \"g\", \"č\": \"c\", \"ď\": \"d\", \"ě\": \"e\", \"ň\": \"n\", \"ř\": \"r\", \"š\": \"s\", \"ť\": \"t\", \"ů\": \"u\", \"ž\": \"z\", \"Č\": \"C\", \"Ď\": \"D\", \"Ě\": \"E\", \"Ň\": \"N\", \"Ř\": \"R\", \"Š\": \"S\", \"Ť\": \"T\", \"Ů\": \"U\", \"Ž\": \"Z\", \"ą\": \"a\", \"ć\": \"c\", \"ę\": \"e\", \"ł\": \"l\", \"ń\": \"n\", \"ś\": \"s\", \"ź\": \"z\", \"ż\": \"z\", \"Ą\": \"A\", \"Ć\": \"C\", \"Ę\": \"E\", \"Ł\": \"L\", \"Ń\": \"N\", \"Ś\": \"S\", \"Ź\": \"Z\", \"Ż\": \"Z\", \"ā\": \"a\", \"ē\": \"e\", \"ģ\": \"g\", \"ī\": \"i\", \"ķ\": \"k\", \"ļ\": \"l\", \"ņ\": \"n\", \"ū\": \"u\", \"Ā\": \"A\", \"Ē\": \"E\", \"Ģ\": \"G\", \"Ī\": \"I\", \"Ķ\": \"k\", \"Ļ\": \"L\", \"Ņ\": \"N\", \"Ū\": \"U\", \"ا\": \"a\", \"أ\": \"a\", \"إ\": \"i\", \"آ\": \"aa\", \"ؤ\": \"u\", \"ئ\": \"e\", \"ء\": \"a\", \"ب\": \"b\", \"ت\": \"t\", \"ث\": \"th\", \"ج\": \"j\", \"ح\": \"h\", \"خ\": \"kh\", \"د\": \"d\", \"ذ\": \"th\", \"ر\": \"r\", \"ز\": \"z\", \"س\": \"s\", \"ش\": \"sh\", \"ص\": \"s\", \"ض\": \"dh\", \"ط\": \"t\", \"ظ\": \"z\", \"ع\": \"a\", \"غ\": \"gh\", \"ف\": \"f\", \"ق\": \"q\", \"ك\": \"k\", \"ل\": \"l\", \"م\": \"m\", \"ن\": \"n\", \"ه\": \"h\", \"و\": \"w\", \"ي\": \"y\", \"ى\": \"a\", \"ة\": \"h\", \"ﻻ\": \"la\", \"ﻷ\": \"laa\", \"ﻹ\": \"lai\", \"ﻵ\": \"laa\", \"َ\": \"a\", \"ً\": \"an\", \"ِ\": \"e\", \"ٍ\": \"en\", \"ُ\": \"u\", \"ٌ\": \"on\", \"ْ\": \"\", \"٠\": \"0\", \"١\": \"1\", \"٢\": \"2\", \"٣\": \"3\", \"٤\": \"4\", \"٥\": \"5\", \"٦\": \"6\", \"٧\": \"7\", \"٨\": \"8\", \"٩\": \"9\", \"“\": '\"', \"”\": '\"', \"‘\": \"'\", \"’\": \"'\", \"∂\": \"d\", \"ƒ\": \"f\", \"™\": \"(TM)\", \"©\": \"(C)\", \"œ\": \"oe\", \"Œ\": \"OE\", \"®\": \"(R)\", \"†\": \"+\", \"℠\": \"(SM)\", \"…\": \"...\", \"˚\": \"o\", \"º\": \"o\", \"ª\": \"a\", \"•\": \"*\", $: \"USD\", \"€\": \"EUR\", \"₢\": \"BRN\", \"₣\": \"FRF\", \"£\": \"GBP\", \"₤\": \"ITL\", \"₦\": \"NGN\", \"₧\": \"ESP\", \"₩\": \"KRW\", \"₪\": \"ILS\", \"₫\": \"VND\", \"₭\": \"LAK\", \"₮\": \"MNT\", \"₯\": \"GRD\", \"₱\": \"ARS\", \"₲\": \"PYG\", \"₳\": \"ARA\", \"₴\": \"UAH\", \"₵\": \"GHS\", \"¢\": \"cent\", \"¥\": \"CNY\", \"元\": \"CNY\", \"円\": \"YEN\", \"﷼\": \"IRR\", \"₠\": \"EWE\", \"฿\": \"THB\", \"₨\": \"INR\", \"₹\": \"INR\", \"₰\": \"PF\", \"đ\": \"d\", \"Đ\": \"D\", \"ẹ\": \"e\", \"Ẹ\": \"E\", \"ẽ\": \"e\", \"Ẽ\": \"E\", \"ế\": \"e\", \"Ế\": \"E\", \"ề\": \"e\", \"Ề\": \"E\", \"ệ\": \"e\", \"Ệ\": \"E\", \"ễ\": \"e\", \"Ễ\": \"E\", \"ọ\": \"o\", \"Ọ\": \"o\", \"ố\": \"o\", \"Ố\": \"O\", \"ồ\": \"o\", \"Ồ\": \"O\", \"ộ\": \"o\", \"Ộ\": \"O\", \"ỗ\": \"o\", \"Ỗ\": \"O\", \"ơ\": \"o\", \"Ơ\": \"O\", \"ớ\": \"o\", \"Ớ\": \"O\", \"ờ\": \"o\", \"Ờ\": \"O\", \"ợ\": \"o\", \"Ợ\": \"O\", \"ỡ\": \"o\", \"Ỡ\": \"O\", \"ị\": \"i\", \"Ị\": \"I\", \"ĩ\": \"i\", \"Ĩ\": \"I\", \"ụ\": \"u\", \"Ụ\": \"U\", \"ũ\": \"u\", \"Ũ\": \"U\", \"ư\": \"u\", \"Ư\": \"U\", \"ứ\": \"u\", \"Ứ\": \"U\", \"ừ\": \"u\", \"Ừ\": \"U\", \"ự\": \"u\", \"Ự\": \"U\", \"ữ\": \"u\", \"Ữ\": \"U\", \"ỳ\": \"y\", \"Ỳ\": \"Y\", \"ỵ\": \"y\", \"Ỵ\": \"Y\", \"ỹ\": \"y\", \"Ỹ\": \"Y\", \"ạ\": \"a\", \"Ạ\": \"A\", \"ấ\": \"a\", \"Ấ\": \"A\", \"ầ\": \"a\", \"Ầ\": \"A\", \"ậ\": \"a\", \"Ậ\": \"A\", \"ẫ\": \"a\", \"Ẫ\": \"A\", \"ă\": \"a\", \"Ă\": \"A\", \"ắ\": \"a\", \"Ắ\": \"A\", \"ằ\": \"a\", \"Ằ\": \"A\", \"ặ\": \"a\", \"Ặ\": \"A\", \"ẵ\": \"a\", \"Ẵ\": \"A\"}, e = {ar: {\"∆\": \"delta\", \"∞\": \"la-nihaya\", \"♥\": \"hob\", \"&\": \"wa\", \"|\": \"aw\", \"<\": \"aqal-men\", \">\": \"akbar-men\", \"∑\": \"majmou\", \"¤\": \"omla\"}, de: {\"∆\": \"delta\", \"∞\": \"unendlich\", \"♥\": \"Liebe\", \"&\": \"und\", \"|\": \"oder\", \"<\": \"kleiner als\", \">\": \"groesser als\", \"∑\": \"Summe von\", \"¤\": \"Waehrung\"}, nl: {\"∆\": \"delta\", \"∞\": \"oneindig\", \"♥\": \"liefde\", \"&\": \"en\", \"|\": \"of\", \"<\": \"kleiner dan\", \">\": \"groter dan\", \"∑\": \"som\", \"¤\": \"valuta\"}, en: {\"∆\": \"delta\", \"∞\": \"infinity\", \"♥\": \"love\", \"&\": \"and\", \"|\": \"or\", \"<\": \"less than\", \">\": \"greater than\", \"∑\": \"sum\", \"¤\": \"currency\"}, es: {\"∆\": \"delta\", \"∞\": \"infinito\", \"♥\": \"amor\", \"&\": \"y\", \"|\": \"u\", \"<\": \"menos que\", \">\": \"mas que\", \"∑\": \"suma de los\", \"¤\": \"moneda\"}, fr: {\"∆\": \"delta\", \"∞\": \"infiniment\", \"♥\": \"Amour\", \"&\": \"et\", \"|\": \"ou\", \"<\": \"moins que\", \">\": \"superieure a\", \"∑\": \"somme des\", \"¤\": \"monnaie\"}, pt: {\"∆\": \"delta\", \"∞\": \"infinito\", \"♥\": \"amor\", \"&\": \"e\", \"|\": \"ou\", \"<\": \"menor que\", \">\": \"maior que\", \"∑\": \"soma\", \"¤\": \"moeda\"}, ru: {\"∆\": \"delta\", \"∞\": \"beskonechno\", \"♥\": \"lubov\", \"&\": \"i\", \"|\": \"ili\", \"<\": \"menshe\", \">\": \"bolshe\", \"∑\": \"summa\", \"¤\": \"valjuta\"}, vn: {\"∆\": \"delta\", \"∞\": \"vo cuc\", \"♥\": \"yeu\", \"&\": \"va\", \"|\": \"hoac\", \"<\": \"nho hon\", \">\": \"lon hon\", \"∑\": \"tong\", \"¤\": \"tien te\"}};\n\t\tif (\"undefined\" != typeof module && module.exports)\n\t\t\tmodule.exports = a, module.exports.createSlug = b;\n\t\telse if (\"undefined\" != typeof define && define.amd)\n\t\t\tdefine([], function() {\n\t\t\t\treturn a\n\t\t\t});\n\t\telse\n\t\t\ttry {\n\t\t\t\tif (window.getSlug || window.createSlug)\n\t\t\t\t\tthrow\"speakingurl: globals exists /(getSlug|createSlug)/\";\n\t\t\t\twindow.getSlug = a, window.createSlug = b\n\t\t\t} catch (f) {\n\t\t\t}\n\t}();\n\n\n\tif ($.validator) {\n\t\t$.validator.setDefaults({\n\t\t\thighlight: function(e) {\n\t\t\t\treturn $(e).closest(\".form-group\").addClass(\"has-error\")\n\t\t\t},\n\t\t\tunhighlight: function(e) {\n\t\t\t\treturn $(e).closest(\".form-group\").removeClass(\"has-error\").find(\"help-block-hidden\").removeClass(\"help-block-hidden\").addClass(\"help-block\").show()\n\t\t\t},\n\t\t\terrorElement: \"div\",\n\t\t\terrorClass: \"jquery-validate-error\",\n\t\t\terrorPlacement: function(e, t) {\n\t\t\t\tvar n, r, i;\n\t\t\t\ti = t.is('input[type=\"checkbox\"]') || t.is('input[type=\"radio\"]');\n\t\t\t\tr = t.closest(\".form-group\").find(\".jquery-validate-error\").length;\n\t\t\t\tif (!i || !r) {\n\t\t\t\t\tif (!r) {\n\t\t\t\t\t\tt.closest(\".form-group\").find(\".help-block\").removeClass(\"help-block\").addClass(\"help-block-hidden\").hide()\n\t\t\t\t\t}\n\t\t\t\t\te.addClass(\"help-block\");\n\t\t\t\t\tif (i) {\n\t\t\t\t\t\treturn t.closest('[class*=\"col-\"]').append(e)\n\t\t\t\t\t} else {\n\t\t\t\t\t\tn = t.parent();\n\t\t\t\t\t\tif (n.is(\".input-group\")) {\n\t\t\t\t\t\t\treturn n.parent().append(e)\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\treturn n.append(e)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}}\n\t\t)\n\t}\n}).call(this);\n\n/*\n * @class FileInput\n */\n\n(function() {\n\tvar FileInput;\n\n\tFileInput = function($input, options) {\n\t\tif (options == null) {\n\t\t\toptions = {};\n\t\t}\n\t\tthis.options = $.extend({}, FileInput.DEFAULTS, options || {});\n\t\tthis.$input = $input;\n\t\tthis.$el = $('<div class=\"pixel-file-input\"><span class=\"pfi-filename\"></span><div class=\"pfi-actions\"></div></div>').insertAfter($input).append($input);\n\t\tthis.$filename = $('.pfi-filename', this.$el);\n\t\tthis.$clear_btn = $(this.options.clear_btn_tmpl).addClass('pfi-clear').appendTo($('.pfi-actions', this.$el));\n\t\tthis.$choose_btn = $(this.options.choose_btn_tmpl).addClass('pfi-choose').appendTo($('.pfi-actions', this.$el));\n\t\tthis.onChange();\n\t\t$input.on('change', (function(_this) {\n\t\t\treturn function() {\n\t\t\t\treturn $.proxy(_this.onChange, _this)();\n\t\t\t};\n\t\t})(this)).on('click', function(e) {\n\t\t\treturn e.stopPropagation();\n\t\t});\n\t\tthis.$el.on('click', function() {\n\t\t\treturn $input.click();\n\t\t});\n\t\tthis.$choose_btn.on('click', function(e) {\n\t\t\treturn e.preventDefault();\n\t\t});\n\t\treturn this.$clear_btn.on('click', (function(_this) {\n\t\t\treturn function(e) {\n\t\t\t\t$input.wrap('<form>').parent('form').trigger('reset');\n\t\t\t\t$input.unwrap();\n\t\t\t\t$.proxy(_this.onChange, _this)();\n\t\t\t\te.stopPropagation();\n\t\t\t\treturn e.preventDefault();\n\t\t\t};\n\t\t})(this));\n\t};\n\n\tFileInput.DEFAULTS = {\n\t\tchoose_btn_tmpl: '<a href=\"#\" class=\"btn btn-xs btn-primary\">Choose</a>',\n\t\tclear_btn_tmpl: '<a href=\"#\" class=\"btn btn-xs\"><i class=\"fa fa-times\"></i> Clear</a>',\n\t\tplaceholder: null\n\t};\n\n\tFileInput.prototype.onChange = function() {\n\t\tvar value;\n\t\tvalue = this.$input.val().replace(/\\\\/g, '/');\n\t\tif (value !== '') {\n\t\t\tthis.$clear_btn.css('display', 'inline-block');\n\t\t\tthis.$filename.removeClass('pfi-placeholder');\n\t\t\treturn this.$filename.text(value.split('/').pop());\n\t\t} else {\n\t\t\tthis.$clear_btn.css('display', 'none');\n\t\t\tif (this.options.placeholder) {\n\t\t\t\tthis.$filename.addClass('pfi-placeholder');\n\t\t\t\treturn this.$filename.text(this.options.placeholder);\n\t\t\t} else {\n\t\t\t\treturn this.$filename.text('');\n\t\t\t}\n\t\t}\n\t};\n\n\t$.fn.FileInput = function(options) {\n\t\treturn this.each(function() {\n\t\t\tif (!$.data(this, 'FileInput')) {\n\t\t\t\treturn $.data(this, 'FileInput', new FileInput($(this), options));\n\t\t\t}\n\t\t});\n\t};\n\n\t$.fn.FileInput.Constructor = FileInput;\n\n}).call(this);\n\n//! moment.js\n//! version : 2.8.1\n//! authors : Tim Wood, Iskren Chernev, Moment.js contributors\n//! license : MIT\n//! momentjs.com\n\n(function (undefined) {\n    /************************************\n        Constants\n    ************************************/\n\n    var moment,\n        VERSION = '2.8.1',\n        // the global-scope this is NOT the global object in Node.js\n        globalScope = typeof global !== 'undefined' ? global : this,\n        oldGlobalMoment,\n        round = Math.round,\n        i,\n\n        YEAR = 0,\n        MONTH = 1,\n        DATE = 2,\n        HOUR = 3,\n        MINUTE = 4,\n        SECOND = 5,\n        MILLISECOND = 6,\n\n        // internal storage for locale config files\n        locales = {},\n\n        // extra moment internal properties (plugins register props here)\n        momentProperties = [],\n\n        // check for nodeJS\n        hasModule = (typeof module !== 'undefined' && module.exports),\n\n        // ASP.NET json date format regex\n        aspNetJsonRegex = /^\\/?Date\\((\\-?\\d+)/i,\n        aspNetTimeSpanJsonRegex = /(\\-)?(?:(\\d*)\\.)?(\\d+)\\:(\\d+)(?:\\:(\\d+)\\.?(\\d{3})?)?/,\n\n        // from http://docs.closure-library.googlecode.com/git/closure_goog_date_date.js.source.html\n        // somewhat more in line with 4.4.3.2 2004 spec, but allows decimal anywhere\n        isoDurationRegex = /^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,\n\n        // format tokens\n        formattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,\n        localFormattingTokens = /(\\[[^\\[]*\\])|(\\\\)?(LT|LL?L?L?|l{1,4})/g,\n\n        // parsing token regexes\n        parseTokenOneOrTwoDigits = /\\d\\d?/, // 0 - 99\n        parseTokenOneToThreeDigits = /\\d{1,3}/, // 0 - 999\n        parseTokenOneToFourDigits = /\\d{1,4}/, // 0 - 9999\n        parseTokenOneToSixDigits = /[+\\-]?\\d{1,6}/, // -999,999 - 999,999\n        parseTokenDigits = /\\d+/, // nonzero number of digits\n        parseTokenWord = /[0-9]*['a-z\\u00A0-\\u05FF\\u0700-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]+|[\\u0600-\\u06FF\\/]+(\\s*?[\\u0600-\\u06FF]+){1,2}/i, // any word (or two) characters or numbers including two/three word month in arabic.\n        parseTokenTimezone = /Z|[\\+\\-]\\d\\d:?\\d\\d/gi, // +00:00 -00:00 +0000 -0000 or Z\n        parseTokenT = /T/i, // T (ISO separator)\n        parseTokenTimestampMs = /[\\+\\-]?\\d+(\\.\\d{1,3})?/, // 123456789 123456789.123\n        parseTokenOrdinal = /\\d{1,2}/,\n\n        //strict parsing regexes\n        parseTokenOneDigit = /\\d/, // 0 - 9\n        parseTokenTwoDigits = /\\d\\d/, // 00 - 99\n        parseTokenThreeDigits = /\\d{3}/, // 000 - 999\n        parseTokenFourDigits = /\\d{4}/, // 0000 - 9999\n        parseTokenSixDigits = /[+-]?\\d{6}/, // -999,999 - 999,999\n        parseTokenSignedNumber = /[+-]?\\d+/, // -inf - inf\n\n        // iso 8601 regex\n        // 0000-00-00 0000-W00 or 0000-W00-0 + T + 00 or 00:00 or 00:00:00 or 00:00:00.000 + +00:00 or +0000 or +00)\n        isoRegex = /^\\s*(?:[+-]\\d{6}|\\d{4})-(?:(\\d\\d-\\d\\d)|(W\\d\\d$)|(W\\d\\d-\\d)|(\\d\\d\\d))((T| )(\\d\\d(:\\d\\d(:\\d\\d(\\.\\d+)?)?)?)?([\\+\\-]\\d\\d(?::?\\d\\d)?|\\s*Z)?)?$/,\n\n        isoFormat = 'YYYY-MM-DDTHH:mm:ssZ',\n\n        isoDates = [\n            ['YYYYYY-MM-DD', /[+-]\\d{6}-\\d{2}-\\d{2}/],\n            ['YYYY-MM-DD', /\\d{4}-\\d{2}-\\d{2}/],\n            ['GGGG-[W]WW-E', /\\d{4}-W\\d{2}-\\d/],\n            ['GGGG-[W]WW', /\\d{4}-W\\d{2}/],\n            ['YYYY-DDD', /\\d{4}-\\d{3}/]\n        ],\n\n        // iso time formats and regexes\n        isoTimes = [\n            ['HH:mm:ss.SSSS', /(T| )\\d\\d:\\d\\d:\\d\\d\\.\\d+/],\n            ['HH:mm:ss', /(T| )\\d\\d:\\d\\d:\\d\\d/],\n            ['HH:mm', /(T| )\\d\\d:\\d\\d/],\n            ['HH', /(T| )\\d\\d/]\n        ],\n\n        // timezone chunker \"+10:00\" > [\"10\", \"00\"] or \"-1530\" > [\"-15\", \"30\"]\n        parseTimezoneChunker = /([\\+\\-]|\\d\\d)/gi,\n\n        // getter and setter names\n        proxyGettersAndSetters = 'Date|Hours|Minutes|Seconds|Milliseconds'.split('|'),\n        unitMillisecondFactors = {\n            'Milliseconds' : 1,\n            'Seconds' : 1e3,\n            'Minutes' : 6e4,\n            'Hours' : 36e5,\n            'Days' : 864e5,\n            'Months' : 2592e6,\n            'Years' : 31536e6\n        },\n\n        unitAliases = {\n            ms : 'millisecond',\n            s : 'second',\n            m : 'minute',\n            h : 'hour',\n            d : 'day',\n            D : 'date',\n            w : 'week',\n            W : 'isoWeek',\n            M : 'month',\n            Q : 'quarter',\n            y : 'year',\n            DDD : 'dayOfYear',\n            e : 'weekday',\n            E : 'isoWeekday',\n            gg: 'weekYear',\n            GG: 'isoWeekYear'\n        },\n\n        camelFunctions = {\n            dayofyear : 'dayOfYear',\n            isoweekday : 'isoWeekday',\n            isoweek : 'isoWeek',\n            weekyear : 'weekYear',\n            isoweekyear : 'isoWeekYear'\n        },\n\n        // format function strings\n        formatFunctions = {},\n\n        // default relative time thresholds\n        relativeTimeThresholds = {\n            s: 45,  // seconds to minute\n            m: 45,  // minutes to hour\n            h: 22,  // hours to day\n            d: 26,  // days to month\n            M: 11   // months to year\n        },\n\n        // tokens to ordinalize and pad\n        ordinalizeTokens = 'DDD w W M D d'.split(' '),\n        paddedTokens = 'M D H h m s w W'.split(' '),\n\n        formatTokenFunctions = {\n            M    : function () {\n                return this.month() + 1;\n            },\n            MMM  : function (format) {\n                return this.localeData().monthsShort(this, format);\n            },\n            MMMM : function (format) {\n                return this.localeData().months(this, format);\n            },\n            D    : function () {\n                return this.date();\n            },\n            DDD  : function () {\n                return this.dayOfYear();\n            },\n            d    : function () {\n                return this.day();\n            },\n            dd   : function (format) {\n                return this.localeData().weekdaysMin(this, format);\n            },\n            ddd  : function (format) {\n                return this.localeData().weekdaysShort(this, format);\n            },\n            dddd : function (format) {\n                return this.localeData().weekdays(this, format);\n            },\n            w    : function () {\n                return this.week();\n            },\n            W    : function () {\n                return this.isoWeek();\n            },\n            YY   : function () {\n                return leftZeroFill(this.year() % 100, 2);\n            },\n            YYYY : function () {\n                return leftZeroFill(this.year(), 4);\n            },\n            YYYYY : function () {\n                return leftZeroFill(this.year(), 5);\n            },\n            YYYYYY : function () {\n                var y = this.year(), sign = y >= 0 ? '+' : '-';\n                return sign + leftZeroFill(Math.abs(y), 6);\n            },\n            gg   : function () {\n                return leftZeroFill(this.weekYear() % 100, 2);\n            },\n            gggg : function () {\n                return leftZeroFill(this.weekYear(), 4);\n            },\n            ggggg : function () {\n                return leftZeroFill(this.weekYear(), 5);\n            },\n            GG   : function () {\n                return leftZeroFill(this.isoWeekYear() % 100, 2);\n            },\n            GGGG : function () {\n                return leftZeroFill(this.isoWeekYear(), 4);\n            },\n            GGGGG : function () {\n                return leftZeroFill(this.isoWeekYear(), 5);\n            },\n            e : function () {\n                return this.weekday();\n            },\n            E : function () {\n                return this.isoWeekday();\n            },\n            a    : function () {\n                return this.localeData().meridiem(this.hours(), this.minutes(), true);\n            },\n            A    : function () {\n                return this.localeData().meridiem(this.hours(), this.minutes(), false);\n            },\n            H    : function () {\n                return this.hours();\n            },\n            h    : function () {\n                return this.hours() % 12 || 12;\n            },\n            m    : function () {\n                return this.minutes();\n            },\n            s    : function () {\n                return this.seconds();\n            },\n            S    : function () {\n                return toInt(this.milliseconds() / 100);\n            },\n            SS   : function () {\n                return leftZeroFill(toInt(this.milliseconds() / 10), 2);\n            },\n            SSS  : function () {\n                return leftZeroFill(this.milliseconds(), 3);\n            },\n            SSSS : function () {\n                return leftZeroFill(this.milliseconds(), 3);\n            },\n            Z    : function () {\n                var a = -this.zone(),\n                    b = '+';\n                if (a < 0) {\n                    a = -a;\n                    b = '-';\n                }\n                return b + leftZeroFill(toInt(a / 60), 2) + ':' + leftZeroFill(toInt(a) % 60, 2);\n            },\n            ZZ   : function () {\n                var a = -this.zone(),\n                    b = '+';\n                if (a < 0) {\n                    a = -a;\n                    b = '-';\n                }\n                return b + leftZeroFill(toInt(a / 60), 2) + leftZeroFill(toInt(a) % 60, 2);\n            },\n            z : function () {\n                return this.zoneAbbr();\n            },\n            zz : function () {\n                return this.zoneName();\n            },\n            X    : function () {\n                return this.unix();\n            },\n            Q : function () {\n                return this.quarter();\n            }\n        },\n\n        deprecations = {},\n\n        lists = ['months', 'monthsShort', 'weekdays', 'weekdaysShort', 'weekdaysMin'];\n\n    // Pick the first defined of two or three arguments. dfl comes from\n    // default.\n    function dfl(a, b, c) {\n        switch (arguments.length) {\n            case 2: return a != null ? a : b;\n            case 3: return a != null ? a : b != null ? b : c;\n            default: throw new Error('Implement me');\n        }\n    }\n\n    function defaultParsingFlags() {\n        // We need to deep clone this object, and es5 standard is not very\n        // helpful.\n        return {\n            empty : false,\n            unusedTokens : [],\n            unusedInput : [],\n            overflow : -2,\n            charsLeftOver : 0,\n            nullInput : false,\n            invalidMonth : null,\n            invalidFormat : false,\n            userInvalidated : false,\n            iso: false\n        };\n    }\n\n    function printMsg(msg) {\n        if (moment.suppressDeprecationWarnings === false &&\n                typeof console !== 'undefined' && console.warn) {\n            console.warn(\"Deprecation warning: \" + msg);\n        }\n    }\n\n    function deprecate(msg, fn) {\n        var firstTime = true;\n        return extend(function () {\n            if (firstTime) {\n                printMsg(msg);\n                firstTime = false;\n            }\n            return fn.apply(this, arguments);\n        }, fn);\n    }\n\n    function deprecateSimple(name, msg) {\n        if (!deprecations[name]) {\n            printMsg(msg);\n            deprecations[name] = true;\n        }\n    }\n\n    function padToken(func, count) {\n        return function (a) {\n            return leftZeroFill(func.call(this, a), count);\n        };\n    }\n    function ordinalizeToken(func, period) {\n        return function (a) {\n            return this.localeData().ordinal(func.call(this, a), period);\n        };\n    }\n\n    while (ordinalizeTokens.length) {\n        i = ordinalizeTokens.pop();\n        formatTokenFunctions[i + 'o'] = ordinalizeToken(formatTokenFunctions[i], i);\n    }\n    while (paddedTokens.length) {\n        i = paddedTokens.pop();\n        formatTokenFunctions[i + i] = padToken(formatTokenFunctions[i], 2);\n    }\n    formatTokenFunctions.DDDD = padToken(formatTokenFunctions.DDD, 3);\n\n\n    /************************************\n        Constructors\n    ************************************/\n\n    function Locale() {\n    }\n\n    // Moment prototype object\n    function Moment(config, skipOverflow) {\n        if (skipOverflow !== false) {\n            checkOverflow(config);\n        }\n        copyConfig(this, config);\n        this._d = new Date(+config._d);\n    }\n\n    // Duration Constructor\n    function Duration(duration) {\n        var normalizedInput = normalizeObjectUnits(duration),\n            years = normalizedInput.year || 0,\n            quarters = normalizedInput.quarter || 0,\n            months = normalizedInput.month || 0,\n            weeks = normalizedInput.week || 0,\n            days = normalizedInput.day || 0,\n            hours = normalizedInput.hour || 0,\n            minutes = normalizedInput.minute || 0,\n            seconds = normalizedInput.second || 0,\n            milliseconds = normalizedInput.millisecond || 0;\n\n        // representation for dateAddRemove\n        this._milliseconds = +milliseconds +\n            seconds * 1e3 + // 1000\n            minutes * 6e4 + // 1000 * 60\n            hours * 36e5; // 1000 * 60 * 60\n        // Because of dateAddRemove treats 24 hours as different from a\n        // day when working around DST, we need to store them separately\n        this._days = +days +\n            weeks * 7;\n        // It is impossible translate months into days without knowing\n        // which months you are are talking about, so we have to store\n        // it separately.\n        this._months = +months +\n            quarters * 3 +\n            years * 12;\n\n        this._data = {};\n\n        this._locale = moment.localeData();\n\n        this._bubble();\n    }\n\n    /************************************\n        Helpers\n    ************************************/\n\n\n    function extend(a, b) {\n        for (var i in b) {\n            if (b.hasOwnProperty(i)) {\n                a[i] = b[i];\n            }\n        }\n\n        if (b.hasOwnProperty('toString')) {\n            a.toString = b.toString;\n        }\n\n        if (b.hasOwnProperty('valueOf')) {\n            a.valueOf = b.valueOf;\n        }\n\n        return a;\n    }\n\n    function copyConfig(to, from) {\n        var i, prop, val;\n\n        if (typeof from._isAMomentObject !== 'undefined') {\n            to._isAMomentObject = from._isAMomentObject;\n        }\n        if (typeof from._i !== 'undefined') {\n            to._i = from._i;\n        }\n        if (typeof from._f !== 'undefined') {\n            to._f = from._f;\n        }\n        if (typeof from._l !== 'undefined') {\n            to._l = from._l;\n        }\n        if (typeof from._strict !== 'undefined') {\n            to._strict = from._strict;\n        }\n        if (typeof from._tzm !== 'undefined') {\n            to._tzm = from._tzm;\n        }\n        if (typeof from._isUTC !== 'undefined') {\n            to._isUTC = from._isUTC;\n        }\n        if (typeof from._offset !== 'undefined') {\n            to._offset = from._offset;\n        }\n        if (typeof from._pf !== 'undefined') {\n            to._pf = from._pf;\n        }\n        if (typeof from._locale !== 'undefined') {\n            to._locale = from._locale;\n        }\n\n        if (momentProperties.length > 0) {\n            for (i in momentProperties) {\n                prop = momentProperties[i];\n                val = from[prop];\n                if (typeof val !== 'undefined') {\n                    to[prop] = val;\n                }\n            }\n        }\n\n        return to;\n    }\n\n    function absRound(number) {\n        if (number < 0) {\n            return Math.ceil(number);\n        } else {\n            return Math.floor(number);\n        }\n    }\n\n    // left zero fill a number\n    // see http://jsperf.com/left-zero-filling for performance comparison\n    function leftZeroFill(number, targetLength, forceSign) {\n        var output = '' + Math.abs(number),\n            sign = number >= 0;\n\n        while (output.length < targetLength) {\n            output = '0' + output;\n        }\n        return (sign ? (forceSign ? '+' : '') : '-') + output;\n    }\n\n    function positiveMomentsDifference(base, other) {\n        var res = {milliseconds: 0, months: 0};\n\n        res.months = other.month() - base.month() +\n            (other.year() - base.year()) * 12;\n        if (base.clone().add(res.months, 'M').isAfter(other)) {\n            --res.months;\n        }\n\n        res.milliseconds = +other - +(base.clone().add(res.months, 'M'));\n\n        return res;\n    }\n\n    function momentsDifference(base, other) {\n        var res;\n        other = makeAs(other, base);\n        if (base.isBefore(other)) {\n            res = positiveMomentsDifference(base, other);\n        } else {\n            res = positiveMomentsDifference(other, base);\n            res.milliseconds = -res.milliseconds;\n            res.months = -res.months;\n        }\n\n        return res;\n    }\n\n    // TODO: remove 'name' arg after deprecation is removed\n    function createAdder(direction, name) {\n        return function (val, period) {\n            var dur, tmp;\n            //invert the arguments, but complain about it\n            if (period !== null && !isNaN(+period)) {\n                deprecateSimple(name, \"moment().\" + name  + \"(period, number) is deprecated. Please use moment().\" + name + \"(number, period).\");\n                tmp = val; val = period; period = tmp;\n            }\n\n            val = typeof val === 'string' ? +val : val;\n            dur = moment.duration(val, period);\n            addOrSubtractDurationFromMoment(this, dur, direction);\n            return this;\n        };\n    }\n\n    function addOrSubtractDurationFromMoment(mom, duration, isAdding, updateOffset) {\n        var milliseconds = duration._milliseconds,\n            days = duration._days,\n            months = duration._months;\n        updateOffset = updateOffset == null ? true : updateOffset;\n\n        if (milliseconds) {\n            mom._d.setTime(+mom._d + milliseconds * isAdding);\n        }\n        if (days) {\n            rawSetter(mom, 'Date', rawGetter(mom, 'Date') + days * isAdding);\n        }\n        if (months) {\n            rawMonthSetter(mom, rawGetter(mom, 'Month') + months * isAdding);\n        }\n        if (updateOffset) {\n            moment.updateOffset(mom, days || months);\n        }\n    }\n\n    // check if is an array\n    function isArray(input) {\n        return Object.prototype.toString.call(input) === '[object Array]';\n    }\n\n    function isDate(input) {\n        return Object.prototype.toString.call(input) === '[object Date]' ||\n            input instanceof Date;\n    }\n\n    // compare two arrays, return the number of differences\n    function compareArrays(array1, array2, dontConvert) {\n        var len = Math.min(array1.length, array2.length),\n            lengthDiff = Math.abs(array1.length - array2.length),\n            diffs = 0,\n            i;\n        for (i = 0; i < len; i++) {\n            if ((dontConvert && array1[i] !== array2[i]) ||\n                (!dontConvert && toInt(array1[i]) !== toInt(array2[i]))) {\n                diffs++;\n            }\n        }\n        return diffs + lengthDiff;\n    }\n\n    function normalizeUnits(units) {\n        if (units) {\n            var lowered = units.toLowerCase().replace(/(.)s$/, '$1');\n            units = unitAliases[units] || camelFunctions[lowered] || lowered;\n        }\n        return units;\n    }\n\n    function normalizeObjectUnits(inputObject) {\n        var normalizedInput = {},\n            normalizedProp,\n            prop;\n\n        for (prop in inputObject) {\n            if (inputObject.hasOwnProperty(prop)) {\n                normalizedProp = normalizeUnits(prop);\n                if (normalizedProp) {\n                    normalizedInput[normalizedProp] = inputObject[prop];\n                }\n            }\n        }\n\n        return normalizedInput;\n    }\n\n    function makeList(field) {\n        var count, setter;\n\n        if (field.indexOf('week') === 0) {\n            count = 7;\n            setter = 'day';\n        }\n        else if (field.indexOf('month') === 0) {\n            count = 12;\n            setter = 'month';\n        }\n        else {\n            return;\n        }\n\n        moment[field] = function (format, index) {\n            var i, getter,\n                method = moment._locale[field],\n                results = [];\n\n            if (typeof format === 'number') {\n                index = format;\n                format = undefined;\n            }\n\n            getter = function (i) {\n                var m = moment().utc().set(setter, i);\n                return method.call(moment._locale, m, format || '');\n            };\n\n            if (index != null) {\n                return getter(index);\n            }\n            else {\n                for (i = 0; i < count; i++) {\n                    results.push(getter(i));\n                }\n                return results;\n            }\n        };\n    }\n\n    function toInt(argumentForCoercion) {\n        var coercedNumber = +argumentForCoercion,\n            value = 0;\n\n        if (coercedNumber !== 0 && isFinite(coercedNumber)) {\n            if (coercedNumber >= 0) {\n                value = Math.floor(coercedNumber);\n            } else {\n                value = Math.ceil(coercedNumber);\n            }\n        }\n\n        return value;\n    }\n\n    function daysInMonth(year, month) {\n        return new Date(Date.UTC(year, month + 1, 0)).getUTCDate();\n    }\n\n    function weeksInYear(year, dow, doy) {\n        return weekOfYear(moment([year, 11, 31 + dow - doy]), dow, doy).week;\n    }\n\n    function daysInYear(year) {\n        return isLeapYear(year) ? 366 : 365;\n    }\n\n    function isLeapYear(year) {\n        return (year % 4 === 0 && year % 100 !== 0) || year % 400 === 0;\n    }\n\n    function checkOverflow(m) {\n        var overflow;\n        if (m._a && m._pf.overflow === -2) {\n            overflow =\n                m._a[MONTH] < 0 || m._a[MONTH] > 11 ? MONTH :\n                m._a[DATE] < 1 || m._a[DATE] > daysInMonth(m._a[YEAR], m._a[MONTH]) ? DATE :\n                m._a[HOUR] < 0 || m._a[HOUR] > 23 ? HOUR :\n                m._a[MINUTE] < 0 || m._a[MINUTE] > 59 ? MINUTE :\n                m._a[SECOND] < 0 || m._a[SECOND] > 59 ? SECOND :\n                m._a[MILLISECOND] < 0 || m._a[MILLISECOND] > 999 ? MILLISECOND :\n                -1;\n\n            if (m._pf._overflowDayOfYear && (overflow < YEAR || overflow > DATE)) {\n                overflow = DATE;\n            }\n\n            m._pf.overflow = overflow;\n        }\n    }\n\n    function isValid(m) {\n        if (m._isValid == null) {\n            m._isValid = !isNaN(m._d.getTime()) &&\n                m._pf.overflow < 0 &&\n                !m._pf.empty &&\n                !m._pf.invalidMonth &&\n                !m._pf.nullInput &&\n                !m._pf.invalidFormat &&\n                !m._pf.userInvalidated;\n\n            if (m._strict) {\n                m._isValid = m._isValid &&\n                    m._pf.charsLeftOver === 0 &&\n                    m._pf.unusedTokens.length === 0;\n            }\n        }\n        return m._isValid;\n    }\n\n    function normalizeLocale(key) {\n        return key ? key.toLowerCase().replace('_', '-') : key;\n    }\n\n    // pick the locale from the array\n    // try ['en-au', 'en-gb'] as 'en-au', 'en-gb', 'en', as in move through the list trying each\n    // substring from most specific to least, but move to the next array item if it's a more specific variant than the current root\n    function chooseLocale(names) {\n        var i = 0, j, next, locale, split;\n\n        while (i < names.length) {\n            split = normalizeLocale(names[i]).split('-');\n            j = split.length;\n            next = normalizeLocale(names[i + 1]);\n            next = next ? next.split('-') : null;\n            while (j > 0) {\n                locale = loadLocale(split.slice(0, j).join('-'));\n                if (locale) {\n                    return locale;\n                }\n                if (next && next.length >= j && compareArrays(split, next, true) >= j - 1) {\n                    //the next array item is better than a shallower substring of this one\n                    break;\n                }\n                j--;\n            }\n            i++;\n        }\n        return null;\n    }\n\n    function loadLocale(name) {\n        var oldLocale = null;\n        if (!locales[name] && hasModule) {\n            try {\n                oldLocale = moment.locale();\n                require('./locale/' + name);\n                // because defineLocale currently also sets the global locale, we want to undo that for lazy loaded locales\n                moment.locale(oldLocale);\n            } catch (e) { }\n        }\n        return locales[name];\n    }\n\n    // Return a moment from input, that is local/utc/zone equivalent to model.\n    function makeAs(input, model) {\n        return model._isUTC ? moment(input).zone(model._offset || 0) :\n            moment(input).local();\n    }\n\n    /************************************\n        Locale\n    ************************************/\n\n\n    extend(Locale.prototype, {\n\n        set : function (config) {\n            var prop, i;\n            for (i in config) {\n                prop = config[i];\n                if (typeof prop === 'function') {\n                    this[i] = prop;\n                } else {\n                    this['_' + i] = prop;\n                }\n            }\n        },\n\n        _months : 'January_February_March_April_May_June_July_August_September_October_November_December'.split('_'),\n        months : function (m) {\n            return this._months[m.month()];\n        },\n\n        _monthsShort : 'Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec'.split('_'),\n        monthsShort : function (m) {\n            return this._monthsShort[m.month()];\n        },\n\n        monthsParse : function (monthName) {\n            var i, mom, regex;\n\n            if (!this._monthsParse) {\n                this._monthsParse = [];\n            }\n\n            for (i = 0; i < 12; i++) {\n                // make the regex if we don't have it already\n                if (!this._monthsParse[i]) {\n                    mom = moment.utc([2000, i]);\n                    regex = '^' + this.months(mom, '') + '|^' + this.monthsShort(mom, '');\n                    this._monthsParse[i] = new RegExp(regex.replace('.', ''), 'i');\n                }\n                // test the regex\n                if (this._monthsParse[i].test(monthName)) {\n                    return i;\n                }\n            }\n        },\n\n        _weekdays : 'Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday'.split('_'),\n        weekdays : function (m) {\n            return this._weekdays[m.day()];\n        },\n\n        _weekdaysShort : 'Sun_Mon_Tue_Wed_Thu_Fri_Sat'.split('_'),\n        weekdaysShort : function (m) {\n            return this._weekdaysShort[m.day()];\n        },\n\n        _weekdaysMin : 'Su_Mo_Tu_We_Th_Fr_Sa'.split('_'),\n        weekdaysMin : function (m) {\n            return this._weekdaysMin[m.day()];\n        },\n\n        weekdaysParse : function (weekdayName) {\n            var i, mom, regex;\n\n            if (!this._weekdaysParse) {\n                this._weekdaysParse = [];\n            }\n\n            for (i = 0; i < 7; i++) {\n                // make the regex if we don't have it already\n                if (!this._weekdaysParse[i]) {\n                    mom = moment([2000, 1]).day(i);\n                    regex = '^' + this.weekdays(mom, '') + '|^' + this.weekdaysShort(mom, '') + '|^' + this.weekdaysMin(mom, '');\n                    this._weekdaysParse[i] = new RegExp(regex.replace('.', ''), 'i');\n                }\n                // test the regex\n                if (this._weekdaysParse[i].test(weekdayName)) {\n                    return i;\n                }\n            }\n        },\n\n        _longDateFormat : {\n            LT : 'h:mm A',\n            L : 'MM/DD/YYYY',\n            LL : 'MMMM D, YYYY',\n            LLL : 'MMMM D, YYYY LT',\n            LLLL : 'dddd, MMMM D, YYYY LT'\n        },\n        longDateFormat : function (key) {\n            var output = this._longDateFormat[key];\n            if (!output && this._longDateFormat[key.toUpperCase()]) {\n                output = this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g, function (val) {\n                    return val.slice(1);\n                });\n                this._longDateFormat[key] = output;\n            }\n            return output;\n        },\n\n        isPM : function (input) {\n            // IE8 Quirks Mode & IE7 Standards Mode do not allow accessing strings like arrays\n            // Using charAt should be more compatible.\n            return ((input + '').toLowerCase().charAt(0) === 'p');\n        },\n\n        _meridiemParse : /[ap]\\.?m?\\.?/i,\n        meridiem : function (hours, minutes, isLower) {\n            if (hours > 11) {\n                return isLower ? 'pm' : 'PM';\n            } else {\n                return isLower ? 'am' : 'AM';\n            }\n        },\n\n        _calendar : {\n            sameDay : '[Today at] LT',\n            nextDay : '[Tomorrow at] LT',\n            nextWeek : 'dddd [at] LT',\n            lastDay : '[Yesterday at] LT',\n            lastWeek : '[Last] dddd [at] LT',\n            sameElse : 'L'\n        },\n        calendar : function (key, mom) {\n            var output = this._calendar[key];\n            return typeof output === 'function' ? output.apply(mom) : output;\n        },\n\n        _relativeTime : {\n            future : 'in %s',\n            past : '%s ago',\n            s : 'a few seconds',\n            m : 'a minute',\n            mm : '%d minutes',\n            h : 'an hour',\n            hh : '%d hours',\n            d : 'a day',\n            dd : '%d days',\n            M : 'a month',\n            MM : '%d months',\n            y : 'a year',\n            yy : '%d years'\n        },\n\n        relativeTime : function (number, withoutSuffix, string, isFuture) {\n            var output = this._relativeTime[string];\n            return (typeof output === 'function') ?\n                output(number, withoutSuffix, string, isFuture) :\n                output.replace(/%d/i, number);\n        },\n\n        pastFuture : function (diff, output) {\n            var format = this._relativeTime[diff > 0 ? 'future' : 'past'];\n            return typeof format === 'function' ? format(output) : format.replace(/%s/i, output);\n        },\n\n        ordinal : function (number) {\n            return this._ordinal.replace('%d', number);\n        },\n        _ordinal : '%d',\n\n        preparse : function (string) {\n            return string;\n        },\n\n        postformat : function (string) {\n            return string;\n        },\n\n        week : function (mom) {\n            return weekOfYear(mom, this._week.dow, this._week.doy).week;\n        },\n\n        _week : {\n            dow : 0, // Sunday is the first day of the week.\n            doy : 6  // The week that contains Jan 1st is the first week of the year.\n        },\n\n        _invalidDate: 'Invalid date',\n        invalidDate: function () {\n            return this._invalidDate;\n        }\n    });\n\n    /************************************\n        Formatting\n    ************************************/\n\n\n    function removeFormattingTokens(input) {\n        if (input.match(/\\[[\\s\\S]/)) {\n            return input.replace(/^\\[|\\]$/g, '');\n        }\n        return input.replace(/\\\\/g, '');\n    }\n\n    function makeFormatFunction(format) {\n        var array = format.match(formattingTokens), i, length;\n\n        for (i = 0, length = array.length; i < length; i++) {\n            if (formatTokenFunctions[array[i]]) {\n                array[i] = formatTokenFunctions[array[i]];\n            } else {\n                array[i] = removeFormattingTokens(array[i]);\n            }\n        }\n\n        return function (mom) {\n            var output = '';\n            for (i = 0; i < length; i++) {\n                output += array[i] instanceof Function ? array[i].call(mom, format) : array[i];\n            }\n            return output;\n        };\n    }\n\n    // format date using native date object\n    function formatMoment(m, format) {\n        if (!m.isValid()) {\n            return m.localeData().invalidDate();\n        }\n\n        format = expandFormat(format, m.localeData());\n\n        if (!formatFunctions[format]) {\n            formatFunctions[format] = makeFormatFunction(format);\n        }\n\n        return formatFunctions[format](m);\n    }\n\n    function expandFormat(format, locale) {\n        var i = 5;\n\n        function replaceLongDateFormatTokens(input) {\n            return locale.longDateFormat(input) || input;\n        }\n\n        localFormattingTokens.lastIndex = 0;\n        while (i >= 0 && localFormattingTokens.test(format)) {\n            format = format.replace(localFormattingTokens, replaceLongDateFormatTokens);\n            localFormattingTokens.lastIndex = 0;\n            i -= 1;\n        }\n\n        return format;\n    }\n\n\n    /************************************\n        Parsing\n    ************************************/\n\n\n    // get the regex to find the next token\n    function getParseRegexForToken(token, config) {\n        var a, strict = config._strict;\n        switch (token) {\n        case 'Q':\n            return parseTokenOneDigit;\n        case 'DDDD':\n            return parseTokenThreeDigits;\n        case 'YYYY':\n        case 'GGGG':\n        case 'gggg':\n            return strict ? parseTokenFourDigits : parseTokenOneToFourDigits;\n        case 'Y':\n        case 'G':\n        case 'g':\n            return parseTokenSignedNumber;\n        case 'YYYYYY':\n        case 'YYYYY':\n        case 'GGGGG':\n        case 'ggggg':\n            return strict ? parseTokenSixDigits : parseTokenOneToSixDigits;\n        case 'S':\n            if (strict) {\n                return parseTokenOneDigit;\n            }\n            /* falls through */\n        case 'SS':\n            if (strict) {\n                return parseTokenTwoDigits;\n            }\n            /* falls through */\n        case 'SSS':\n            if (strict) {\n                return parseTokenThreeDigits;\n            }\n            /* falls through */\n        case 'DDD':\n            return parseTokenOneToThreeDigits;\n        case 'MMM':\n        case 'MMMM':\n        case 'dd':\n        case 'ddd':\n        case 'dddd':\n            return parseTokenWord;\n        case 'a':\n        case 'A':\n            return config._locale._meridiemParse;\n        case 'X':\n            return parseTokenTimestampMs;\n        case 'Z':\n        case 'ZZ':\n            return parseTokenTimezone;\n        case 'T':\n            return parseTokenT;\n        case 'SSSS':\n            return parseTokenDigits;\n        case 'MM':\n        case 'DD':\n        case 'YY':\n        case 'GG':\n        case 'gg':\n        case 'HH':\n        case 'hh':\n        case 'mm':\n        case 'ss':\n        case 'ww':\n        case 'WW':\n            return strict ? parseTokenTwoDigits : parseTokenOneOrTwoDigits;\n        case 'M':\n        case 'D':\n        case 'd':\n        case 'H':\n        case 'h':\n        case 'm':\n        case 's':\n        case 'w':\n        case 'W':\n        case 'e':\n        case 'E':\n            return parseTokenOneOrTwoDigits;\n        case 'Do':\n            return parseTokenOrdinal;\n        default :\n            a = new RegExp(regexpEscape(unescapeFormat(token.replace('\\\\', '')), 'i'));\n            return a;\n        }\n    }\n\n    function timezoneMinutesFromString(string) {\n        string = string || '';\n        var possibleTzMatches = (string.match(parseTokenTimezone) || []),\n            tzChunk = possibleTzMatches[possibleTzMatches.length - 1] || [],\n            parts = (tzChunk + '').match(parseTimezoneChunker) || ['-', 0, 0],\n            minutes = +(parts[1] * 60) + toInt(parts[2]);\n\n        return parts[0] === '+' ? -minutes : minutes;\n    }\n\n    // function to convert string input to date\n    function addTimeToArrayFromToken(token, input, config) {\n        var a, datePartArray = config._a;\n\n        switch (token) {\n        // QUARTER\n        case 'Q':\n            if (input != null) {\n                datePartArray[MONTH] = (toInt(input) - 1) * 3;\n            }\n            break;\n        // MONTH\n        case 'M' : // fall through to MM\n        case 'MM' :\n            if (input != null) {\n                datePartArray[MONTH] = toInt(input) - 1;\n            }\n            break;\n        case 'MMM' : // fall through to MMMM\n        case 'MMMM' :\n            a = config._locale.monthsParse(input);\n            // if we didn't find a month name, mark the date as invalid.\n            if (a != null) {\n                datePartArray[MONTH] = a;\n            } else {\n                config._pf.invalidMonth = input;\n            }\n            break;\n        // DAY OF MONTH\n        case 'D' : // fall through to DD\n        case 'DD' :\n            if (input != null) {\n                datePartArray[DATE] = toInt(input);\n            }\n            break;\n        case 'Do' :\n            if (input != null) {\n                datePartArray[DATE] = toInt(parseInt(input, 10));\n            }\n            break;\n        // DAY OF YEAR\n        case 'DDD' : // fall through to DDDD\n        case 'DDDD' :\n            if (input != null) {\n                config._dayOfYear = toInt(input);\n            }\n\n            break;\n        // YEAR\n        case 'YY' :\n            datePartArray[YEAR] = moment.parseTwoDigitYear(input);\n            break;\n        case 'YYYY' :\n        case 'YYYYY' :\n        case 'YYYYYY' :\n            datePartArray[YEAR] = toInt(input);\n            break;\n        // AM / PM\n        case 'a' : // fall through to A\n        case 'A' :\n            config._isPm = config._locale.isPM(input);\n            break;\n        // 24 HOUR\n        case 'H' : // fall through to hh\n        case 'HH' : // fall through to hh\n        case 'h' : // fall through to hh\n        case 'hh' :\n            datePartArray[HOUR] = toInt(input);\n            break;\n        // MINUTE\n        case 'm' : // fall through to mm\n        case 'mm' :\n            datePartArray[MINUTE] = toInt(input);\n            break;\n        // SECOND\n        case 's' : // fall through to ss\n        case 'ss' :\n            datePartArray[SECOND] = toInt(input);\n            break;\n        // MILLISECOND\n        case 'S' :\n        case 'SS' :\n        case 'SSS' :\n        case 'SSSS' :\n            datePartArray[MILLISECOND] = toInt(('0.' + input) * 1000);\n            break;\n        // UNIX TIMESTAMP WITH MS\n        case 'X':\n            config._d = new Date(parseFloat(input) * 1000);\n            break;\n        // TIMEZONE\n        case 'Z' : // fall through to ZZ\n        case 'ZZ' :\n            config._useUTC = true;\n            config._tzm = timezoneMinutesFromString(input);\n            break;\n        // WEEKDAY - human\n        case 'dd':\n        case 'ddd':\n        case 'dddd':\n            a = config._locale.weekdaysParse(input);\n            // if we didn't get a weekday name, mark the date as invalid\n            if (a != null) {\n                config._w = config._w || {};\n                config._w['d'] = a;\n            } else {\n                config._pf.invalidWeekday = input;\n            }\n            break;\n        // WEEK, WEEK DAY - numeric\n        case 'w':\n        case 'ww':\n        case 'W':\n        case 'WW':\n        case 'd':\n        case 'e':\n        case 'E':\n            token = token.substr(0, 1);\n            /* falls through */\n        case 'gggg':\n        case 'GGGG':\n        case 'GGGGG':\n            token = token.substr(0, 2);\n            if (input) {\n                config._w = config._w || {};\n                config._w[token] = toInt(input);\n            }\n            break;\n        case 'gg':\n        case 'GG':\n            config._w = config._w || {};\n            config._w[token] = moment.parseTwoDigitYear(input);\n        }\n    }\n\n    function dayOfYearFromWeekInfo(config) {\n        var w, weekYear, week, weekday, dow, doy, temp;\n\n        w = config._w;\n        if (w.GG != null || w.W != null || w.E != null) {\n            dow = 1;\n            doy = 4;\n\n            // TODO: We need to take the current isoWeekYear, but that depends on\n            // how we interpret now (local, utc, fixed offset). So create\n            // a now version of current config (take local/utc/offset flags, and\n            // create now).\n            weekYear = dfl(w.GG, config._a[YEAR], weekOfYear(moment(), 1, 4).year);\n            week = dfl(w.W, 1);\n            weekday = dfl(w.E, 1);\n        } else {\n            dow = config._locale._week.dow;\n            doy = config._locale._week.doy;\n\n            weekYear = dfl(w.gg, config._a[YEAR], weekOfYear(moment(), dow, doy).year);\n            week = dfl(w.w, 1);\n\n            if (w.d != null) {\n                // weekday -- low day numbers are considered next week\n                weekday = w.d;\n                if (weekday < dow) {\n                    ++week;\n                }\n            } else if (w.e != null) {\n                // local weekday -- counting starts from begining of week\n                weekday = w.e + dow;\n            } else {\n                // default to begining of week\n                weekday = dow;\n            }\n        }\n        temp = dayOfYearFromWeeks(weekYear, week, weekday, doy, dow);\n\n        config._a[YEAR] = temp.year;\n        config._dayOfYear = temp.dayOfYear;\n    }\n\n    // convert an array to a date.\n    // the array should mirror the parameters below\n    // note: all values past the year are optional and will default to the lowest possible value.\n    // [year, month, day , hour, minute, second, millisecond]\n    function dateFromConfig(config) {\n        var i, date, input = [], currentDate, yearToUse;\n\n        if (config._d) {\n            return;\n        }\n\n        currentDate = currentDateArray(config);\n\n        //compute day of the year from weeks and weekdays\n        if (config._w && config._a[DATE] == null && config._a[MONTH] == null) {\n            dayOfYearFromWeekInfo(config);\n        }\n\n        //if the day of the year is set, figure out what it is\n        if (config._dayOfYear) {\n            yearToUse = dfl(config._a[YEAR], currentDate[YEAR]);\n\n            if (config._dayOfYear > daysInYear(yearToUse)) {\n                config._pf._overflowDayOfYear = true;\n            }\n\n            date = makeUTCDate(yearToUse, 0, config._dayOfYear);\n            config._a[MONTH] = date.getUTCMonth();\n            config._a[DATE] = date.getUTCDate();\n        }\n\n        // Default to current date.\n        // * if no year, month, day of month are given, default to today\n        // * if day of month is given, default month and year\n        // * if month is given, default only year\n        // * if year is given, don't default anything\n        for (i = 0; i < 3 && config._a[i] == null; ++i) {\n            config._a[i] = input[i] = currentDate[i];\n        }\n\n        // Zero out whatever was not defaulted, including time\n        for (; i < 7; i++) {\n            config._a[i] = input[i] = (config._a[i] == null) ? (i === 2 ? 1 : 0) : config._a[i];\n        }\n\n        config._d = (config._useUTC ? makeUTCDate : makeDate).apply(null, input);\n        // Apply timezone offset from input. The actual zone can be changed\n        // with parseZone.\n        if (config._tzm != null) {\n            config._d.setUTCMinutes(config._d.getUTCMinutes() + config._tzm);\n        }\n    }\n\n    function dateFromObject(config) {\n        var normalizedInput;\n\n        if (config._d) {\n            return;\n        }\n\n        normalizedInput = normalizeObjectUnits(config._i);\n        config._a = [\n            normalizedInput.year,\n            normalizedInput.month,\n            normalizedInput.day,\n            normalizedInput.hour,\n            normalizedInput.minute,\n            normalizedInput.second,\n            normalizedInput.millisecond\n        ];\n\n        dateFromConfig(config);\n    }\n\n    function currentDateArray(config) {\n        var now = new Date();\n        if (config._useUTC) {\n            return [\n                now.getUTCFullYear(),\n                now.getUTCMonth(),\n                now.getUTCDate()\n            ];\n        } else {\n            return [now.getFullYear(), now.getMonth(), now.getDate()];\n        }\n    }\n\n    // date from string and format string\n    function makeDateFromStringAndFormat(config) {\n        if (config._f === moment.ISO_8601) {\n            parseISO(config);\n            return;\n        }\n\n        config._a = [];\n        config._pf.empty = true;\n\n        // This array is used to make a Date, either with `new Date` or `Date.UTC`\n        var string = '' + config._i,\n            i, parsedInput, tokens, token, skipped,\n            stringLength = string.length,\n            totalParsedInputLength = 0;\n\n        tokens = expandFormat(config._f, config._locale).match(formattingTokens) || [];\n\n        for (i = 0; i < tokens.length; i++) {\n            token = tokens[i];\n            parsedInput = (string.match(getParseRegexForToken(token, config)) || [])[0];\n            if (parsedInput) {\n                skipped = string.substr(0, string.indexOf(parsedInput));\n                if (skipped.length > 0) {\n                    config._pf.unusedInput.push(skipped);\n                }\n                string = string.slice(string.indexOf(parsedInput) + parsedInput.length);\n                totalParsedInputLength += parsedInput.length;\n            }\n            // don't parse if it's not a known token\n            if (formatTokenFunctions[token]) {\n                if (parsedInput) {\n                    config._pf.empty = false;\n                }\n                else {\n                    config._pf.unusedTokens.push(token);\n                }\n                addTimeToArrayFromToken(token, parsedInput, config);\n            }\n            else if (config._strict && !parsedInput) {\n                config._pf.unusedTokens.push(token);\n            }\n        }\n\n        // add remaining unparsed input length to the string\n        config._pf.charsLeftOver = stringLength - totalParsedInputLength;\n        if (string.length > 0) {\n            config._pf.unusedInput.push(string);\n        }\n\n        // handle am pm\n        if (config._isPm && config._a[HOUR] < 12) {\n            config._a[HOUR] += 12;\n        }\n        // if is 12 am, change hours to 0\n        if (config._isPm === false && config._a[HOUR] === 12) {\n            config._a[HOUR] = 0;\n        }\n\n        dateFromConfig(config);\n        checkOverflow(config);\n    }\n\n    function unescapeFormat(s) {\n        return s.replace(/\\\\(\\[)|\\\\(\\])|\\[([^\\]\\[]*)\\]|\\\\(.)/g, function (matched, p1, p2, p3, p4) {\n            return p1 || p2 || p3 || p4;\n        });\n    }\n\n    // Code from http://stackoverflow.com/questions/3561493/is-there-a-regexp-escape-function-in-javascript\n    function regexpEscape(s) {\n        return s.replace(/[-\\/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n    }\n\n    // date from string and array of format strings\n    function makeDateFromStringAndArray(config) {\n        var tempConfig,\n            bestMoment,\n\n            scoreToBeat,\n            i,\n            currentScore;\n\n        if (config._f.length === 0) {\n            config._pf.invalidFormat = true;\n            config._d = new Date(NaN);\n            return;\n        }\n\n        for (i = 0; i < config._f.length; i++) {\n            currentScore = 0;\n            tempConfig = copyConfig({}, config);\n            tempConfig._pf = defaultParsingFlags();\n            tempConfig._f = config._f[i];\n            makeDateFromStringAndFormat(tempConfig);\n\n            if (!isValid(tempConfig)) {\n                continue;\n            }\n\n            // if there is any input that was not parsed add a penalty for that format\n            currentScore += tempConfig._pf.charsLeftOver;\n\n            //or tokens\n            currentScore += tempConfig._pf.unusedTokens.length * 10;\n\n            tempConfig._pf.score = currentScore;\n\n            if (scoreToBeat == null || currentScore < scoreToBeat) {\n                scoreToBeat = currentScore;\n                bestMoment = tempConfig;\n            }\n        }\n\n        extend(config, bestMoment || tempConfig);\n    }\n\n    // date from iso format\n    function parseISO(config) {\n        var i, l,\n            string = config._i,\n            match = isoRegex.exec(string);\n\n        if (match) {\n            config._pf.iso = true;\n            for (i = 0, l = isoDates.length; i < l; i++) {\n                if (isoDates[i][1].exec(string)) {\n                    // match[5] should be \"T\" or undefined\n                    config._f = isoDates[i][0] + (match[6] || ' ');\n                    break;\n                }\n            }\n            for (i = 0, l = isoTimes.length; i < l; i++) {\n                if (isoTimes[i][1].exec(string)) {\n                    config._f += isoTimes[i][0];\n                    break;\n                }\n            }\n            if (string.match(parseTokenTimezone)) {\n                config._f += 'Z';\n            }\n            makeDateFromStringAndFormat(config);\n        } else {\n            config._isValid = false;\n        }\n    }\n\n    // date from iso format or fallback\n    function makeDateFromString(config) {\n        parseISO(config);\n        if (config._isValid === false) {\n            delete config._isValid;\n            moment.createFromInputFallback(config);\n        }\n    }\n\n    function makeDateFromInput(config) {\n        var input = config._i, matched;\n        if (input === undefined) {\n            config._d = new Date();\n        } else if (isDate(input)) {\n            config._d = new Date(+input);\n        } else if ((matched = aspNetJsonRegex.exec(input)) !== null) {\n            config._d = new Date(+matched[1]);\n        } else if (typeof input === 'string') {\n            makeDateFromString(config);\n        } else if (isArray(input)) {\n            config._a = input.slice(0);\n            dateFromConfig(config);\n        } else if (typeof(input) === 'object') {\n            dateFromObject(config);\n        } else if (typeof(input) === 'number') {\n            // from milliseconds\n            config._d = new Date(input);\n        } else {\n            moment.createFromInputFallback(config);\n        }\n    }\n\n    function makeDate(y, m, d, h, M, s, ms) {\n        //can't just apply() to create a date:\n        //http://stackoverflow.com/questions/181348/instantiating-a-javascript-object-by-calling-prototype-constructor-apply\n        var date = new Date(y, m, d, h, M, s, ms);\n\n        //the date constructor doesn't accept years < 1970\n        if (y < 1970) {\n            date.setFullYear(y);\n        }\n        return date;\n    }\n\n    function makeUTCDate(y) {\n        var date = new Date(Date.UTC.apply(null, arguments));\n        if (y < 1970) {\n            date.setUTCFullYear(y);\n        }\n        return date;\n    }\n\n    function parseWeekday(input, locale) {\n        if (typeof input === 'string') {\n            if (!isNaN(input)) {\n                input = parseInt(input, 10);\n            }\n            else {\n                input = locale.weekdaysParse(input);\n                if (typeof input !== 'number') {\n                    return null;\n                }\n            }\n        }\n        return input;\n    }\n\n    /************************************\n        Relative Time\n    ************************************/\n\n\n    // helper function for moment.fn.from, moment.fn.fromNow, and moment.duration.fn.humanize\n    function substituteTimeAgo(string, number, withoutSuffix, isFuture, locale) {\n        return locale.relativeTime(number || 1, !!withoutSuffix, string, isFuture);\n    }\n\n    function relativeTime(posNegDuration, withoutSuffix, locale) {\n        var duration = moment.duration(posNegDuration).abs(),\n            seconds = round(duration.as('s')),\n            minutes = round(duration.as('m')),\n            hours = round(duration.as('h')),\n            days = round(duration.as('d')),\n            months = round(duration.as('M')),\n            years = round(duration.as('y')),\n\n            args = seconds < relativeTimeThresholds.s && ['s', seconds] ||\n                minutes === 1 && ['m'] ||\n                minutes < relativeTimeThresholds.m && ['mm', minutes] ||\n                hours === 1 && ['h'] ||\n                hours < relativeTimeThresholds.h && ['hh', hours] ||\n                days === 1 && ['d'] ||\n                days < relativeTimeThresholds.d && ['dd', days] ||\n                months === 1 && ['M'] ||\n                months < relativeTimeThresholds.M && ['MM', months] ||\n                years === 1 && ['y'] || ['yy', years];\n\n        args[2] = withoutSuffix;\n        args[3] = +posNegDuration > 0;\n        args[4] = locale;\n        return substituteTimeAgo.apply({}, args);\n    }\n\n\n    /************************************\n        Week of Year\n    ************************************/\n\n\n    // firstDayOfWeek       0 = sun, 6 = sat\n    //                      the day of the week that starts the week\n    //                      (usually sunday or monday)\n    // firstDayOfWeekOfYear 0 = sun, 6 = sat\n    //                      the first week is the week that contains the first\n    //                      of this day of the week\n    //                      (eg. ISO weeks use thursday (4))\n    function weekOfYear(mom, firstDayOfWeek, firstDayOfWeekOfYear) {\n        var end = firstDayOfWeekOfYear - firstDayOfWeek,\n            daysToDayOfWeek = firstDayOfWeekOfYear - mom.day(),\n            adjustedMoment;\n\n\n        if (daysToDayOfWeek > end) {\n            daysToDayOfWeek -= 7;\n        }\n\n        if (daysToDayOfWeek < end - 7) {\n            daysToDayOfWeek += 7;\n        }\n\n        adjustedMoment = moment(mom).add(daysToDayOfWeek, 'd');\n        return {\n            week: Math.ceil(adjustedMoment.dayOfYear() / 7),\n            year: adjustedMoment.year()\n        };\n    }\n\n    //http://en.wikipedia.org/wiki/ISO_week_date#Calculating_a_date_given_the_year.2C_week_number_and_weekday\n    function dayOfYearFromWeeks(year, week, weekday, firstDayOfWeekOfYear, firstDayOfWeek) {\n        var d = makeUTCDate(year, 0, 1).getUTCDay(), daysToAdd, dayOfYear;\n\n        d = d === 0 ? 7 : d;\n        weekday = weekday != null ? weekday : firstDayOfWeek;\n        daysToAdd = firstDayOfWeek - d + (d > firstDayOfWeekOfYear ? 7 : 0) - (d < firstDayOfWeek ? 7 : 0);\n        dayOfYear = 7 * (week - 1) + (weekday - firstDayOfWeek) + daysToAdd + 1;\n\n        return {\n            year: dayOfYear > 0 ? year : year - 1,\n            dayOfYear: dayOfYear > 0 ?  dayOfYear : daysInYear(year - 1) + dayOfYear\n        };\n    }\n\n    /************************************\n        Top Level Functions\n    ************************************/\n\n    function makeMoment(config) {\n        var input = config._i,\n            format = config._f;\n\n        config._locale = config._locale || moment.localeData(config._l);\n\n        if (input === null || (format === undefined && input === '')) {\n            return moment.invalid({nullInput: true});\n        }\n\n        if (typeof input === 'string') {\n            config._i = input = config._locale.preparse(input);\n        }\n\n        if (moment.isMoment(input)) {\n            return new Moment(input, true);\n        } else if (format) {\n            if (isArray(format)) {\n                makeDateFromStringAndArray(config);\n            } else {\n                makeDateFromStringAndFormat(config);\n            }\n        } else {\n            makeDateFromInput(config);\n        }\n\n        return new Moment(config);\n    }\n\n    moment = function (input, format, locale, strict) {\n        var c;\n\n        if (typeof(locale) === \"boolean\") {\n            strict = locale;\n            locale = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c = {};\n        c._isAMomentObject = true;\n        c._i = input;\n        c._f = format;\n        c._l = locale;\n        c._strict = strict;\n        c._isUTC = false;\n        c._pf = defaultParsingFlags();\n\n        return makeMoment(c);\n    };\n\n    moment.suppressDeprecationWarnings = false;\n\n    moment.createFromInputFallback = deprecate(\n        'moment construction falls back to js Date. This is ' +\n        'discouraged and will be removed in upcoming major ' +\n        'release. Please refer to ' +\n        'https://github.com/moment/moment/issues/1407 for more info.',\n        function (config) {\n            config._d = new Date(config._i);\n        }\n    );\n\n    // Pick a moment m from moments so that m[fn](other) is true for all\n    // other. This relies on the function fn to be transitive.\n    //\n    // moments should either be an array of moment objects or an array, whose\n    // first element is an array of moment objects.\n    function pickBy(fn, moments) {\n        var res, i;\n        if (moments.length === 1 && isArray(moments[0])) {\n            moments = moments[0];\n        }\n        if (!moments.length) {\n            return moment();\n        }\n        res = moments[0];\n        for (i = 1; i < moments.length; ++i) {\n            if (moments[i][fn](res)) {\n                res = moments[i];\n            }\n        }\n        return res;\n    }\n\n    moment.min = function () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isBefore', args);\n    };\n\n    moment.max = function () {\n        var args = [].slice.call(arguments, 0);\n\n        return pickBy('isAfter', args);\n    };\n\n    // creating with utc\n    moment.utc = function (input, format, locale, strict) {\n        var c;\n\n        if (typeof(locale) === \"boolean\") {\n            strict = locale;\n            locale = undefined;\n        }\n        // object construction must be done this way.\n        // https://github.com/moment/moment/issues/1423\n        c = {};\n        c._isAMomentObject = true;\n        c._useUTC = true;\n        c._isUTC = true;\n        c._l = locale;\n        c._i = input;\n        c._f = format;\n        c._strict = strict;\n        c._pf = defaultParsingFlags();\n\n        return makeMoment(c).utc();\n    };\n\n    // creating with unix timestamp (in seconds)\n    moment.unix = function (input) {\n        return moment(input * 1000);\n    };\n\n    // duration\n    moment.duration = function (input, key) {\n        var duration = input,\n            // matching against regexp is expensive, do it on demand\n            match = null,\n            sign,\n            ret,\n            parseIso,\n            diffRes;\n\n        if (moment.isDuration(input)) {\n            duration = {\n                ms: input._milliseconds,\n                d: input._days,\n                M: input._months\n            };\n        } else if (typeof input === 'number') {\n            duration = {};\n            if (key) {\n                duration[key] = input;\n            } else {\n                duration.milliseconds = input;\n            }\n        } else if (!!(match = aspNetTimeSpanJsonRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            duration = {\n                y: 0,\n                d: toInt(match[DATE]) * sign,\n                h: toInt(match[HOUR]) * sign,\n                m: toInt(match[MINUTE]) * sign,\n                s: toInt(match[SECOND]) * sign,\n                ms: toInt(match[MILLISECOND]) * sign\n            };\n        } else if (!!(match = isoDurationRegex.exec(input))) {\n            sign = (match[1] === '-') ? -1 : 1;\n            parseIso = function (inp) {\n                // We'd normally use ~~inp for this, but unfortunately it also\n                // converts floats to ints.\n                // inp may be undefined, so careful calling replace on it.\n                var res = inp && parseFloat(inp.replace(',', '.'));\n                // apply sign while we're at it\n                return (isNaN(res) ? 0 : res) * sign;\n            };\n            duration = {\n                y: parseIso(match[2]),\n                M: parseIso(match[3]),\n                d: parseIso(match[4]),\n                h: parseIso(match[5]),\n                m: parseIso(match[6]),\n                s: parseIso(match[7]),\n                w: parseIso(match[8])\n            };\n        } else if (typeof duration === 'object' &&\n                ('from' in duration || 'to' in duration)) {\n            diffRes = momentsDifference(moment(duration.from), moment(duration.to));\n\n            duration = {};\n            duration.ms = diffRes.milliseconds;\n            duration.M = diffRes.months;\n        }\n\n        ret = new Duration(duration);\n\n        if (moment.isDuration(input) && input.hasOwnProperty('_locale')) {\n            ret._locale = input._locale;\n        }\n\n        return ret;\n    };\n\n    // version number\n    moment.version = VERSION;\n\n    // default format\n    moment.defaultFormat = isoFormat;\n\n    // constant that refers to the ISO standard\n    moment.ISO_8601 = function () {};\n\n    // Plugins that add properties should also add the key here (null value),\n    // so we can properly clone ourselves.\n    moment.momentProperties = momentProperties;\n\n    // This function will be called whenever a moment is mutated.\n    // It is intended to keep the offset in sync with the timezone.\n    moment.updateOffset = function () {};\n\n    // This function allows you to set a threshold for relative time strings\n    moment.relativeTimeThreshold = function (threshold, limit) {\n        if (relativeTimeThresholds[threshold] === undefined) {\n            return false;\n        }\n        if (limit === undefined) {\n            return relativeTimeThresholds[threshold];\n        }\n        relativeTimeThresholds[threshold] = limit;\n        return true;\n    };\n\n    moment.lang = deprecate(\n        \"moment.lang is deprecated. Use moment.locale instead.\",\n        function (key, value) {\n            return moment.locale(key, value);\n        }\n    );\n\n    // This function will load locale and then set the global locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    moment.locale = function (key, values) {\n        var data;\n        if (key) {\n            if (typeof(values) !== \"undefined\") {\n                data = moment.defineLocale(key, values);\n            }\n            else {\n                data = moment.localeData(key);\n            }\n\n            if (data) {\n                moment.duration._locale = moment._locale = data;\n            }\n        }\n\n        return moment._locale._abbr;\n    };\n\n    moment.defineLocale = function (name, values) {\n        if (values !== null) {\n            values.abbr = name;\n            if (!locales[name]) {\n                locales[name] = new Locale();\n            }\n            locales[name].set(values);\n\n            // backwards compat for now: also set the locale\n            moment.locale(name);\n\n            return locales[name];\n        } else {\n            // useful for testing\n            delete locales[name];\n            return null;\n        }\n    };\n\n    moment.langData = deprecate(\n        \"moment.langData is deprecated. Use moment.localeData instead.\",\n        function (key) {\n            return moment.localeData(key);\n        }\n    );\n\n    // returns locale data\n    moment.localeData = function (key) {\n        var locale;\n\n        if (key && key._locale && key._locale._abbr) {\n            key = key._locale._abbr;\n        }\n\n        if (!key) {\n            return moment._locale;\n        }\n\n        if (!isArray(key)) {\n            //short-circuit everything else\n            locale = loadLocale(key);\n            if (locale) {\n                return locale;\n            }\n            key = [key];\n        }\n\n        return chooseLocale(key);\n    };\n\n    // compare moment object\n    moment.isMoment = function (obj) {\n        return obj instanceof Moment ||\n            (obj != null &&  obj.hasOwnProperty('_isAMomentObject'));\n    };\n\n    // for typechecking Duration objects\n    moment.isDuration = function (obj) {\n        return obj instanceof Duration;\n    };\n\n    for (i = lists.length - 1; i >= 0; --i) {\n        makeList(lists[i]);\n    }\n\n    moment.normalizeUnits = function (units) {\n        return normalizeUnits(units);\n    };\n\n    moment.invalid = function (flags) {\n        var m = moment.utc(NaN);\n        if (flags != null) {\n            extend(m._pf, flags);\n        }\n        else {\n            m._pf.userInvalidated = true;\n        }\n\n        return m;\n    };\n\n    moment.parseZone = function () {\n        return moment.apply(null, arguments).parseZone();\n    };\n\n    moment.parseTwoDigitYear = function (input) {\n        return toInt(input) + (toInt(input) > 68 ? 1900 : 2000);\n    };\n\n    /************************************\n        Moment Prototype\n    ************************************/\n\n\n    extend(moment.fn = Moment.prototype, {\n\n        clone : function () {\n            return moment(this);\n        },\n\n        valueOf : function () {\n            return +this._d + ((this._offset || 0) * 60000);\n        },\n\n        unix : function () {\n            return Math.floor(+this / 1000);\n        },\n\n        toString : function () {\n            return this.clone().locale('en').format(\"ddd MMM DD YYYY HH:mm:ss [GMT]ZZ\");\n        },\n\n        toDate : function () {\n            return this._offset ? new Date(+this) : this._d;\n        },\n\n        toISOString : function () {\n            var m = moment(this).utc();\n            if (0 < m.year() && m.year() <= 9999) {\n                return formatMoment(m, 'YYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n            } else {\n                return formatMoment(m, 'YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]');\n            }\n        },\n\n        toArray : function () {\n            var m = this;\n            return [\n                m.year(),\n                m.month(),\n                m.date(),\n                m.hours(),\n                m.minutes(),\n                m.seconds(),\n                m.milliseconds()\n            ];\n        },\n\n        isValid : function () {\n            return isValid(this);\n        },\n\n        isDSTShifted : function () {\n            if (this._a) {\n                return this.isValid() && compareArrays(this._a, (this._isUTC ? moment.utc(this._a) : moment(this._a)).toArray()) > 0;\n            }\n\n            return false;\n        },\n\n        parsingFlags : function () {\n            return extend({}, this._pf);\n        },\n\n        invalidAt: function () {\n            return this._pf.overflow;\n        },\n\n        utc : function (keepLocalTime) {\n            return this.zone(0, keepLocalTime);\n        },\n\n        local : function (keepLocalTime) {\n            if (this._isUTC) {\n                this.zone(0, keepLocalTime);\n                this._isUTC = false;\n\n                if (keepLocalTime) {\n                    this.add(this._d.getTimezoneOffset(), 'm');\n                }\n            }\n            return this;\n        },\n\n        format : function (inputString) {\n            var output = formatMoment(this, inputString || moment.defaultFormat);\n            return this.localeData().postformat(output);\n        },\n\n        add : createAdder(1, 'add'),\n\n        subtract : createAdder(-1, 'subtract'),\n\n        diff : function (input, units, asFloat) {\n            var that = makeAs(input, this),\n                zoneDiff = (this.zone() - that.zone()) * 6e4,\n                diff, output;\n\n            units = normalizeUnits(units);\n\n            if (units === 'year' || units === 'month') {\n                // average number of days in the months in the given dates\n                diff = (this.daysInMonth() + that.daysInMonth()) * 432e5; // 24 * 60 * 60 * 1000 / 2\n                // difference in months\n                output = ((this.year() - that.year()) * 12) + (this.month() - that.month());\n                // adjust by taking difference in days, average number of days\n                // and dst in the given months.\n                output += ((this - moment(this).startOf('month')) -\n                        (that - moment(that).startOf('month'))) / diff;\n                // same as above but with zones, to negate all dst\n                output -= ((this.zone() - moment(this).startOf('month').zone()) -\n                        (that.zone() - moment(that).startOf('month').zone())) * 6e4 / diff;\n                if (units === 'year') {\n                    output = output / 12;\n                }\n            } else {\n                diff = (this - that);\n                output = units === 'second' ? diff / 1e3 : // 1000\n                    units === 'minute' ? diff / 6e4 : // 1000 * 60\n                    units === 'hour' ? diff / 36e5 : // 1000 * 60 * 60\n                    units === 'day' ? (diff - zoneDiff) / 864e5 : // 1000 * 60 * 60 * 24, negate dst\n                    units === 'week' ? (diff - zoneDiff) / 6048e5 : // 1000 * 60 * 60 * 24 * 7, negate dst\n                    diff;\n            }\n            return asFloat ? output : absRound(output);\n        },\n\n        from : function (time, withoutSuffix) {\n            return moment.duration({to: this, from: time}).locale(this.locale()).humanize(!withoutSuffix);\n        },\n\n        fromNow : function (withoutSuffix) {\n            return this.from(moment(), withoutSuffix);\n        },\n\n        calendar : function (time) {\n            // We want to compare the start of today, vs this.\n            // Getting start-of-today depends on whether we're zone'd or not.\n            var now = time || moment(),\n                sod = makeAs(now, this).startOf('day'),\n                diff = this.diff(sod, 'days', true),\n                format = diff < -6 ? 'sameElse' :\n                    diff < -1 ? 'lastWeek' :\n                    diff < 0 ? 'lastDay' :\n                    diff < 1 ? 'sameDay' :\n                    diff < 2 ? 'nextDay' :\n                    diff < 7 ? 'nextWeek' : 'sameElse';\n            return this.format(this.localeData().calendar(format, this));\n        },\n\n        isLeapYear : function () {\n            return isLeapYear(this.year());\n        },\n\n        isDST : function () {\n            return (this.zone() < this.clone().month(0).zone() ||\n                this.zone() < this.clone().month(5).zone());\n        },\n\n        day : function (input) {\n            var day = this._isUTC ? this._d.getUTCDay() : this._d.getDay();\n            if (input != null) {\n                input = parseWeekday(input, this.localeData());\n                return this.add(input - day, 'd');\n            } else {\n                return day;\n            }\n        },\n\n        month : makeAccessor('Month', true),\n\n        startOf : function (units) {\n            units = normalizeUnits(units);\n            // the following switch intentionally omits break keywords\n            // to utilize falling through the cases.\n            switch (units) {\n            case 'year':\n                this.month(0);\n                /* falls through */\n            case 'quarter':\n            case 'month':\n                this.date(1);\n                /* falls through */\n            case 'week':\n            case 'isoWeek':\n            case 'day':\n                this.hours(0);\n                /* falls through */\n            case 'hour':\n                this.minutes(0);\n                /* falls through */\n            case 'minute':\n                this.seconds(0);\n                /* falls through */\n            case 'second':\n                this.milliseconds(0);\n                /* falls through */\n            }\n\n            // weeks are a special case\n            if (units === 'week') {\n                this.weekday(0);\n            } else if (units === 'isoWeek') {\n                this.isoWeekday(1);\n            }\n\n            // quarters are also special\n            if (units === 'quarter') {\n                this.month(Math.floor(this.month() / 3) * 3);\n            }\n\n            return this;\n        },\n\n        endOf: function (units) {\n            units = normalizeUnits(units);\n            return this.startOf(units).add(1, (units === 'isoWeek' ? 'week' : units)).subtract(1, 'ms');\n        },\n\n        isAfter: function (input, units) {\n            units = typeof units !== 'undefined' ? units : 'millisecond';\n            return +this.clone().startOf(units) > +moment(input).startOf(units);\n        },\n\n        isBefore: function (input, units) {\n            units = typeof units !== 'undefined' ? units : 'millisecond';\n            return +this.clone().startOf(units) < +moment(input).startOf(units);\n        },\n\n        isSame: function (input, units) {\n            units = units || 'ms';\n            return +this.clone().startOf(units) === +makeAs(input, this).startOf(units);\n        },\n\n        min: deprecate(\n                 'moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548',\n                 function (other) {\n                     other = moment.apply(null, arguments);\n                     return other < this ? this : other;\n                 }\n         ),\n\n        max: deprecate(\n                'moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548',\n                function (other) {\n                    other = moment.apply(null, arguments);\n                    return other > this ? this : other;\n                }\n        ),\n\n        // keepLocalTime = true means only change the timezone, without\n        // affecting the local hour. So 5:31:26 +0300 --[zone(2, true)]-->\n        // 5:31:26 +0200 It is possible that 5:31:26 doesn't exist int zone\n        // +0200, so we adjust the time as needed, to be valid.\n        //\n        // Keeping the time actually adds/subtracts (one hour)\n        // from the actual represented time. That is why we call updateOffset\n        // a second time. In case it wants us to change the offset again\n        // _changeInProgress == true case, then we have to adjust, because\n        // there is no such time in the given timezone.\n        zone : function (input, keepLocalTime) {\n            var offset = this._offset || 0,\n                localAdjust;\n            if (input != null) {\n                if (typeof input === 'string') {\n                    input = timezoneMinutesFromString(input);\n                }\n                if (Math.abs(input) < 16) {\n                    input = input * 60;\n                }\n                if (!this._isUTC && keepLocalTime) {\n                    localAdjust = this._d.getTimezoneOffset();\n                }\n                this._offset = input;\n                this._isUTC = true;\n                if (localAdjust != null) {\n                    this.subtract(localAdjust, 'm');\n                }\n                if (offset !== input) {\n                    if (!keepLocalTime || this._changeInProgress) {\n                        addOrSubtractDurationFromMoment(this,\n                                moment.duration(offset - input, 'm'), 1, false);\n                    } else if (!this._changeInProgress) {\n                        this._changeInProgress = true;\n                        moment.updateOffset(this, true);\n                        this._changeInProgress = null;\n                    }\n                }\n            } else {\n                return this._isUTC ? offset : this._d.getTimezoneOffset();\n            }\n            return this;\n        },\n\n        zoneAbbr : function () {\n            return this._isUTC ? 'UTC' : '';\n        },\n\n        zoneName : function () {\n            return this._isUTC ? 'Coordinated Universal Time' : '';\n        },\n\n        parseZone : function () {\n            if (this._tzm) {\n                this.zone(this._tzm);\n            } else if (typeof this._i === 'string') {\n                this.zone(this._i);\n            }\n            return this;\n        },\n\n        hasAlignedHourOffset : function (input) {\n            if (!input) {\n                input = 0;\n            }\n            else {\n                input = moment(input).zone();\n            }\n\n            return (this.zone() - input) % 60 === 0;\n        },\n\n        daysInMonth : function () {\n            return daysInMonth(this.year(), this.month());\n        },\n\n        dayOfYear : function (input) {\n            var dayOfYear = round((moment(this).startOf('day') - moment(this).startOf('year')) / 864e5) + 1;\n            return input == null ? dayOfYear : this.add((input - dayOfYear), 'd');\n        },\n\n        quarter : function (input) {\n            return input == null ? Math.ceil((this.month() + 1) / 3) : this.month((input - 1) * 3 + this.month() % 3);\n        },\n\n        weekYear : function (input) {\n            var year = weekOfYear(this, this.localeData()._week.dow, this.localeData()._week.doy).year;\n            return input == null ? year : this.add((input - year), 'y');\n        },\n\n        isoWeekYear : function (input) {\n            var year = weekOfYear(this, 1, 4).year;\n            return input == null ? year : this.add((input - year), 'y');\n        },\n\n        week : function (input) {\n            var week = this.localeData().week(this);\n            return input == null ? week : this.add((input - week) * 7, 'd');\n        },\n\n        isoWeek : function (input) {\n            var week = weekOfYear(this, 1, 4).week;\n            return input == null ? week : this.add((input - week) * 7, 'd');\n        },\n\n        weekday : function (input) {\n            var weekday = (this.day() + 7 - this.localeData()._week.dow) % 7;\n            return input == null ? weekday : this.add(input - weekday, 'd');\n        },\n\n        isoWeekday : function (input) {\n            // behaves the same as moment#day except\n            // as a getter, returns 7 instead of 0 (1-7 range instead of 0-6)\n            // as a setter, sunday should belong to the previous week.\n            return input == null ? this.day() || 7 : this.day(this.day() % 7 ? input : input - 7);\n        },\n\n        isoWeeksInYear : function () {\n            return weeksInYear(this.year(), 1, 4);\n        },\n\n        weeksInYear : function () {\n            var weekInfo = this.localeData()._week;\n            return weeksInYear(this.year(), weekInfo.dow, weekInfo.doy);\n        },\n\n        get : function (units) {\n            units = normalizeUnits(units);\n            return this[units]();\n        },\n\n        set : function (units, value) {\n            units = normalizeUnits(units);\n            if (typeof this[units] === 'function') {\n                this[units](value);\n            }\n            return this;\n        },\n\n        // If passed a locale key, it will set the locale for this\n        // instance.  Otherwise, it will return the locale configuration\n        // variables for this instance.\n        locale : function (key) {\n            if (key === undefined) {\n                return this._locale._abbr;\n            } else {\n                this._locale = moment.localeData(key);\n                return this;\n            }\n        },\n\n        lang : deprecate(\n            \"moment().lang() is deprecated. Use moment().localeData() instead.\",\n            function (key) {\n                if (key === undefined) {\n                    return this.localeData();\n                } else {\n                    this._locale = moment.localeData(key);\n                    return this;\n                }\n            }\n        ),\n\n        localeData : function () {\n            return this._locale;\n        }\n    });\n\n    function rawMonthSetter(mom, value) {\n        var dayOfMonth;\n\n        // TODO: Move this out of here!\n        if (typeof value === 'string') {\n            value = mom.localeData().monthsParse(value);\n            // TODO: Another silent failure?\n            if (typeof value !== 'number') {\n                return mom;\n            }\n        }\n\n        dayOfMonth = Math.min(mom.date(),\n                daysInMonth(mom.year(), value));\n        mom._d['set' + (mom._isUTC ? 'UTC' : '') + 'Month'](value, dayOfMonth);\n        return mom;\n    }\n\n    function rawGetter(mom, unit) {\n        return mom._d['get' + (mom._isUTC ? 'UTC' : '') + unit]();\n    }\n\n    function rawSetter(mom, unit, value) {\n        if (unit === 'Month') {\n            return rawMonthSetter(mom, value);\n        } else {\n            return mom._d['set' + (mom._isUTC ? 'UTC' : '') + unit](value);\n        }\n    }\n\n    function makeAccessor(unit, keepTime) {\n        return function (value) {\n            if (value != null) {\n                rawSetter(this, unit, value);\n                moment.updateOffset(this, keepTime);\n                return this;\n            } else {\n                return rawGetter(this, unit);\n            }\n        };\n    }\n\n    moment.fn.millisecond = moment.fn.milliseconds = makeAccessor('Milliseconds', false);\n    moment.fn.second = moment.fn.seconds = makeAccessor('Seconds', false);\n    moment.fn.minute = moment.fn.minutes = makeAccessor('Minutes', false);\n    // Setting the hour should keep the time, because the user explicitly\n    // specified which hour he wants. So trying to maintain the same hour (in\n    // a new timezone) makes sense. Adding/subtracting hours does not follow\n    // this rule.\n    moment.fn.hour = moment.fn.hours = makeAccessor('Hours', true);\n    // moment.fn.month is defined separately\n    moment.fn.date = makeAccessor('Date', true);\n    moment.fn.dates = deprecate('dates accessor is deprecated. Use date instead.', makeAccessor('Date', true));\n    moment.fn.year = makeAccessor('FullYear', true);\n    moment.fn.years = deprecate('years accessor is deprecated. Use year instead.', makeAccessor('FullYear', true));\n\n    // add plural methods\n    moment.fn.days = moment.fn.day;\n    moment.fn.months = moment.fn.month;\n    moment.fn.weeks = moment.fn.week;\n    moment.fn.isoWeeks = moment.fn.isoWeek;\n    moment.fn.quarters = moment.fn.quarter;\n\n    // add aliased format methods\n    moment.fn.toJSON = moment.fn.toISOString;\n\n    /************************************\n        Duration Prototype\n    ************************************/\n\n\n    function daysToYears (days) {\n        // 400 years have 146097 days (taking into account leap year rules)\n        return days * 400 / 146097;\n    }\n\n    function yearsToDays (years) {\n        // years * 365 + absRound(years / 4) -\n        //     absRound(years / 100) + absRound(years / 400);\n        return years * 146097 / 400;\n    }\n\n    extend(moment.duration.fn = Duration.prototype, {\n\n        _bubble : function () {\n            var milliseconds = this._milliseconds,\n                days = this._days,\n                months = this._months,\n                data = this._data,\n                seconds, minutes, hours, years = 0;\n\n            // The following code bubbles up values, see the tests for\n            // examples of what that means.\n            data.milliseconds = milliseconds % 1000;\n\n            seconds = absRound(milliseconds / 1000);\n            data.seconds = seconds % 60;\n\n            minutes = absRound(seconds / 60);\n            data.minutes = minutes % 60;\n\n            hours = absRound(minutes / 60);\n            data.hours = hours % 24;\n\n            days += absRound(hours / 24);\n\n            // Accurately convert days to years, assume start from year 0.\n            years = absRound(daysToYears(days));\n            days -= absRound(yearsToDays(years));\n\n            // 30 days to a month\n            // TODO (iskren): Use anchor date (like 1st Jan) to compute this.\n            months += absRound(days / 30);\n            days %= 30;\n\n            // 12 months -> 1 year\n            years += absRound(months / 12);\n            months %= 12;\n\n            data.days = days;\n            data.months = months;\n            data.years = years;\n        },\n\n        abs : function () {\n            this._milliseconds = Math.abs(this._milliseconds);\n            this._days = Math.abs(this._days);\n            this._months = Math.abs(this._months);\n\n            this._data.milliseconds = Math.abs(this._data.milliseconds);\n            this._data.seconds = Math.abs(this._data.seconds);\n            this._data.minutes = Math.abs(this._data.minutes);\n            this._data.hours = Math.abs(this._data.hours);\n            this._data.months = Math.abs(this._data.months);\n            this._data.years = Math.abs(this._data.years);\n\n            return this;\n        },\n\n        weeks : function () {\n            return absRound(this.days() / 7);\n        },\n\n        valueOf : function () {\n            return this._milliseconds +\n              this._days * 864e5 +\n              (this._months % 12) * 2592e6 +\n              toInt(this._months / 12) * 31536e6;\n        },\n\n        humanize : function (withSuffix) {\n            var output = relativeTime(this, !withSuffix, this.localeData());\n\n            if (withSuffix) {\n                output = this.localeData().pastFuture(+this, output);\n            }\n\n            return this.localeData().postformat(output);\n        },\n\n        add : function (input, val) {\n            // supports only 2.0-style add(1, 's') or add(moment)\n            var dur = moment.duration(input, val);\n\n            this._milliseconds += dur._milliseconds;\n            this._days += dur._days;\n            this._months += dur._months;\n\n            this._bubble();\n\n            return this;\n        },\n\n        subtract : function (input, val) {\n            var dur = moment.duration(input, val);\n\n            this._milliseconds -= dur._milliseconds;\n            this._days -= dur._days;\n            this._months -= dur._months;\n\n            this._bubble();\n\n            return this;\n        },\n\n        get : function (units) {\n            units = normalizeUnits(units);\n            return this[units.toLowerCase() + 's']();\n        },\n\n        as : function (units) {\n            var days, months;\n            units = normalizeUnits(units);\n\n            days = this._days + this._milliseconds / 864e5;\n            if (units === 'month' || units === 'year') {\n                months = this._months + daysToYears(days) * 12;\n                return units === 'month' ? months : months / 12;\n            } else {\n                days += yearsToDays(this._months / 12);\n                switch (units) {\n                    case 'week': return days / 7;\n                    case 'day': return days;\n                    case 'hour': return days * 24;\n                    case 'minute': return days * 24 * 60;\n                    case 'second': return days * 24 * 60 * 60;\n                    case 'millisecond': return days * 24 * 60 * 60 * 1000;\n                    default: throw new Error('Unknown unit ' + units);\n                }\n            }\n        },\n\n        lang : moment.fn.lang,\n        locale : moment.fn.locale,\n\n        toIsoString : deprecate(\n            \"toIsoString() is deprecated. Please use toISOString() instead \" +\n            \"(notice the capitals)\",\n            function () {\n                return this.toISOString();\n            }\n        ),\n\n        toISOString : function () {\n            // inspired by https://github.com/dordille/moment-isoduration/blob/master/moment.isoduration.js\n            var years = Math.abs(this.years()),\n                months = Math.abs(this.months()),\n                days = Math.abs(this.days()),\n                hours = Math.abs(this.hours()),\n                minutes = Math.abs(this.minutes()),\n                seconds = Math.abs(this.seconds() + this.milliseconds() / 1000);\n\n            if (!this.asSeconds()) {\n                // this is the same as C#'s (Noda) and python (isodate)...\n                // but not other JS (goog.date)\n                return 'P0D';\n            }\n\n            return (this.asSeconds() < 0 ? '-' : '') +\n                'P' +\n                (years ? years + 'Y' : '') +\n                (months ? months + 'M' : '') +\n                (days ? days + 'D' : '') +\n                ((hours || minutes || seconds) ? 'T' : '') +\n                (hours ? hours + 'H' : '') +\n                (minutes ? minutes + 'M' : '') +\n                (seconds ? seconds + 'S' : '');\n        },\n\n        localeData : function () {\n            return this._locale;\n        }\n    });\n\n    function makeDurationGetter(name) {\n        moment.duration.fn[name] = function () {\n            return this._data[name];\n        };\n    }\n\n    for (i in unitMillisecondFactors) {\n        if (unitMillisecondFactors.hasOwnProperty(i)) {\n            makeDurationGetter(i.toLowerCase());\n        }\n    }\n\n    moment.duration.fn.asMilliseconds = function () {\n        return this.as('ms');\n    };\n    moment.duration.fn.asSeconds = function () {\n        return this.as('s');\n    };\n    moment.duration.fn.asMinutes = function () {\n        return this.as('m');\n    };\n    moment.duration.fn.asHours = function () {\n        return this.as('h');\n    };\n    moment.duration.fn.asDays = function () {\n        return this.as('d');\n    };\n    moment.duration.fn.asWeeks = function () {\n        return this.as('weeks');\n    };\n    moment.duration.fn.asMonths = function () {\n        return this.as('M');\n    };\n    moment.duration.fn.asYears = function () {\n        return this.as('y');\n    };\n\n    /************************************\n        Default Locale\n    ************************************/\n\n\n    // Set default locale, other locale will inherit from English.\n    moment.locale('en', {\n        ordinal : function (number) {\n            var b = number % 10,\n                output = (toInt(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n            return number + output;\n        }\n    });\n\n// moment.js locale configuration\n// locale : russian (ru)\n// author : Viktorminator : https://github.com/Viktorminator\n// Author : Menelion Elensúle : https://github.com/Oire\n\n(function (factory) {\n    factory(moment);\n}(function (moment) {\n    function plural(word, num) {\n        var forms = word.split('_');\n        return num % 10 === 1 && num % 100 !== 11 ? forms[0] : (num % 10 >= 2 && num % 10 <= 4 && (num % 100 < 10 || num % 100 >= 20) ? forms[1] : forms[2]);\n    }\n\n    function relativeTimeWithPlural(number, withoutSuffix, key) {\n        var format = {\n            'mm': withoutSuffix ? 'минута_минуты_минут' : 'минуту_минуты_минут',\n            'hh': 'час_часа_часов',\n            'dd': 'день_дня_дней',\n            'MM': 'месяц_месяца_месяцев',\n            'yy': 'год_года_лет'\n        };\n        if (key === 'm') {\n            return withoutSuffix ? 'минута' : 'минуту';\n        }\n        else {\n            return number + ' ' + plural(format[key], +number);\n        }\n    }\n\n    function monthsCaseReplace(m, format) {\n        var months = {\n            'nominative': 'январь_февраль_март_апрель_май_июнь_июль_август_сентябрь_октябрь_ноябрь_декабрь'.split('_'),\n            'accusative': 'января_февраля_марта_апреля_мая_июня_июля_августа_сентября_октября_ноября_декабря'.split('_')\n        },\n\n        nounCase = (/D[oD]?(\\[[^\\[\\]]*\\]|\\s+)+MMMM?/).test(format) ?\n            'accusative' :\n            'nominative';\n\n        return months[nounCase][m.month()];\n    }\n\n    function monthsShortCaseReplace(m, format) {\n        var monthsShort = {\n            'nominative': 'янв_фев_мар_апр_май_июнь_июль_авг_сен_окт_ноя_дек'.split('_'),\n            'accusative': 'янв_фев_мар_апр_мая_июня_июля_авг_сен_окт_ноя_дек'.split('_')\n        },\n\n        nounCase = (/D[oD]?(\\[[^\\[\\]]*\\]|\\s+)+MMMM?/).test(format) ?\n            'accusative' :\n            'nominative';\n\n        return monthsShort[nounCase][m.month()];\n    }\n\n    function weekdaysCaseReplace(m, format) {\n        var weekdays = {\n            'nominative': 'воскресенье_понедельник_вторник_среда_четверг_пятница_суббота'.split('_'),\n            'accusative': 'воскресенье_понедельник_вторник_среду_четверг_пятницу_субботу'.split('_')\n        },\n\n        nounCase = (/\\[ ?[Вв] ?(?:прошлую|следующую)? ?\\] ?dddd/).test(format) ?\n            'accusative' :\n            'nominative';\n\n        return weekdays[nounCase][m.day()];\n    }\n\n    return moment.defineLocale('ru-ru', {\n        months : monthsCaseReplace,\n        monthsShort : monthsShortCaseReplace,\n        weekdays : weekdaysCaseReplace,\n        weekdaysShort : 'вс_пн_вт_ср_чт_пт_сб'.split('_'),\n        weekdaysMin : 'вс_пн_вт_ср_чт_пт_сб'.split('_'),\n        monthsParse : [/^янв/i, /^фев/i, /^мар/i, /^апр/i, /^ма[й|я]/i, /^июн/i, /^июл/i, /^авг/i, /^сен/i, /^окт/i, /^ноя/i, /^дек/i],\n        longDateFormat : {\n            LT : 'HH:mm',\n            L : 'DD.MM.YYYY',\n            LL : 'D MMMM YYYY г.',\n            LLL : 'D MMMM YYYY г., LT',\n            LLLL : 'dddd, D MMMM YYYY г., LT'\n        },\n        calendar : {\n            sameDay: '[Сегодня в] LT',\n            nextDay: '[Завтра в] LT',\n            lastDay: '[Вчера в] LT',\n            nextWeek: function () {\n                return this.day() === 2 ? '[Во] dddd [в] LT' : '[В] dddd [в] LT';\n            },\n            lastWeek: function () {\n                switch (this.day()) {\n                case 0:\n                    return '[В прошлое] dddd [в] LT';\n                case 1:\n                case 2:\n                case 4:\n                    return '[В прошлый] dddd [в] LT';\n                case 3:\n                case 5:\n                case 6:\n                    return '[В прошлую] dddd [в] LT';\n                }\n            },\n            sameElse: 'L'\n        },\n        relativeTime : {\n            future : 'через %s',\n            past : '%s назад',\n            s : 'несколько секунд',\n            m : relativeTimeWithPlural,\n            mm : relativeTimeWithPlural,\n            h : 'час',\n            hh : relativeTimeWithPlural,\n            d : 'день',\n            dd : relativeTimeWithPlural,\n            M : 'месяц',\n            MM : relativeTimeWithPlural,\n            y : 'год',\n            yy : relativeTimeWithPlural\n        },\n\n        meridiemParse: /ночи|утра|дня|вечера/i,\n        isPM : function (input) {\n            return /^(дня|вечера)$/.test(input);\n        },\n\n        meridiem : function (hour, minute, isLower) {\n            if (hour < 4) {\n                return 'ночи';\n            } else if (hour < 12) {\n                return 'утра';\n            } else if (hour < 17) {\n                return 'дня';\n            } else {\n                return 'вечера';\n            }\n        },\n\n        ordinal: function (number, period) {\n            switch (period) {\n            case 'M':\n            case 'd':\n            case 'DDD':\n                return number + '-й';\n            case 'D':\n                return number + '-го';\n            case 'w':\n            case 'W':\n                return number + '-я';\n            default:\n                return number;\n            }\n        },\n\n        week : {\n            dow : 1, // Monday is the first day of the week.\n            doy : 7  // The week that contains Jan 1st is the first week of the year.\n        }\n    });\n}));\n\n    moment.locale(LOCALE);\n\n\n    /************************************\n        Exposing Moment\n    ************************************/\n\n    function makeGlobal(shouldDeprecate) {\n        /*global ender:false */\n        if (typeof ender !== 'undefined') {\n            return;\n        }\n        oldGlobalMoment = globalScope.moment;\n        if (shouldDeprecate) {\n            globalScope.moment = deprecate(\n                    'Accessing Moment through the global scope is ' +\n                    'deprecated, and will be removed in an upcoming ' +\n                    'release.',\n                    moment);\n        } else {\n            globalScope.moment = moment;\n        }\n    }\n\n    // CommonJS module is defined\n    if (hasModule) {\n        module.exports = moment;\n    } else if (typeof define === 'function' && define.amd) {\n        define('moment', function (require, exports, module) {\n            if (module.config && module.config() && module.config().noGlobal === true) {\n                // release the global variable\n                globalScope.moment = oldGlobalMoment;\n            }\n\n            return moment;\n        });\n        makeGlobal(true);\n    } else {\n        makeGlobal();\n    }\n}).call(this);\n\n\n/*\n * @class ExpandingInput\n */\n(function() {\n\tvar ExpandingInput;\n\n\tExpandingInput = function($container, options) {\n\t\tif (options == null) {\n\t\t\toptions = {};\n\t\t}\n\t\tthis.options = $.extend({}, ExpandingInput.DEFAULTS, options || {});\n\t\tthis.$container = $container;\n\t\tthis.$target = this.options.target && this.$container.find(this.options.target).length ? this.$container.find(this.options.target) : null;\n\t\tthis.$content = this.options.hidden_content && this.$container.find(this.options.hidden_content).length ? this.$container.find(this.options.hidden_content) : null;\n\t\tthis.$container.addClass('expanding-input');\n\t\tif (this.$target) {\n\t\t\tthis.$target.addClass('expanding-input-target');\n\t\t\tif (this.$target.hasClass('input-sm')) {\n\t\t\t\tthis.$container.addClass('expanding-input-sm');\n\t\t\t}\n\t\t\tif (this.$target.hasClass('input-lg')) {\n\t\t\t\tthis.$container.addClass('expanding-input-lg');\n\t\t\t}\n\t\t}\n\t\tif (this.$content) {\n\t\t\tthis.$content.addClass('expanding-input-content');\n\t\t}\n\t\tthis.$overlay = $('<div class=\"expanding-input-overlay\"></div>').appendTo(this.$container);\n\t\tif (this.$target && this.$target.attr('placeholder')) {\n\t\t\tif (!this.options.placeholder) {\n\t\t\t\tthis.options.placeholder = this.$target.attr('placeholder');\n\t\t\t}\n\t\t\tthis.$target.attr('placeholder', '');\n\t\t}\n\t\tif (this.options.placeholder) {\n\t\t\tthis.$overlay.append($('<div class=\"expanding-input-placeholder\"></div>').html(this.options.placeholder));\n\t\t}\n\t\tif (this.$target) {\n\t\t\tthis.$target.on('focus', $.proxy(this.expand, this));\n\t\t}\n\t\treturn this.$overlay.on('click.expanding_input', $.proxy(this.expand, this));\n\t};\n\n\tExpandingInput.prototype.expand = function() {\n\t\tif (this.$container.hasClass('expanded')) {\n\t\t\treturn;\n\t\t}\n\t\tif (this.options.onBeforeExpand) {\n\t\t\tthis.options.onBeforeExpand.call(this);\n\t\t}\n\t\tthis.$overlay.remove();\n\t\tthis.$container.addClass('expanded');\n\t\tif (this.$target) {\n\t\t\tsetTimeout((function(_this) {\n\t\t\t\treturn function() {\n\t\t\t\t\treturn _this.$target.focus();\n\t\t\t\t};\n\t\t\t})(this), 1);\n\t\t}\n\t\tif (this.$target && this.options.placeholder) {\n\t\t\tthis.$target.attr('placeholder', $('<div>' + this.options.placeholder + '</div>').text());\n\t\t}\n\t\tif (this.options.onAfterExpand) {\n\t\t\treturn this.options.onAfterExpand.call(this);\n\t\t}\n\t};\n\n\tExpandingInput.DEFAULTS = {\n\t\ttarget: null,\n\t\thidden_content: null,\n\t\tplaceholder: null,\n\t\tonBeforeExpand: null,\n\t\tonAfterExpand: null\n\t};\n\n\t$.fn.expandingInput = function(options) {\n\t\treturn this.each(function() {\n\t\t\tvar $this;\n\t\t\t$this = $(this);\n\t\t\tif (!$this.attr('data-expandingInput')) {\n\t\t\t\treturn $.data($this, 'expandingInput', new ExpandingInput($this, options));\n\t\t\t}\n\t\t});\n\t};\n\n\t$.fn.expandingInput.Constructor = ExpandingInput;\n\n}).call(this);\n\n\n/**\n * jQuery.query - Query String Modification and Creation for jQuery\n * Written by Blair Mitchelmore (blair DOT mitchelmore AT gmail DOT com)\n * Licensed under the WTFPL (http://sam.zoy.org/wtfpl/).\n * Date: 2009/8/13\n *\n * @author Blair Mitchelmore\n * @version 2.1.7\n *\n **/\n(function() {\n\tnew function(settings) {\n\t\t// Various Settings\n\t\tvar $separator = settings.separator || '&';\n\t\tvar $spaces = settings.spaces === false ? false : true;\n\t\tvar $suffix = settings.suffix === false ? '' : '[]';\n\t\tvar $prefix = settings.prefix === false ? false : true;\n\t\tvar $hash = $prefix ? settings.hash === true ? \"#\" : \"?\" : \"\";\n\t\tvar $numbers = settings.numbers === false ? false : true;\n\n\t\tjQuery.query = new function() {\n\t\t\tvar is = function(o, t) {\n\t\t\t\treturn o != undefined && o !== null && (!!t ? o.constructor == t : true);\n\t\t\t};\n\t\t\tvar parse = function(path) {\n\t\t\t\tvar m, rx = /\\[([^[]*)\\]/g, match = /^([^[]+)(\\[.*\\])?$/.exec(path), base = match[1], tokens = [];\n\t\t\t\twhile (m = rx.exec(match[2]))\n\t\t\t\t\ttokens.push(m[1]);\n\t\t\t\treturn [base, tokens];\n\t\t\t};\n\t\t\tvar set = function(target, tokens, value) {\n\t\t\t\tvar o, token = tokens.shift();\n\t\t\t\tif (typeof target != 'object')\n\t\t\t\t\ttarget = null;\n\t\t\t\tif (token === \"\") {\n\t\t\t\t\tif (!target)\n\t\t\t\t\t\ttarget = [];\n\t\t\t\t\tif (is(target, Array)) {\n\t\t\t\t\t\ttarget.push(tokens.length == 0 ? value : set(null, tokens.slice(0), value));\n\t\t\t\t\t} else if (is(target, Object)) {\n\t\t\t\t\t\tvar i = 0;\n\t\t\t\t\t\twhile (target[i++] != null)\n\t\t\t\t\t\t\t;\n\t\t\t\t\t\ttarget[--i] = tokens.length == 0 ? value : set(target[i], tokens.slice(0), value);\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttarget = [];\n\t\t\t\t\t\ttarget.push(tokens.length == 0 ? value : set(null, tokens.slice(0), value));\n\t\t\t\t\t}\n\t\t\t\t} else if (token && token.match(/^\\s*[0-9]+\\s*$/)) {\n\t\t\t\t\tvar index = parseInt(token, 10);\n\t\t\t\t\tif (!target)\n\t\t\t\t\t\ttarget = [];\n\t\t\t\t\ttarget[index] = tokens.length == 0 ? value : set(target[index], tokens.slice(0), value);\n\t\t\t\t} else if (token) {\n\t\t\t\t\tvar index = token.replace(/^\\s*|\\s*$/g, \"\");\n\t\t\t\t\tif (!target)\n\t\t\t\t\t\ttarget = {};\n\t\t\t\t\tif (is(target, Array)) {\n\t\t\t\t\t\tvar temp = {};\n\t\t\t\t\t\tfor (var i = 0; i < target.length; ++i) {\n\t\t\t\t\t\t\ttemp[i] = target[i];\n\t\t\t\t\t\t}\n\t\t\t\t\t\ttarget = temp;\n\t\t\t\t\t}\n\t\t\t\t\ttarget[index] = tokens.length == 0 ? value : set(target[index], tokens.slice(0), value);\n\t\t\t\t} else {\n\t\t\t\t\treturn value;\n\t\t\t\t}\n\t\t\t\treturn target;\n\t\t\t};\n\n\t\t\tvar queryObject = function(a) {\n\t\t\t\tvar self = this;\n\t\t\t\tself.keys = {};\n\n\t\t\t\tif (a.queryObject) {\n\t\t\t\t\tjQuery.each(a.get(), function(key, val) {\n\t\t\t\t\t\tself.SET(key, val);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tself.parseNew.apply(self, arguments);\n\t\t\t\t}\n\t\t\t\treturn self;\n\t\t\t};\n\n\t\t\tqueryObject.prototype = {\n\t\t\t\tqueryObject: true,\n\t\t\t\tparseNew: function() {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tself.keys = {};\n\t\t\t\t\tjQuery.each(arguments, function() {\n\t\t\t\t\t\tvar q = \"\" + this;\n\t\t\t\t\t\tq = q.replace(/^[?#]/, ''); // remove any leading ? || #\n\t\t\t\t\t\tq = q.replace(/[;&]$/, ''); // remove any trailing & || ;\n\t\t\t\t\t\tif ($spaces)\n\t\t\t\t\t\t\tq = q.replace(/[+]/g, ' '); // replace +'s with spaces\n\n\t\t\t\t\t\tjQuery.each(q.split(/[&;]/), function() {\n\t\t\t\t\t\t\tvar key = decodeURIComponent(this.split('=')[0] || \"\");\n\t\t\t\t\t\t\tvar val = decodeURIComponent(this.split('=')[1] || \"\");\n\n\t\t\t\t\t\t\tif (!key)\n\t\t\t\t\t\t\t\treturn;\n\n\t\t\t\t\t\t\tif ($numbers) {\n\t\t\t\t\t\t\t\tif (/^[+-]?[0-9]+\\.[0-9]*$/.test(val)) // simple float regex\n\t\t\t\t\t\t\t\t\tval = parseFloat(val);\n\t\t\t\t\t\t\t\telse if (/^[+-]?[0-9]+$/.test(val)) // simple int regex\n\t\t\t\t\t\t\t\t\tval = parseInt(val, 10);\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tval = (!val && val !== 0) ? true : val;\n\n\t\t\t\t\t\t\tself.SET(key, val);\n\t\t\t\t\t\t});\n\t\t\t\t\t});\n\t\t\t\t\treturn self;\n\t\t\t\t},\n\t\t\t\thas: function(key, type) {\n\t\t\t\t\tvar value = this.get(key);\n\t\t\t\t\treturn is(value, type);\n\t\t\t\t},\n\t\t\t\tGET: function(key) {\n\t\t\t\t\tif (!is(key))\n\t\t\t\t\t\treturn this.keys;\n\t\t\t\t\tvar parsed = parse(key), base = parsed[0], tokens = parsed[1];\n\t\t\t\t\tvar target = this.keys[base];\n\t\t\t\t\twhile (target != null && tokens.length != 0) {\n\t\t\t\t\t\ttarget = target[tokens.shift()];\n\t\t\t\t\t}\n\t\t\t\t\treturn typeof target == 'number' ? target : target || \"\";\n\t\t\t\t},\n\t\t\t\tget: function(key) {\n\t\t\t\t\tvar target = this.GET(key);\n\t\t\t\t\tif (is(target, Object))\n\t\t\t\t\t\treturn jQuery.extend(true, {}, target);\n\t\t\t\t\telse if (is(target, Array))\n\t\t\t\t\t\treturn target.slice(0);\n\t\t\t\t\treturn target;\n\t\t\t\t},\n\t\t\t\tSET: function(key, val) {\n\t\t\t\t\tvar value = !is(val) ? null : val;\n\t\t\t\t\tvar parsed = parse(key), base = parsed[0], tokens = parsed[1];\n\t\t\t\t\tvar target = this.keys[base];\n\t\t\t\t\tthis.keys[base] = set(target, tokens.slice(0), value);\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\tset: function(key, val) {\n\t\t\t\t\treturn this.copy().SET(key, val);\n\t\t\t\t},\n\t\t\t\tREMOVE: function(key) {\n\t\t\t\t\treturn this.SET(key, null).COMPACT();\n\t\t\t\t},\n\t\t\t\tremove: function(key) {\n\t\t\t\t\treturn this.copy().REMOVE(key);\n\t\t\t\t},\n\t\t\t\tEMPTY: function() {\n\t\t\t\t\tvar self = this;\n\t\t\t\t\tjQuery.each(self.keys, function(key, value) {\n\t\t\t\t\t\tdelete self.keys[key];\n\t\t\t\t\t});\n\t\t\t\t\treturn self;\n\t\t\t\t},\n\t\t\t\tload: function(url) {\n\t\t\t\t\tvar search = url.replace(/^.*?[?](.+?)(?:#.+)?$/, \"$1\");\n\t\t\t\t\treturn new queryObject(url.length == search.length ? '' : search);\n\t\t\t\t},\n\t\t\t\tempty: function() {\n\t\t\t\t\treturn this.copy().EMPTY();\n\t\t\t\t},\n\t\t\t\tcopy: function() {\n\t\t\t\t\treturn new queryObject(this);\n\t\t\t\t},\n\t\t\t\tCOMPACT: function() {\n\t\t\t\t\tfunction build(orig) {\n\t\t\t\t\t\tvar obj = typeof orig == \"object\" ? is(orig, Array) ? [] : {} : orig;\n\t\t\t\t\t\tif (typeof orig == 'object') {\n\t\t\t\t\t\t\tfunction add(o, key, value) {\n\t\t\t\t\t\t\t\tif (is(o, Array))\n\t\t\t\t\t\t\t\t\to.push(value);\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\to[key] = value;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tjQuery.each(orig, function(key, value) {\n\t\t\t\t\t\t\t\tif (!is(value))\n\t\t\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t\t\tadd(obj, key, build(value));\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn obj;\n\t\t\t\t\t}\n\t\t\t\t\tthis.keys = build(this.keys);\n\t\t\t\t\treturn this;\n\t\t\t\t},\n\t\t\t\tcompact: function() {\n\t\t\t\t\treturn this.copy().COMPACT();\n\t\t\t\t},\n\t\t\t\ttoString: function() {\n\t\t\t\t\tvar i = 0, queryString = [], chunks = [], self = this;\n\t\t\t\t\tvar encode = function(str) {\n\t\t\t\t\t\tstr = str + \"\";\n\t\t\t\t\t\tif ($spaces)\n\t\t\t\t\t\t\tstr = str.replace(/ /g, \"+\");\n\t\t\t\t\t\treturn encodeURIComponent(str);\n\t\t\t\t\t};\n\t\t\t\t\tvar addFields = function(arr, key, value) {\n\t\t\t\t\t\tif (!is(value) || value === false)\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\tvar o = [encode(key)];\n\t\t\t\t\t\tif (value !== true) {\n\t\t\t\t\t\t\to.push(\"=\");\n\t\t\t\t\t\t\to.push(encode(value));\n\t\t\t\t\t\t}\n\t\t\t\t\t\tarr.push(o.join(\"\"));\n\t\t\t\t\t};\n\t\t\t\t\tvar build = function(obj, base) {\n\t\t\t\t\t\tvar newKey = function(key) {\n\t\t\t\t\t\t\treturn !base || base == \"\" ? [key].join(\"\") : [base, \"[\", key, \"]\"].join(\"\");\n\t\t\t\t\t\t};\n\t\t\t\t\t\tjQuery.each(obj, function(key, value) {\n\t\t\t\t\t\t\tif (typeof value == 'object')\n\t\t\t\t\t\t\t\tbuild(value, newKey(key));\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\taddFields(chunks, newKey(key), value);\n\t\t\t\t\t\t});\n\t\t\t\t\t};\n\n\t\t\t\t\tbuild(this.keys);\n\n\t\t\t\t\tif (chunks.length > 0)\n\t\t\t\t\t\tqueryString.push($hash);\n\t\t\t\t\tqueryString.push(chunks.join($separator));\n\n\t\t\t\t\treturn queryString.join(\"\");\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn new queryObject(location.search, location.hash);\n\t\t};\n\t}(jQuery.query || {}); // Pass in jQuery.query as settings object\n}).call(this);\n\nfunction strtr(e, t, n) {\n\tif (typeof t === \"object\") {\n\t\tvar r = \"\";\n\t\tfor (var i = 0; i < e.length; i++) {\n\t\t\tr += \"0\"\n\t\t}\n\t\tvar s = 0;\n\t\tvar o = -1;\n\t\tvar u = \"\";\n\t\tfor (fr in t) {\n\t\t\ts = 0;\n\t\t\twhile ((o = e.indexOf(fr, s)) != -1) {\n\t\t\t\tif (parseInt(r.substr(o, fr.length)) != 0) {\n\t\t\t\t\ts = o + 1;\n\t\t\t\t\tcontinue\n\t\t\t\t}\n\t\t\t\tfor (var a = 0; a < t[fr].length; a++) {\n\t\t\t\t\tu += \"1\"\n\t\t\t\t}\n\t\t\t\tr = r.substr(0, o) + u + r.substr(o + fr.length, r.length - (o + fr.length));\n\t\t\t\te = e.substr(0, o) + t[fr] + e.substr(o + fr.length, e.length - (o + fr.length));\n\t\t\t\ts = o + t[fr].length + 1;\n\t\t\t\tu = \"\"\n\t\t\t}\n\t\t}\n\t\treturn e\n\t}\n\tfor (var f = 0; f < t.length; f++) {\n\t\te = e.replace(new RegExp(t.charAt(f), \"g\"), n.charAt(f))\n\t}\n\treturn e\n}\n\nfunction __(e, t) {\n\tif (CMS.translations[e] !== undefined) {\n\t\tvar e = CMS.translations[e]\n\t}\n\treturn t == undefined ? e : strtr(e, t)\n}\n\nfunction readImage(input, target) {\n\tif (input.files && input.files[0] && target) {\n\t\tvar FR = new FileReader();\n\t\tFR.onload = function(e) {\n\t\t\tvar img = new Image();\n\t\t\timg.src = e.target.result;\n\n\t\t\tvar ratio = img.width / img.height;\n\n\t\t\tvar canvas = document.createElement(\"canvas\");\n\t\t\tcanvas.width = 100 * ratio;\n\t\t\tcanvas.height = 100;\n\n\t\t\tvar ctx = canvas.getContext(\"2d\");\n\t\t\tctx.drawImage(img, 0, 0, canvas.width, canvas.height);\n\t\t\ttarget.attr(\"src\", canvas.toDataURL(\"image/jpeg\", 1));\n\t\t};\n\t\tFR.readAsDataURL(input.files[0]);\n\t}\n}","(function ($) {\r\n\tvar methods = {\r\n\t\tsettings: {\r\n\t\t\tupdateOnResize: false,\r\n\t\t\tcontentHeight: false,\r\n\t\t\ttype: 'height',\r\n\t\t\toffset: 0,\r\n\t\t\tminHeight: 0,\r\n\t\t\tonCalculate: function($target_object, $height) {\r\n\t\t\t\t$target_object.css(this.type, $height);\r\n\t\t\t},\r\n\t\t\tonResize: function($target_object, $height) {\r\n\t\t\t\t$target_object.css(methods.settings.type, $height);\r\n\t\t\t}\r\n\t\t},\r\n\t\tchildren: function($object, $target_object, $height) {\r\n\t\t\t$object.children().each(function() {\r\n\t\t\t\tvar $self = $(this);\r\n\r\n\t\t\t\tif($target_object.is($self) || $self.is(':hidden')) return;\r\n\r\n\t\t\t\tif($self.find($target_object).size() > 0) {\r\n\t\t\t\t\t$height -= ($self.outerHeight(true) - $self.outerHeight());\r\n\t\t\t\t\t$height = methods.children($self, $target_object, $height);\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$height -= $self.outerHeight(true);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn $height;\r\n\t\t},\r\n\t\tget_calculated_height: function($object, $target_object) {\r\n\t\t\tvar height = this.get_content_height($object);\r\n\t\t\theight = this.children($object, $target_object, height);\r\n\r\n\t\t\theight -= parseInt(methods.settings.offset);\r\n\r\n\t\t\tif(height < methods.settings.minHeight)\r\n\t\t\t\theight = methods.settings.minHeight;\r\n\r\n\t\t\treturn height;\r\n\t\t},\r\n\t\tget_content_height: function($object) {\r\n\t\t\tvar height = 0;\r\n\r\n\t\t\tif(this.settings.contentHeight) {\r\n\t\t\t\tif((typeof this.settings.contentHeight == \"boolean\") || this.settings.contentHeight == 'auto')\r\n\t\t\t\t\theight = CMS.calculateContentHeight();\r\n\t\t\t\telse\r\n\t\t\t\t\theight = parseInt(this.settings.contentHeight);\r\n\t\t\t} else\r\n\t\t\t\theight = $object.height();\r\n\r\n\t\t\treturn height - 3;\r\n\t\t},\r\n\t\tget_taget_object: function($object, $container) {\r\n\t\t\tif (typeof $object == 'string' || $object instanceof String)\r\n\t\t\t\treturn $($object, $container);\r\n\t\t\telse if($target_object instanceof jQuery)\r\n\t\t\t\treturn $object;\r\n\t\t\telse return false;\r\n\t\t}\r\n\t}\r\n\r\n\t$.fn.calcHeightFor = function($object, options) {\r\n\r\n\t\tmethods.settings = $.extend(methods.settings, options);\r\n\t\tvar $self = $(this);\r\n\r\n\t\t$target_object = methods.get_taget_object($object, this);\r\n\t\tif(!$target_object || $self.find($target_object).size() == 0) return;\r\n\r\n\t\tvar contHeight = methods.get_content_height($self);\r\n\t\tcontHeight = methods.children($(this), $target_object, contHeight);\r\n\r\n\t\treturn contHeight;\r\n\t};\r\n\r\n\t$.fn.setHeightFor = function($object, options) {\r\n\t\tmethods.settings = $.extend(methods.settings, options);\r\n\r\n\t\treturn this.each(function(){\r\n\t\t\tvar $self = $(this);\r\n\r\n\t\t\t$target_object = methods.get_taget_object($object, this);\r\n\t\t\tif(!$target_object || $self.find($target_object).size() == 0) return;\r\n\r\n\t\t\tvar $size = $target_object.size();\r\n\t\t\t$target_object.each(function() {\r\n\t\t\t\tvar $target_object = $(this);\r\n\t\t\t\tvar height = methods.get_calculated_height($self, $target_object) / $size;\r\n\t\t\t\tmethods.settings.onCalculate($target_object, height);\r\n\r\n\t\t\t\tif(methods.settings.updateOnResize) {\r\n\t\t\t\t\t$(window).on('resize', $self, function() {\r\n\t\t\t\t\t\tvar height = methods.get_calculated_height($self, $target_object) / $size;\r\n\t\t\t\t\t\tmethods.settings.onResize($target_object, height);\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t};\r\n})(jQuery);","var CMS = {\r\n\tmodels: {},\r\n\tviews: {},\r\n\tcollections: {},\r\n\troutes: {},\r\n\tsettings: {},\r\n\tpopup_target: null,\r\n\r\n\tmessages: {\r\n\t\tinit: function() {\r\n\t\t\tthis.parse(MESSAGE_ERRORS, 'error');\r\n\t\t\tthis.parse(MESSAGE_SUCCESS);\r\n\r\n\t\t\t$('body').on('show_message', function() {\r\n\t\t\t\tvar messages = _.toArray(arguments).slice(1);\r\n\r\n\t\t\t\tCMS.messages.parse(messages);\r\n\t\t\t});\r\n\t\t},\r\n\t\tparse: function($messages, $type) {\r\n\t\t\tfor(text in $messages) {\r\n\t\t\t\tif(text == '_external') {\r\n\t\t\t\t\tthis.parse($messages[text], $type);\r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif($type == 'error'){\r\n\t\t\t\t\tCMS.error_field(text, decodeURIComponent($messages[text]));\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.show($messages[text], $type);\r\n\t\t\t}\r\n\t\t},\r\n\t\tshow: function(msg, type) {\r\n\t\t\tif(!type) type = 'success';\r\n\r\n\t\t\tvar title = type.charAt(0).toUpperCase() + type.slice(1);\r\n\t\t\twindow.top.$.pnotify({\r\n\t\t\t\ttitle: __(title),\r\n\t\t\t\ttext: decodeURIComponent(msg),\r\n\t\t\t\tsticker: false,\r\n\t\t\t\tnonblock: true,\r\n\t\t\t\tdelay: 4000,\r\n\t\t\t\ttype: type,\r\n\t\t\t\thistory: false\r\n\t\t\t});\r\n\t\t},\r\n\t\terror: function (message) {\r\n\t\t\tthis.show(message, 'error');\r\n\t\t}\r\n\t},\r\n\r\n\tnotifications: {\r\n\t\t_init: false,\r\n\t\t_list: [],\r\n\t\tcounter: 0,\r\n\t\tcontainer: '#notifications-container',\r\n\t\tadd: function(text, created_on, title, type, icon, counter) {\r\n\t\t\tthis._list.push([text, moment(created_on), title, type, icon, counter]);\r\n\t\t},\r\n\t\tupdate_counter: function() {\r\n\t\t\tthis.counter++;\r\n\t\t},\r\n\t\tinit: function() {\r\n\t\t\tthis._build();\r\n\r\n\t\t\t$('.notifications-list', this.container).slimScroll({ height: 250 });\r\n\t\t\tthis._init = true;\r\n\t\t},\r\n\t\t_build_row:function(row) {\r\n\t\t\tvar text = row[0],\r\n\t\t\t\tcreated_on = row[1].fromNow(),\r\n\t\t\t\ttitle = row[2],\r\n\t\t\t\ttype = row[3],\r\n\t\t\t\ticon = row[4];\r\n\r\n\t\t\tvar $notification = $('<div class=\"notification\" />');\r\n\t\t\tif(!type) var type = '';\r\n\r\n\t\t\tif(title)\r\n\t\t\t\t$('<div class=\"notification-title '+type+'\" />').text(__(title).toUpperCase()).prependTo($notification);\r\n\r\n\t\t\tif(text)\r\n\t\t\t\t$('<div class=\"notification-description\" />').html(text).appendTo($notification);\r\n\r\n\t\t\tif(created_on)\r\n\t\t\t\t$('<div class=\"notification-ago margin-xs-vr\" />').html(created_on).appendTo($notification);\r\n\r\n\t\t\tif(icon)\r\n\t\t\t\t$('<div class=\"notification-icon fa fa-'+icon+'\" />').appendTo($notification);\r\n\r\n\t\t\treturn $notification;\r\n\t\t},\r\n\t\t_build: function() {\r\n\t\t\tvar $cont = $('.notifications-list', this.container);\r\n\r\n\t\t\tthis._list = _.sortBy(this._list, function(row) {\r\n\t\t\t\treturn !row[1].unix();\r\n\t\t\t});\r\n\r\n\t\t\tfor(i in this._list) {\r\n\t\t\t\t$notification = this._build_row(this._list[i]);\r\n\t\t\t\t$notification.prependTo($cont);\r\n\r\n\t\t\t\tif(this._list[i][5] !== false)\r\n\t\t\t\t\tthis.update_counter();\r\n\r\n\t\t\t\tdelete(this._list[i]);\r\n\t\t\t}\r\n\r\n\t\t\t$('.counter', this.container).text(parseInt(this.counter));\r\n\t\t}\r\n\t},\r\n\r\n\terror_field: function(name, message) {\r\n\t\tvar gpoups = $('.form-group:not(.has-error)');\r\n\r\n\t\tif(typeof name == 'object')\r\n\t\t\tvar input = name;\r\n\t\telse {\r\n\t\t\tname = name.indexOf('.') !== -1 ? '['+name.replace(/\\./g, '][') + ']' : name;\r\n\t\t\tvar input = $(':input[name*=\"' + name + '\"]', gpoups);\r\n\t\t}\r\n\r\n\t\tinput\r\n\t\t\t.after('<span class=\"help-block error-message\">' + message + '</span>')\r\n\t\t\t.closest('.form-group')\r\n\t\t\t.addClass('has-error');\r\n\r\n\t\tvar $tab_id = input.closest('.tab-pane').prop('id');\r\n\t\tif($tab_id) {\r\n\t\t\tvar $tab = $('.nav-tabs a[href=\"#'+$tab_id+'\"]').addClass('tab-error');\r\n\r\n\t\t\t$tab.closest('.tabdrop').find('.dropdown-toggle').addClass('tab-error');\r\n\t\t}\r\n\r\n\r\n\t},\r\n\tclear_error: function($container, $clear_tabs_error) {\r\n\t\tvar $group = $('.form-group');\r\n\t\tif(typeof $container == 'object')\r\n\t\t\t$group = $('.form-group', $container);\r\n\r\n\t\t$group\r\n\t\t\t.removeClass('has-error')\r\n\t\t\t.find('.error-message')\r\n\t\t\t.remove();\r\n\r\n\t\tif($clear_tabs_error !== false)\r\n\t\t\t$('.nav-tabs li a').removeClass('tab-error');\r\n\t},\r\n\tloader: {\r\n\t\tcounter: 0,\r\n\t\tinit: function (container) {\r\n\t\t\tcontainer = $('body');\r\n\r\n\t\t\treturn $('<div class=\"_loader_container\"><span>' + __('Loading') + '</span></div>')\r\n\t\t\t\t.appendTo(container)\r\n\t\t\t\t.css({\r\n\t\t\t\t\twidth: container.outerWidth(true),\r\n\t\t\t\t\theight: container.outerHeight(true),\r\n\t\t\t\t\ttop: container.offset().top,\r\n\t\t\t\t\tleft: container.offset().left\r\n\t\t\t\t})\r\n\t\t\t\t.prop('id', 'loader' + ++this.counter);\r\n\t\t},\r\n\t\tshow: function (container, speed) {\r\n\t\t\tif(!speed) {\r\n\t\t\t\tspeed = 500;\r\n\t\t\t}\r\n\r\n\t\t\tvar loader = this.init(container).fadeTo(speed, 0.4);\r\n\t\t\treturn this.counter;\r\n\t\t},\r\n\t\thide: function (id) {\r\n\t\t\tif(!id)\r\n\t\t\t\tcont = $('._loader_container');\r\n\t\t\telse\r\n\t\t\t\tcont = $('#loader'+id);\r\n\r\n\t\t\tcont.stop().fadeOut(400, function() {\r\n\t\t\t\t$(this).remove();\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\r\n\t/**\r\n\t * Вычисление высоты контейнера с контентом\r\n\t */\r\n\tcontent_height: null,\r\n\tcalculateContentHeight: function() {\r\n\t\tif(this.content_height != null)\r\n\t\t\treturn this.content_height;\r\n\r\n\t\tvar contentCont = $('#content-wrapper'),\r\n\t\t\theaderCont = $('#main-navbar'),\r\n\t\t\tfooterCont = $('footer'),\r\n\t\t\twindowCont = $(window);\r\n\r\n\t\tvar contentContHeight = windowCont.outerHeight() - headerCont.outerHeight(),\r\n\t\t\tcontentContPadding = contentCont.outerHeight(!$('body').hasClass('iframe')) - contentCont.innerHeight() + ($('body').hasClass('iframe')) ? 0 : 140;\r\n\r\n\t\tthis.content_height = contentContHeight - contentContPadding;\r\n\r\n\t\treturn this.content_height;\r\n\t},\r\n\r\n\ttranslations: {},\r\n\r\n\t// Plugins\r\n\tplugins: {},\r\n\r\n\tfilters: {\r\n\t\tfilters: [],\r\n\t\tswitchedOn: {},\r\n\t\teditors: {},\r\n\t\tadd: function (name, switchOn_handler, switchOff_handler, exec_handler) {\r\n\t\t\tif (switchOn_handler == undefined || switchOff_handler == undefined) {\r\n\t\t\t\tCMS.messages.error('System try to add filter without required callbacks.', name, switchOn_handler, switchOff_handler);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.filters.push([ name, switchOn_handler, switchOff_handler, exec_handler ]);\r\n\t\t},\r\n\t\tswitchOn: function (textarea_id, filter, params) {\r\n\t\t\t$('#' + textarea_id).css('display', 'block');\r\n\t\t\tif (this.filters.length > 0) {\r\n\t\t\t\tvar old_filter = this.get(textarea_id);\r\n\t\t\t\tvar new_filter = null;\r\n\r\n\t\t\t\tfor (var i = 0; i < this.filters.length; i++) {\r\n\t\t\t\t\tif (this.filters[i][0] == filter) {\r\n\t\t\t\t\t\tnew_filter = this.filters[i];\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif(old_filter !== new_filter) {\r\n\t\t\t\t\tthis.switchOff(textarea_id);\r\n\t\t\t\t}\r\n\t\t\t\ttry {\r\n\t\t\t\t\tthis.switchedOn[textarea_id] = new_filter;\r\n\t\t\t\t\tthis.editors[textarea_id] = new_filter[1](textarea_id, params);\r\n\t\t\t\t\t$('#' + textarea_id).trigger('filter:switch:on', this.editors[textarea_id]);\r\n\t\t\t\t}\r\n\t\t\t\tcatch (e) {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tswitchOff: function (textarea_id) {\r\n\t\t\tvar filter = this.get(textarea_id);\r\n\t\t\ttry {\r\n\t\t\t\tif ( filter && typeof(filter[2]) == 'function' ) {\r\n\t\t\t\t\tfilter[2](this.editors[textarea_id], textarea_id);\r\n\t\t\t\t}\r\n\t\t\t\tthis.switchedOn[textarea_id] = null;\r\n\t\t\t\t$('#' + textarea_id).trigger('filter:switch:off');\r\n\t\t\t}\r\n\t\t\tcatch (e) {}\r\n\t\t},\r\n\t\tget: function(textarea_id) {\r\n\t\t\tfor (var key in this.switchedOn) {\r\n\t\t\t\tif ( key == textarea_id )\r\n\t\t\t\t\treturn this.switchedOn[key];\r\n\t\t\t}\r\n\t\t\treturn null;\r\n\t\t},\r\n\t\texec: function(textarea_id, command, data) {\r\n\t\t\tvar filter = this.get(textarea_id);\r\n\t\t\tif( filter && typeof(filter[3]) == 'function' )\r\n\t\t\t\treturn filter[3](this.editors[textarea_id], command, textarea_id, data);\r\n\t\t\treturn false;\r\n\t\t}\r\n\t},\r\n\tfilemanager: {\r\n\t\topen: function(object, type) {\r\n\t\t\treturn $.fancybox.open({\r\n\t\t\t\thref : BASE_URL + '/elfinder/',\r\n\t\t\t\ttype: 'iframe'\r\n\t\t\t}, {\r\n\t\t\t\tautoSize: false,\r\n\t\t\t\twidth: 1000,\r\n\t\t\t\tafterLoad: function() {\r\n\t\t\t\t\tthis.content[0].contentWindow.elfinderInit({\r\n\t\t\t\t\t\tgetFileCallback: function(file) {\r\n\t\t\t\t\t\t\tif(_.isObject(file)) {\r\n\t\t\t\t\t\t\t\tfile = file.url;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(_.isObject(object)) {\r\n\t\t\t\t\t\t\t\tobject.val(file);\r\n\t\t\t\t\t\t\t\twindow.top.$.fancybox.close();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\t\tif(window.top.CMS.filters.exec(object, 'insert', file))\r\n\t\t\t\t\t\t\t\t\twindow.top.$.fancybox.close();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n};\r\n\r\nCMS.ui = {\r\n\t_elements:[],\r\n\tadd:function (module, callback) {\r\n\t\tif (typeof(callback) != 'function')\r\n\t\t\treturn this;\r\n\r\n\t\tCMS.ui._elements.push([module, callback]);\r\n\t\treturn this;\r\n\t},\r\n\tinit:function (module) {\r\n\t\t$('body').trigger('ui.init.before');\r\n\t\tfor (var i = 0; i < CMS.ui._elements.length; i++) {\r\n\t\t\ttry {\r\n\t\t\t\tif(!module)\r\n\t\t\t\t\tCMS.ui._elements[i][1]();\r\n\t\t\t\telse if(_.isArray(module) && _.indexOf(module, CMS.ui._elements[i][0]) != -1 )\r\n\t\t\t\t\tCMS.ui._elements[i][1]();\r\n\t\t\t\telse if (module == CMS.ui._elements[i][0])\r\n\t\t\t\t\tCMS.ui._elements[i][1]();\r\n\t\t\t} catch (e) {}\r\n\t\t}\r\n\t\t$('body').trigger('ui.init.after');\r\n\t}\r\n};\r\n\r\nCMS.controllers = {\r\n\t_controllers: [],\r\n\tadd: function (rout, callback) {\r\n\t\tif (typeof(callback) != 'function')\r\n\t\t\treturn this;\r\n\r\n\t\tif (typeof(rout) == 'object')\r\n\t\t\tfor (var i = 0; i < rout.length; i++)\r\n\t\t\t\tCMS.controllers._controllers.push([rout[i], callback]);\r\n\t\telse if (typeof(rout) == 'string')\r\n\t\t\tCMS.controllers._controllers.push([rout, callback]);\r\n\r\n\t\tCMS.controllers._controllers.reverse();\r\n\t\treturn this;\r\n\t},\r\n\tcall: function () {\r\n\t\t$('body').trigger('controller.call.before');\r\n\r\n\t\tvar body_id = $('body:first').attr('id');\r\n\t\tfor (var i = 0; i < CMS.controllers._controllers.length; i++)\r\n\t\t\tif (body_id == 'body.' + CMS.controllers._controllers[i][0])\r\n\t\t\t\tCMS.controllers._controllers[i][1](CMS.controllers._controllers[i][0]);\r\n\r\n\t\t$('body').trigger('controller.call.after');\r\n\t}\r\n}","CMS.ui.add('flags', function () {\r\n\t$('body').on('click', '.flags .label', function (e) {\r\n\t\tvar $src = $(this).parent().data('target');\r\n\t\tif (!$src) $src = $(this).parent().prevAll(':input');\r\n\t\telse $src = $($src);\r\n\r\n\t\tvar $container = $(this).parent();\r\n\t\tvar $append = $container.data('append') == true;\r\n\t\tvar $array = $container.data('array') == true;\r\n\t\tvar $value = $(this).data('value');\r\n\r\n\t\tif ($array) $value = $value.split(',');\r\n\r\n\t\tif ($append) {\r\n\t\t\tif ($src.is(':input')) {\r\n\t\t\t\tvar $values = $src.val().split(', ');\r\n\t\t\t\t$values.push($value);\r\n\t\t\t\t$values = _.uniq(_.compact($values));\r\n\t\t\t\t$src.val($values.join(', '));\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tvar $values = $src.text().split(', ');\r\n\t\t\t\t$values.push($value);\r\n\t\t\t\t$values = _.uniq(_.compact($values));\r\n\t\t\t\t$src.text($values.join(', '));\r\n\t\t\t}\r\n\r\n\t\t\t$('.label', $container).removeClass('label-success');\r\n\t\t\tfor (i in $values) {\r\n\t\t\t\t$('.label[data-value=\"' + $values[i] + '\"]').addClass('label-success');\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\t$('.label', $container).removeClass('label-success');\r\n\t\t\t$(this).addClass('label-success');\r\n\r\n\t\t\tif ($src.hasClass('select2-offscreen')) {\r\n\t\t\t\t$src.select2(\"val\", $value);\r\n\t\t\t}\r\n\t\t\telse if ($src.is(':input')) {\r\n\t\t\t\t$src.val($value);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\t$src.text($value);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\te.preventDefault();\r\n\t});\r\n}).add('btn-confirm', function () {\r\n\t$('body').on('click', '.btn-confirm', function (e) {\r\n\t\tif (!confirm(__('Are you sure?')))\r\n\t\t\te.preventDefault();\r\n\t});\r\n}).add('calculate_height', function () {\r\n\tCMS.calculateContentHeight();\r\n\r\n\t$(window).resize(function () {\r\n\t\tCMS.content_height = null;\r\n\t\tCMS.calculateContentHeight();\r\n\t});\r\n}).add('panel-toggler', function () {\r\n\tvar icon_open = 'fa-chevron-up',\r\n\t\ticon_close = 'fa-chevron-down';\r\n\r\n\t$('.panel-toggler')\r\n\t\t.click(function () {\r\n\t\t\tvar $self = $(this);\r\n\r\n\t\t\tif ($self.data('target-')) {\r\n\t\t\t\t$_cont = $($self.data('target-'));\r\n\t\t\t} else {\r\n\t\t\t\tvar $_cont = $self.next('.panel-spoiler');\r\n\t\t\t}\r\n\r\n\t\t\t$_cont.slideToggle('fast', function () {\r\n\t\t\t\tvar $icon = $self.find('.panel-toggler-icon');\r\n\t\t\t\tif ($(this).is(':hidden')) {\r\n\t\t\t\t\t$icon.removeClass(icon_open).addClass(icon_close).addClass('fa');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t$icon.addClass(icon_open).removeClass(icon_close).addClass('fa');\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\treturn false;\r\n\t\t}).each(function () {\r\n\t\t\tif ($(this).data('hash') == window.location.hash.substring(1)) {\r\n\t\t\t\t$(this).click();\r\n\t\t\t\t$('html,body').animate({scrollTop: $(this).offset().top}, 'slow');\r\n\t\t\t}\r\n\t\t})\r\n\t\t.append('<div class=\"panel-heading-controls\"><span class=\"text-sm\"><i class=\"panel-toggler-icon fa ' + icon_close + '\" />&nbsp;&nbsp;&nbsp;' + __('Toggle') + '</span></div>');\r\n\r\n}).add('datepicker', function () {\r\n\r\n\tvar options = {\r\n\t\tformat: 'Y-m-d H:i:00',\r\n\t\tlang: LOCALE,\r\n\t\tdayOfWeekStart: 1\r\n\t};\r\n\r\n\t$('.datetimepicker').each(function () {\r\n\t\tvar local_options = $.extend({}, options);\r\n\t\tvar $self = $(this);\r\n\r\n\t\tif ($self.data('range-max-input')) {\r\n\t\t\tlocal_options['onShow'] = function (ct) {\r\n\t\t\t\tvar $input = $($self.data('range-max-input'));\r\n\t\t\t\tthis.setOptions({\r\n\t\t\t\t\tmaxDate: $input.val() ? $input.val() : false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ($self.data('range-min-input')) {\r\n\t\t\tlocal_options['onShow'] = function (ct) {\r\n\t\t\t\tvar $input = $($self.data('range-min-input'));\r\n\t\t\t\tthis.setOptions({\r\n\t\t\t\t\tminDate: $input.val() ? $input.val() : false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$self.datetimepicker(local_options);\r\n\t});\r\n\r\n\t$('.datepicker').each(function () {\r\n\t\tvar local_options = $.extend(options, {\r\n\t\t\ttimepicker: false,\r\n\t\t\tformat: 'Y-m-d'\r\n\t\t});\r\n\r\n\t\tvar $self = $(this);\r\n\r\n\t\tif ($self.data('range-max-input')) {\r\n\t\t\tlocal_options['onShow'] = function (ct) {\r\n\t\t\t\tvar $input = $($self.data('range-max-input'));\r\n\t\t\t\tthis.setOptions({\r\n\t\t\t\t\tmaxDate: $input.val() ? $input.val() : false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else if ($self.data('range-min-input')) {\r\n\t\t\tlocal_options['onShow'] = function (ct) {\r\n\t\t\t\tvar $input = $($self.data('range-min-input'));\r\n\t\t\t\tthis.setOptions({\r\n\t\t\t\t\tminDate: $input.val() ? $input.val() : false\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$self.datetimepicker(local_options);\r\n\t});\r\n\r\n\t$('.timepicker').each(function () {\r\n\t\tvar local_options = $.extend(options, {\r\n\t\t\ttimepicker: true,\r\n\t\t\tdatepicker: false,\r\n\t\t\tformat: 'H:i:s'\r\n\t\t});\r\n\r\n\t\tvar $self = $(this);\r\n\r\n\t\t$self.datetimepicker(local_options);\r\n\t});\r\n}).add('slug', function () {\r\n\r\n\tvar slugs = {};\r\n\t$('body').on('keyup', '.slug-generator', function () {\r\n\t\tvar $slug_cont = $('.slug');\r\n\r\n\t\tif ($(this).data('slug')) {\r\n\t\t\t$slug_cont = $($(this).data('slug'));\r\n\t\t}\r\n\r\n\t\t$separator = '-';\r\n\t\tif ($(this).data('separator')) {\r\n\t\t\t$separator = $(this).data('separator');\r\n\t\t}\r\n\r\n\t\tif ($slug_cont.is(':input') && $slug_cont.val() == '')\r\n\t\t\tslugs[$slug_cont] = true;\r\n\r\n\t\t$slug_cont.on('keyup', function () {\r\n\t\t\tslugs[$slug_cont] = false;\r\n\t\t});\r\n\r\n\t\tif (slugs[$slug_cont]) {\r\n\t\t\tvar slug = getSlug($(this).val(), {\r\n\t\t\t\tseparator: $separator\r\n\t\t\t});\r\n\r\n\t\t\tif ($slug_cont.is(':input'))\r\n\t\t\t\t$slug_cont.val(slug);\r\n\t\t\telse\r\n\t\t\t\t$slug_cont.text(slug);\r\n\t\t}\r\n\t});\r\n\r\n\t$('body').on('keyup', '.slug', function () {\r\n\t\tvar c = String.fromCharCode(event.keyCode);\r\n\t\tvar isWordcharacter = c.match(/\\w/);\r\n\r\n\t\tif (!isWordcharacter && event.keyCode != '32') return;\r\n\r\n\t\t$separator = '-';\r\n\t\tif ($(this).data('separator')) {\r\n\t\t\t$separator = $(this).data('separator');\r\n\t\t}\r\n\r\n\t\tvar slug = getSlug($(this).val(), {\r\n\t\t\tseparator: $separator\r\n\t\t});\r\n\r\n\t\t$(this).val(slug);\r\n\t\tslugs[$(this)] = false;\r\n\r\n\t\tif ($(this).val() == '')\r\n\t\t\tslugs[$(this)] = true;\r\n\t});\r\n\r\n}).add('dropzone', function () {\r\n\t// Disable auto discover for all elements:\r\n\tDropzone.autoDiscover = false;\r\n\r\n\tif (!$('.dropzone').length) {\r\n\t\treturn;\r\n\t}\r\n\t;\r\n\r\n\tCMS.uploader = new Dropzone('.dropzone', {\r\n\t\tsuccess: function (file, r) {\r\n\t\t\tvar response = $.parseJSON(r);\r\n\t\t\tvar self = this;\r\n\t\t\tif (response.code != 200) {\r\n\t\t\t\tCMS.messages.error(response.message);\r\n\r\n\t\t\t} else if (response.message) {\r\n\t\t\t\tCMS.messages.show(response.message);\r\n\t\t\t}\r\n\r\n\t\t\t$(file.previewElement).fadeOut(500, function () {\r\n\t\t\t\tself.removeFile(file);\r\n\t\t\t});\r\n\t\t},\r\n\t\terror: function (file, message) {\r\n\t\t\tCMS.messages.error(message);\r\n\t\t\tthis.removeFile(file);\r\n\t\t},\r\n\t\tdictDefaultMessage: __(\"Drop files here to upload\"),\r\n\t\tdictFallbackMessage: __(\"Your browser does not support drag'n'drop file uploads.\"),\r\n\t\tdictFallbackText: __(\"Please use the fallback form below to upload your files like in the olden days.\"),\r\n\t\tdictFileTooBig: __(\"File is too big ({{filesize}}MB). Max filesize: {{maxFilesize}}MB.\"),\r\n\t\tdictInvalidFileType: __(\"You can't upload files of this type.\"),\r\n\t\tdictResponseError: __(\"Server responded with {{statusCode}} code.\"),\r\n\t\tdictCancelUpload: __(\"Cancel upload\"),\r\n\t\tdictCancelUploadConfirmation: __(\"Are you sure you want to cancel this upload?\"),\r\n\t\tdictRemoveFile: __(\"Remove file\"),\r\n\t\tdictMaxFilesExceeded: __(\"You can only upload {{maxFiles}} files.\"),\r\n\t});\r\n}).add('fancybox', function () {\r\n\t$(\".fancybox-image\").fancybox();\r\n}).add('popup', function () {\r\n\t$(\".popup\").fancybox({\r\n\t\tfitToView: true,\r\n\t\tautoSize: false,\r\n\t\twidth: '99%',\r\n\t\theight: '99%',\r\n\t\topenEffect: 'none',\r\n\t\tcloseEffect: 'none',\r\n\t\tbeforeLoad: function () {\r\n\t\t\tvar url = this.href.split(\"?\")[0];\r\n\t\t\tvar query_string = $.query.load(this.href).set('type', 'iframe').toString();\r\n\r\n\t\t\tthis.href = url + query_string;\r\n\t\t\tvar title = this.element.data('title');\r\n\t\t\tif (title !== false) {\r\n\t\t\t\tthis.title = title ? title : this.element.html();\r\n\t\t\t}\r\n\r\n\t\t\tCMS.popup_target = this.element;\r\n\t\t},\r\n\t\thelpers: {\r\n\t\t\ttitle: {\r\n\t\t\t\ttype: 'inside',\r\n\t\t\t\tposition: 'top'\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tvar method = ACTION == 'add' ? 'put' : 'post';\r\n\tvar $form_actions = $('.iframe .form-actions');\r\n\r\n\tvar $action = CONTROLLER;\r\n\r\n\tif ((typeof API_FORM_ACTION != 'undefined'))\r\n\t\t$action = API_FORM_ACTION;\r\n\r\n\t$('.btn-save', $form_actions).on('click', function (e) {\r\n\t\tvar $data = $('form').serializeObject();\r\n\t\tApi[method]($action, $data);\r\n\r\n\t\te.preventDefault();\r\n\t});\r\n\r\n\t$('.btn-save-close', $form_actions).on('click', function (e) {\r\n\t\tvar $data = $('form').serializeObject();\r\n\t\tApi[method]($action, $data, function (response) {\r\n\t\t\twindow.top.$.fancybox.close();\r\n\t\t});\r\n\t\te.preventDefault();\r\n\t});\r\n\r\n\t$('.btn-close', $form_actions).on('click', function (e) {\r\n\t\twindow.top.$.fancybox.close();\r\n\t\te.preventDefault();\r\n\t});\r\n\r\n\tif (CLOSE_POPUP)\r\n\t\tsetTimeout(function () {\r\n\t\t\twindow.top.$.fancybox.close();\r\n\t\t}, 1000);\r\n}).add('select2', function () {\r\n\tif (!TAG_SEPARATOR) var TAG_SEPARATOR = ',';\r\n\r\n\t$('select').not('.no-script').select2();\r\n\t$('.tags').select2({\r\n\t\ttags: [],\r\n\t\tminimumInputLength: 0,\r\n\t\ttokenSeparators: [TAG_SEPARATOR],\r\n\t\tcreateSearchChoice: function (term, data) {\r\n\t\t\tif ($(data).filter(function () {\r\n\t\t\t\t\treturn this.text.localeCompare(term) === 0;\r\n\t\t\t\t}).length === 0) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: term,\r\n\t\t\t\t\ttext: term\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t},\r\n\t\tmultiple: true,\r\n\t\tajax: {\r\n\t\t\turl: Api.build_url('tags'),\r\n\t\t\tdataType: \"json\",\r\n\t\t\tdata: function (term, page) {\r\n\t\t\t\treturn {term: term};\r\n\t\t\t},\r\n\t\t\tresults: function (data, page) {\r\n\t\t\t\tif (!data.response) return {results: []};\r\n\t\t\t\treturn {results: data.response};\r\n\t\t\t}\r\n\t\t},\r\n\t\tinitSelection: function (element, callback) {\r\n\t\t\tvar data = [];\r\n\r\n\t\t\tvar tags = element.val().split(\",\");\r\n\t\t\tfor (i in tags) {\r\n\t\t\t\tdata.push({\r\n\t\t\t\t\tid: tags[i],\r\n\t\t\t\t\ttext: tags[i]\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\t;\r\n\t\t\tcallback(data);\r\n\t\t}\r\n\t});\r\n}).add('ajax_form', function () {\r\n\t$('body').on('submit', 'form.form-ajax', function () {\r\n\t\tvar $self = $(this),\r\n\t\t\t$buttons = $('button', $self).attr('disabled', 'disabled'),\r\n\t\t\t$action = $self.attr('action');\r\n\r\n\t\tif ($self.data('ajax-action'))\r\n\t\t\t$action = $self.data('ajax-action');\r\n\r\n\t\tApi.post($action, $self.serialize(), function (response) {\r\n\t\t\tsetTimeout(function () {\r\n\t\t\t\t$buttons.removeAttr('disabled');\r\n\t\t\t}, 5000);\r\n\t\t});\r\n\r\n\t\treturn false;\r\n\t});\r\n}).add('filemanager', function () {\r\n\tvar $input = $(':input[data-filemanager]');\r\n\r\n\t$input.each(function () {\r\n\t\tvar $self = $(this);\r\n\t\tvar $btn = $('<button class=\"btn\" type=\"button\"><i class=\"fa fa-folder-open\"></i></button>');\r\n\t\tif ($self.next().hasClass('input-group-btn')) {\r\n\t\t\t$btn.prependTo($self.next());\r\n\t\t} else {\r\n\t\t\t$btn.insertAfter($self);\r\n\t\t}\r\n\r\n\t\t$btn.on('click', function () {\r\n\t\t\tCMS.filemanager.open($self);\r\n\t\t});\r\n\r\n\t\t$self.removeAttr('data-filemanager');\r\n\t})\r\n\r\n\t$('body').on('click', '.btn-filemanager', function () {\r\n\t\tvar el = $(this).data('el');\r\n\t\tvar type = $(this).data('type');\r\n\r\n\t\tif (!el) return false;\r\n\r\n\t\tCMS.filemanager.open(el, type);\r\n\t\treturn false;\r\n\t});\r\n}).add('hotkeys', function () {\r\n\t$('*[data-hotkeys]').each(function () {\r\n\t\tvar $self = $(this),\r\n\t\t\t$hotkeys = $self.data('hotkeys'),\r\n\t\t\t$callback = function (e) {\r\n\t\t\t\te.preventDefault();\r\n\t\t\t};\r\n\r\n\t\tif ($self.is(':submit') || $self.hasClass('popup')) {\r\n\t\t\t$callback = function (e) {\r\n\t\t\t\t$self.trigger('click');\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t} else if ($self.attr('href')) {\r\n\r\n\t\t\t$callback = function (e) {\r\n\t\t\t\tif ($self.hasClass('btn-confirm')) {\r\n\t\t\t\t\tif (!confirm(__('Are you sure?')))\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t\twindow.location = $self.attr('href');\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t} else if ($self.hasClass('panel-toggler')) {\r\n\t\t\t$callback = function (e) {\r\n\t\t\t\t$self.trigger('click');\r\n\t\t\t\t$('body').scrollTo($self);\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t} else if ($self.hasClass('nav-tabs')) {\r\n\t\t\t$callback = function (e) {\r\n\t\t\t\tvar $current_li = $self.find('li.active'),\r\n\t\t\t\t\t$next_li = $current_li.next();\r\n\r\n\t\t\t\tif ($next_li.hasClass('nav-section')) {\r\n\t\t\t\t\t$next_li = $next_li.next();\r\n\t\t\t\t}\r\n\t\t\t\tif ($current_li.is(':last-child')) {\r\n\t\t\t\t\t$next_li = $self.parent().find('li:first-child');\r\n\t\t\t\t}\r\n\r\n\t\t\t\t$next_li.find('a').trigger('click');\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t} else if ($self.is(':checkbox')) {\r\n\t\t\t$callback = function (e) {\r\n\t\t\t\tif ($self.prop(\"checked\"))\r\n\t\t\t\t\t$self.uncheck().trigger('change');\r\n\t\t\t\telse\r\n\t\t\t\t\t$self.check().trigger('change');\r\n\t\t\t\te.preventDefault();\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t$(document).on('keydown', null, $hotkeys, $callback);\r\n\t});\r\n\r\n\t// GLOBAL HOTKEYS\r\n\t$(document).on('keydown', null, 'shift+f1', function (e) {\r\n\t\tApi.delete('cache');\r\n\t\te.preventDefault();\r\n\t});\r\n\r\n\t$(document).on('keydown', null, 'shift+f3', function (e) {\r\n\t\tApi.get('search.update_index');\r\n\t\te.preventDefault();\r\n\t});\r\n\r\n\t$(document).on('keydown', null, 'shift+f4', function (e) {\r\n\t\tApi.post('layout.rebuild');\r\n\t\te.preventDefault();\r\n\t});\r\n\r\n\t$(document).on('keydown', null, 'ctrl+shift+l', function (e) {\r\n\t\twindow.location = '/backend/logout';\r\n\t\te.preventDefault();\r\n\t});\r\n}).add('api_buttons', function () {\r\n\t$('.btn[data-api-url]').on('click', function (e) {\r\n\t\te.preventDefault();\r\n\t\tvar $self = $(this);\r\n\r\n\t\tvar $callback = function (response) {\r\n\t\t};\r\n\t\tvar $url = $self.data('api-url');\r\n\t\tif (!$url) return;\r\n\r\n\t\tvar $callback = $self.data('callback');\r\n\t\tif ($callback)\r\n\t\t\t$callback = window[$callback];\r\n\t\telse\r\n\t\t\t$callback = function (response) {\r\n\t\t\t};\r\n\r\n\t\tvar $method = $self.data('method'),\r\n\t\t\t$reload = $self.data('reload'),\r\n\t\t\t$params = $self.data('params');\r\n\r\n\t\tif ($reload) {\r\n\t\t\tif ($reload === true)\r\n\t\t\t\t$callback = function () {\r\n\t\t\t\t\twindow.location = ''\r\n\t\t\t\t}\r\n\t\t\telse\r\n\t\t\t\t$callback = function () {\r\n\t\t\t\t\twindow.location = $reload\r\n\t\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (!$method)\r\n\t\t\t$method = 'GET';\r\n\r\n\t\tApi.request($method, $url, $params, $callback);\r\n\t})\r\n}).add('select_all_checkbox', function () {\r\n\t$(document).on('change', 'input[name=\"check_all\"]', function (e) {\r\n\t\tvar $self = $(this),\r\n\t\t\t$target = $self.data('target');\r\n\r\n\t\tif (!$target) return false;\r\n\r\n\t\t$($target).prop(\"checked\", this.checked).trigger('change');\r\n\t\te.preventDefault();\r\n\t});\r\n}).add('icon', function () {\r\n\t$('*[data-icon]').add('*[data-icon-prepend]').each(function () {\r\n\t\t$(this).html('<i class=\"fa fa-' + $(this).data('icon') + '\"></i> ' + $(this).html());\r\n\t\t$(this).removeAttr('data-icon-prepend').removeAttr('data-icon');\r\n\t});\r\n\r\n\t$('*[data-icon-append]').each(function () {\r\n\t\t$(this).html($(this).html() + '&nbsp&nbsp<i class=\"fa fa-' + $(this).data('icon-append') + '\"></i>');\r\n\t\t$(this).removeAttr('data-icon-append');\r\n\t});\r\n}).add('tabbable', function () {\r\n\t$('.tabbable').each(function (i) {\r\n\t\tvar $self = $(this);\r\n\r\n\t\tif ($('> .panel-heading', $self).size() > 0) {\r\n\t\t\tvar $tabs_content = $('<div class=\"tab-content no-padding-t\" />').prependTo($self);\r\n\t\t\tvar $tabs_ul = $('<ul class=\"nav nav-tabs tabs-generated\" style=\"position:relative; margin-top: 10px;\" />').insertBefore($self);\r\n\t\t\t$('> .panel-heading', $self).each(function (j) {\r\n\t\t\t\tvar $li = $('<li></li>').appendTo($tabs_ul);\r\n\t\t\t\tvar $content = $(this).nextUntil('.panel-heading').not('.panel-footer').removeClass('panel-spoiler');\r\n\r\n\t\t\t\t$(this).find('.panel-title').removeClass('panel-title');\r\n\t\t\t\t$(this).find('.panel-heading-controls').remove();\r\n\t\t\t\tvar $content_container = $('<div class=\"tab-pane\" id=\"panel-tab-' + i + '' + '' + j + '\" />').append($content).appendTo($tabs_content);\r\n\t\t\t\t$('<a href=\"#panel-tab-' + i + '' + '' + j + '\" data-toggle=\"tab\"></a>').html($(this).html()).appendTo($li);\r\n\r\n\t\t\t\t$(this).remove();\r\n\t\t\t});\r\n\r\n\t\t\t$('li a', $tabs_ul).on('click', function () {\r\n\t\t\t\twindow.location.hash = $(this).attr('href');\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tif (window.location.hash.length > 0 && $('.tabs-generated li a[href=' + window.location.hash + ']').length > 0) {\r\n\t\t$('li a[href=' + window.location.hash + ']').parent().addClass('active');\r\n\t\t$('.tabbable .tab-pane' + window.location.hash).addClass('active');\r\n\t} else {\r\n\t\t$('.tabs-generated li:first-child').addClass('active');\r\n\t\t$('.tabbable .tab-pane:first-child').addClass('active');\r\n\t}\r\n\r\n\t$('.tabs-generated').tabdrop();\r\n});","var Api = {\r\n\t_response: null,\r\n\tget: function(uri, data, callback, async) {\r\n\t\tvar request = this.request('GET', uri, data, callback, async);\r\n\r\n\t\tif(async === false)\r\n\t\t\tthis._response = request.responseJSON;\r\n\r\n\t\treturn this.response();\r\n\t},\r\n\tpost: function(uri, data, callback, async) {\r\n\t\tvar request = this.request('POST', uri, data, callback, async);\r\n\r\n\t\tif(async === false)\r\n\t\t\tthis._response = request.responseJSON;\r\n\r\n\t\treturn this.response();\r\n\t},\r\n\tput: function(uri, data, callback, async) {\r\n\t\tvar request = this.request('PUT', uri, data, callback, async);\r\n\r\n\t\tif(async === false)\r\n\t\t\tthis._response = request.responseJSON;\r\n\r\n\t\treturn this.response();\r\n\t},\r\n\t'delete': function(uri, data, callback, async) {\r\n\t\tvar request = this.request('DELETE', uri, data, callback, async);\r\n\r\n\t\tif(async === false)\r\n\t\t\tthis._response = request.responseJSON;\r\n\r\n\t\treturn this.response();\r\n\t},\r\n\trequest: function(method, uri, data, callback, async) {\r\n\t\turl = uri;\r\n\r\n\t\tvar obj = new Object();\r\n\r\n\t\t$.ajaxSetup({\r\n\t\t\tcontentType : 'application/json'\r\n\t\t});\r\n\r\n\t\tif(data instanceof jQuery) {\r\n\t\t\tdata = Api.serializeObject(data);\r\n\t\t}\r\n\r\n\t\tif(typeof(data) == 'object' && method != 'GET') {\r\n\t\t\tdata = JSON.stringify(data);\r\n\t\t}\r\n\r\n\t\treturn $.ajax({\r\n\t\t\ttype: method,\r\n\t\t\turl: url,\r\n\t\t\tdata: data,\r\n\t\t\tdataType: 'json',\r\n\t\t\tasync: async !== false\r\n\t\t})\r\n\t\t\t.done(function(response) {\r\n\t\t\t\tthis._response = response;\r\n\r\n\t\t\t\tif(response.code != 200) {\r\n\t\t\t\t\treturn Api.exception(response, callback);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tvar $event = method + url.replace(SITE_URL, \":\").replace(/\\//g, ':');\r\n\t\t\t\twindow.top.$('body').trigger($event.toLowerCase(), [this._response.response]);\r\n\r\n\t\t\t\tif(typeof(callback) == 'function') callback(this._response);\r\n\t\t\t})\r\n\t\t\t.fail(function() {\r\n\t\t\t\tif(typeof(callback) == 'function') callback();\r\n\t\t\t});\r\n\t},\r\n\tserializeObject: function(form) {\r\n\t\tvar self = form,\r\n\t\t\tjson = {},\r\n\t\t\tpush_counters = {},\r\n\t\t\tpatterns = {\r\n\t\t\t\t\"validate\": /^[a-zA-Z][a-zA-Z0-9_]*(?:\\[(?:\\d*|[a-zA-Z0-9_]+)\\])*$/,\r\n\t\t\t\t\"key\":      /[a-zA-Z0-9_]+|(?=\\[\\])/g,\r\n\t\t\t\t\"push\":     /^$/,\r\n\t\t\t\t\"fixed\":    /^\\d+$/,\r\n\t\t\t\t\"named\":    /^[a-zA-Z0-9_]+$/\r\n\t\t\t};\r\n\r\n\t\tvar build = function(base, key, value){\r\n\t\t\tbase[key] = value;\r\n\t\t\treturn base;\r\n\t\t};\r\n\r\n\t\tvar push_counter = function(key){\r\n\t\t\tif(push_counters[key] === undefined){\r\n\t\t\t\tpush_counters[key] = 0;\r\n\t\t\t}\r\n\t\t\treturn push_counters[key]++;\r\n\t\t};\r\n\r\n\t\t$.each(form.serializeArray(), function(){\r\n\t\t\t// skip invalid keys\r\n\t\t\tif(!patterns.validate.test(this.name)){\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar k,\r\n\t\t\t\tkeys = this.name.match(patterns.key),\r\n\t\t\t\tmerge = this.value,\r\n\t\t\t\treverse_key = this.name;\r\n\r\n\t\t\twhile((k = keys.pop()) !== undefined){\r\n\t\t\t\t// adjust reverse_key\r\n\t\t\t\treverse_key = reverse_key.replace(new RegExp(\"\\\\[\" + k + \"\\\\]$\"), '');\r\n\t\t\t\t// push\r\n\t\t\t\tif(k.match(patterns.push)){\r\n\t\t\t\t\tmerge = build([], push_counter(reverse_key), merge);\r\n\t\t\t\t}\r\n\t\t\t\t// fixed\r\n\t\t\t\telse if(k.match(patterns.fixed)){\r\n\t\t\t\t\tmerge = build([], k, merge);\r\n\t\t\t\t}\r\n\t\t\t\t// named\r\n\t\t\t\telse if(k.match(patterns.named)){\r\n\t\t\t\t\tmerge = build({}, k, merge);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tjson = $.extend(true, json, merge);\r\n\t\t});\r\n\t\treturn json;\r\n\t},\r\n\texception: function(response, callback) {\r\n\t\tif(typeof(callback) == 'function')\r\n\t\t\tcallback(response);\r\n\r\n\t\tswitch (response.code) {\r\n\t\t\tcase 220: // Page not found\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 130: // Unknown\r\n\t\t\tcase 140: // Token\r\n\t\t\tcase 120: // Permissions\r\n\t\t\t\tnoty({text: response.message, type: 'error', icon: 'fa fa-exclamation-triangle'});\r\n\t\t\t\tbreak;\r\n\t\t\tcase 120: // Validation\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 110: // Missing param\r\n\r\n\t\t\t\tbreak;\r\n\t\t\tcase 301: // Redirect\r\n\t\t\tcase 302: // Redirect\r\n\t\t\t\twindow.location.href = response.targetUrl;\r\n\t\t\t\tbreak;\r\n\r\n\t\t}\r\n\t},\r\n\tresponse: function() {\r\n\t\treturn this._response;\r\n\t}\r\n};","$(function() {\r\n\t$.ajaxSetup({\r\n\t\theaders: {\r\n\t\t\t'X-CSRF-TOKEN': $('meta[name=\"csrf-token\"]').attr('content')\r\n\t\t}\r\n\t});\r\n\r\n\tCMS.ui.init();\r\n\tKodiCMS.start(null, CMS.settings);\r\n\r\n\tCMS.controllers.call();\r\n\r\n\tsetTimeout(function() {\r\n\t\tCMS.notifications.init();\r\n\t}, 1500);\r\n\r\n\tCMS.messages.init();\r\n});"],"sourceRoot":"/source/"}